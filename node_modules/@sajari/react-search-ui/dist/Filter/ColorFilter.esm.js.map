{"version":3,"file":"ColorFilter.esm.js","sources":["../../src/Filter/ColorFilter.tsx"],"sourcesContent":["import { Swatch } from '@sajari/react-components';\nimport { useFilter } from '@sajari/react-hooks';\nimport { isEmpty } from '@sajari/react-sdk-utils';\nimport React, { useMemo } from 'react';\n\nimport { useSearchUIContext } from '../ContextProvider';\nimport Box from './Box';\nimport { ColorFilterProps } from './types';\n\nconst { colorKeys } = Swatch;\n\nconst ColorFilter = ({ name, title }: Omit<ColorFilterProps, 'type'>) => {\n  const { options, selected, setSelected, reset } = useFilter(name);\n  const { customClassNames, disableDefaultStyles = false } = useSearchUIContext();\n  const optionKeys = useMemo(() => options.map((o) => o.label), [JSON.stringify(options)]);\n  const filtered = useMemo(() => colorKeys.filter((c) => optionKeys.some((o) => c.toLowerCase() === o.toLowerCase())), [\n    JSON.stringify(optionKeys),\n  ]);\n\n  const children = useMemo(\n    () =>\n      filtered.map((color) => {\n        const Component = Swatch.Color[color];\n        return <Component key={color} />;\n      }),\n    [JSON.stringify(filtered)],\n  );\n\n  if (isEmpty(filtered) && isEmpty(selected)) {\n    return null;\n  }\n\n  return (\n    <Box title={title} showReset={selected.length > 0} onReset={reset}>\n      <Swatch\n        checkedColors={selected}\n        onChange={setSelected}\n        className={customClassNames.filter?.color?.container}\n        colorClassName={customClassNames.filter?.color?.item}\n        colorCheckedClassName={customClassNames.filter?.color?.itemChecked}\n        disableDefaultStyles={disableDefaultStyles}\n      >\n        {children}\n      </Swatch>\n    </Box>\n  );\n};\n\nexport default ColorFilter;\nexport type { ColorFilterProps };\n"],"names":["colorKeys","Swatch","ColorFilter","name","title","useFilter","options","selected","setSelected","reset","useSearchUIContext","customClassNames","disableDefaultStyles","optionKeys","useMemo","map","o","label","JSON","stringify","filtered","filter","c","some","toLowerCase","children","color","Component","Color","_jsx","isEmpty","length","container","item","itemChecked"],"mappings":";;;;;;;;IASQA,YAAcC,OAAdD;;AAER,IAAME,WAAW,GAAG,SAAdA,WAAc;;;MAAGC,YAAAA;MAAMC,aAAAA;;mBACuBC,SAAS,CAACF,IAAD;MAAnDG,qBAAAA;MAASC,sBAAAA;MAAUC,yBAAAA;MAAaC,mBAAAA;;4BACmBC,kBAAkB;MAArEC,uCAAAA;kDAAkBC;MAAAA,0DAAuB;;AACjD,MAAMC,UAAU,GAAGC,OAAO,CAAC;AAAA,WAAMR,OAAO,CAACS,GAAR,CAAY,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,KAAT;AAAA,KAAZ,CAAN;AAAA,GAAD,EAAoC,CAACC,IAAI,CAACC,SAAL,CAAeb,OAAf,CAAD,CAApC,CAA1B;AACA,MAAMc,QAAQ,GAAGN,OAAO,CAAC;AAAA,WAAMd,SAAS,CAACqB,MAAV,CAAiB,UAACC,CAAD;AAAA,aAAOT,UAAU,CAACU,IAAX,CAAgB,UAACP,CAAD;AAAA,eAAOM,CAAC,CAACE,WAAF,OAAoBR,CAAC,CAACQ,WAAF,EAA3B;AAAA,OAAhB,CAAP;AAAA,KAAjB,CAAN;AAAA,GAAD,EAA6F,CACnHN,IAAI,CAACC,SAAL,CAAeN,UAAf,CADmH,CAA7F,CAAxB;AAIA,MAAMY,QAAQ,GAAGX,OAAO,CACtB;AAAA,WACEM,QAAQ,CAACL,GAAT,CAAa,UAACW,KAAD;AACX,UAAMC,SAAS,GAAG1B,MAAM,CAAC2B,KAAP,CAAaF,KAAb,CAAlB;AACA,aAAOG,IAAC,SAAD,MAAgBH,KAAhB,CAAP;AACD,KAHD,CADF;AAAA,GADsB,EAMtB,CAACR,IAAI,CAACC,SAAL,CAAeC,QAAf,CAAD,CANsB,CAAxB;;AASA,MAAIU,OAAO,CAACV,QAAD,CAAP,IAAqBU,OAAO,CAACvB,QAAD,CAAhC,EAA4C;AAC1C,WAAO,IAAP;AACD;;AAED,SACEsB,IAAC,GAAD;AAAK,IAAA,KAAK,EAAEzB,KAAZ;AAAmB,IAAA,SAAS,EAAEG,QAAQ,CAACwB,MAAT,GAAkB,CAAhD;AAAmD,IAAA,OAAO,EAAEtB,KAA5D;AAAA,cACEoB,IAAC,MAAD;AACE,MAAA,aAAa,EAAEtB,QADjB;AAEE,MAAA,QAAQ,EAAEC,WAFZ;AAGE,MAAA,SAAS,2BAAEG,gBAAgB,CAACU,MAAnB,+CAAE,sBAAyBK,KAA3B,qBAAE,uBAAgCM,SAH7C;AAIE,MAAA,cAAc,4BAAErB,gBAAgB,CAACU,MAAnB,+CAAE,uBAAyBK,KAA3B,qBAAE,uBAAgCO,IAJlD;AAKE,MAAA,qBAAqB,4BAAEtB,gBAAgB,CAACU,MAAnB,+CAAE,uBAAyBK,KAA3B,qBAAE,uBAAgCQ,WALzD;AAME,MAAA,oBAAoB,EAAEtB,oBANxB;AAAA,gBAQGa;AARH;AADF,IADF;AAcD,CAnCD;;;;"}