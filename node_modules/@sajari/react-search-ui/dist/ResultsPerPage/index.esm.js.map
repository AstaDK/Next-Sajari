{"version":3,"file":"index.esm.js","sources":["../../src/ResultsPerPage/index.tsx"],"sourcesContent":["import { useId } from '@react-aria/utils';\nimport { Option, Select } from '@sajari/react-components';\nimport { useResultsPerPage, useSearchContext } from '@sajari/react-hooks';\nimport { isArray } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useSearchUIContext } from '../ContextProvider';\nimport ViewOption from '../ViewOption';\nimport { ResultsPerPageProps } from './types';\n\nconst defaultOptions = [15, 25, 50, 100];\n\nconst ResultsPerPage = (props: ResultsPerPageProps) => {\n  const { t } = useTranslation('resultsPerPage');\n  const { customClassNames, disableDefaultStyles = false } = useSearchUIContext();\n  const { label = t('label'), options = defaultOptions, styles: stylesProp, size, ...rest } = props;\n  const { resultsPerPage, setResultsPerPage } = useResultsPerPage();\n  const { totalResults } = useSearchContext();\n  const id = `page-size-${useId()}`;\n  const optionsSorted = options.sort((a, b) => a - b);\n  const [min] = optionsSorted;\n\n  if (totalResults === 0 || min > totalResults) {\n    return null;\n  }\n\n  return (\n    <ViewOption\n      id={id}\n      label={label}\n      size={size}\n      className={customClassNames.sorting?.container}\n      labelClassName={customClassNames.sorting?.label}\n      renderAsLabel\n      {...rest}\n    >\n      <Select\n        id={id}\n        value={`${resultsPerPage}`}\n        onChange={(value) => setResultsPerPage(Number(isArray(value) ? value[0] : value))}\n        size={size}\n        disableDefaultStyles={disableDefaultStyles}\n        className={customClassNames.resultsPerPage?.select}\n      >\n        {optionsSorted.map((s) => (\n          <Option key={s} value={s}>\n            {s}\n          </Option>\n        ))}\n      </Select>\n    </ViewOption>\n  );\n};\n\nexport default ResultsPerPage;\nexport type { ResultsPerPageProps };\n"],"names":["defaultOptions","ResultsPerPage","props","useTranslation","t","useSearchUIContext","customClassNames","disableDefaultStyles","label","options","size","rest","useResultsPerPage","resultsPerPage","setResultsPerPage","useSearchContext","totalResults","id","useId","optionsSorted","sort","a","b","min","_jsx","sorting","container","value","Number","isArray","select","map","s"],"mappings":";;;;;;;;;;;AAWA,IAAMA,cAAc,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb,CAAvB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD;;;wBACPC,cAAc,CAAC,gBAAD;MAApBC,oBAAAA;;4BACmDC,kBAAkB;MAArEC,uCAAAA;kDAAkBC;MAAAA,0DAAuB;;qBAC2CL,MAApFM;MAAAA,kCAAQJ,CAAC,CAAC,OAAD;uBAA2EF,MAAhEO;MAAAA,sCAAUT;MAAoCU,OAAkBR,MAAlBQ;MAASC,qCAAST;;2BAC9CU,iBAAiB;MAAvDC,oCAAAA;MAAgBC,uCAAAA;;0BACCC,gBAAgB;MAAjCC,iCAAAA;;AACR,MAAMC,EAAE,kBAAgBC,KAAK,EAA7B;AACA,MAAMC,aAAa,GAAGV,OAAO,CAACW,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,GAAGC,CAAd;AAAA,GAAb,CAAtB;MACOC,MAAOJ;;AAEd,MAAIH,YAAY,KAAK,CAAjB,IAAsBO,GAAG,GAAGP,YAAhC,EAA8C;AAC5C,WAAO,IAAP;AACD;;AAED,SACEQ,IAAC,UAAD;AACE,IAAA,EAAE,EAAEP,EADN;AAEE,IAAA,KAAK,EAAET,KAFT;AAGE,IAAA,IAAI,EAAEE,IAHR;AAIE,IAAA,SAAS,2BAAEJ,gBAAgB,CAACmB,OAAnB,qBAAE,sBAA0BC,SAJvC;AAKE,IAAA,cAAc,4BAAEpB,gBAAgB,CAACmB,OAAnB,qBAAE,uBAA0BjB,KAL5C;AAME,IAAA,aAAa;AANf,KAOMG,IAPN;AAAA,cASEa,IAAC,MAAD;AACE,MAAA,EAAE,EAAEP,EADN;AAEE,MAAA,KAAK,OAAKJ,cAFZ;AAGE,MAAA,QAAQ,EAAE,kBAACc,KAAD;AAAA,eAAWb,iBAAiB,CAACc,MAAM,CAACC,OAAO,CAACF,KAAD,CAAP,GAAiBA,KAAK,CAAC,CAAD,CAAtB,GAA4BA,KAA7B,CAAP,CAA5B;AAAA,OAHZ;AAIE,MAAA,IAAI,EAAEjB,IAJR;AAKE,MAAA,oBAAoB,EAAEH,oBALxB;AAME,MAAA,SAAS,2BAAED,gBAAgB,CAACO,cAAnB,qBAAE,sBAAiCiB,MAN9C;AAAA,gBAQGX,aAAa,CAACY,GAAd,CAAkB,UAACC,CAAD;AAAA,eACjBR,IAAC,MAAD;AAAgB,UAAA,KAAK,EAAEQ,CAAvB;AAAA,oBACGA;AADH,WAAaA,CAAb,CADiB;AAAA,OAAlB;AARH;AATF,KADF;AA0BD,CAxCD;;;;"}