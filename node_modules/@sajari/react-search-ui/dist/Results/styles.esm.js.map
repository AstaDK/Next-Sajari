{"version":3,"file":"styles.esm.js","sources":["../../src/Results/styles.ts"],"sourcesContent":["import { clamp, inferStylesObjectKeys, isNumber, isObject, mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { ColumnValue, GapValue, ResultsProps } from './types';\n\ninterface Props extends ResultsProps {\n  width: number;\n}\n\nfunction findBreakpoint<T>(breakpoints: Record<number, T>, target: number): T | null {\n  const match = Object.keys(breakpoints)\n    .map(Number)\n    .sort((a, b) => b - a)\n    .find((s) => s <= target);\n\n  return match ? breakpoints[match] : null;\n}\n\nexport default function useResultsStyles({\n  appearance = 'list',\n  columnMinWidth = 240,\n  columns: columnsProp,\n  gap: gapProp = appearance === 'list' ? { 0: 4, 640: 8 } : undefined,\n  width,\n}: Props) {\n  const styles = inferStylesObjectKeys({\n    container: [],\n  });\n\n  if (appearance === 'list') {\n    styles.container.push(tw`flex flex-col`);\n    let spaceY: GapValue = 4;\n\n    if (gapProp) {\n      if (isNumber(gapProp)) {\n        spaceY = gapProp;\n      } else if (isObject(gapProp)) {\n        const match = findBreakpoint<GapValue>(gapProp, width);\n        if (match) {\n          spaceY = match;\n        }\n      }\n\n      switch (spaceY) {\n        case 1:\n          styles.container.push(tw`space-y-1`);\n          break;\n        case 2:\n          styles.container.push(tw`space-y-2`);\n          break;\n        case 3:\n          styles.container.push(tw`space-y-3`);\n          break;\n        case 4:\n          styles.container.push(tw`space-y-4`);\n          break;\n        case 5:\n          styles.container.push(tw`space-y-5`);\n          break;\n        case 6:\n          styles.container.push(tw`space-y-6`);\n          break;\n        case 7:\n          styles.container.push(tw`space-y-7`);\n          break;\n        case 8:\n          styles.container.push(tw`space-y-8`);\n          break;\n        case 9:\n          styles.container.push(tw`space-y-9`);\n          break;\n        case 10:\n          styles.container.push(tw`space-y-10`);\n          break;\n        case 11:\n          styles.container.push(tw`space-y-11`);\n          break;\n        case 12:\n          styles.container.push(tw`space-y-12`);\n          break;\n        default:\n          styles.container.push(tw`space-y-4`);\n          break;\n      }\n    }\n  } else if (appearance === 'grid') {\n    styles.container.push(tw`grid`);\n\n    // TODO: These sort of helpers should go in utils ideally, or find a better way to handle this\n    let columns: ColumnValue = 1;\n    let gap: GapValue = 8;\n\n    if (columnsProp) {\n      if (isNumber(columnsProp)) {\n        columns = columnsProp;\n      } else if (isObject(columnsProp)) {\n        const match = findBreakpoint<ColumnValue>(columnsProp, width);\n        if (match) {\n          columns = match;\n        }\n      }\n    } else if (isNumber(columnMinWidth)) {\n      columns = clamp(Math.floor(width / columnMinWidth), 1, 12) as ColumnValue;\n    }\n\n    if (gapProp) {\n      if (isNumber(gapProp)) {\n        gap = gapProp;\n      } else if (isObject(gapProp)) {\n        const match = findBreakpoint<GapValue>(gapProp, width);\n        if (match) {\n          gap = match;\n        }\n      }\n    }\n\n    switch (columns) {\n      case 1:\n        styles.container.push(tw`grid-cols-1`);\n        break;\n      case 2:\n        styles.container.push(tw`grid-cols-2`);\n        break;\n      case 3:\n        styles.container.push(tw`grid-cols-3`);\n        break;\n      case 4:\n        styles.container.push(tw`grid-cols-4`);\n        break;\n      case 5:\n        styles.container.push(tw`grid-cols-5`);\n        break;\n      case 6:\n        styles.container.push(tw`grid-cols-6`);\n        break;\n      case 7:\n        styles.container.push(tw`grid-cols-7`);\n        break;\n      case 8:\n        styles.container.push(tw`grid-cols-8`);\n        break;\n      case 9:\n        styles.container.push(tw`grid-cols-9`);\n        break;\n      case 10:\n        styles.container.push(tw`grid-cols-10`);\n        break;\n      case 11:\n        styles.container.push(tw`grid-cols-11`);\n        break;\n      case 12:\n        styles.container.push(tw`grid-cols-12`);\n        break;\n      default:\n        styles.container.push(tw`grid-cols-1`);\n        break;\n    }\n\n    switch (gap) {\n      case 1:\n        styles.container.push(tw`gap-1`);\n        break;\n      case 2:\n        styles.container.push(tw`gap-2`);\n        break;\n      case 3:\n        styles.container.push(tw`gap-3`);\n        break;\n      case 4:\n        styles.container.push(tw`gap-4`);\n        break;\n      case 5:\n        styles.container.push(tw`gap-5`);\n        break;\n      case 6:\n        styles.container.push(tw`gap-6`);\n        break;\n      case 7:\n        styles.container.push(tw`gap-7`);\n        break;\n      case 8:\n        styles.container.push(tw`gap-8`);\n        break;\n      case 9:\n        styles.container.push(tw`gap-9`);\n        break;\n      case 10:\n        styles.container.push(tw`gap-10`);\n        break;\n      case 11:\n        styles.container.push(tw`gap-11`);\n        break;\n      case 12:\n        styles.container.push(tw`gap-12`);\n        break;\n      default:\n        styles.container.push(tw`gap-8`);\n        break;\n    }\n  }\n\n  return mapStyles(styles);\n}\n"],"names":["findBreakpoint","breakpoints","target","match","Object","keys","map","Number","sort","a","b","find","s","useResultsStyles","appearance","columnMinWidth","columnsProp","columns","gap","gapProp","undefined","width","styles","inferStylesObjectKeys","container","push","spaceY","isNumber","isObject","clamp","Math","floor","mapStyles"],"mappings":"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"}