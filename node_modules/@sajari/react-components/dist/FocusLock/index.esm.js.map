{"version":3,"file":"index.esm.js","sources":["../../src/FocusLock/index.tsx"],"sourcesContent":["import React from 'react';\nimport ReactFocusLock from 'react-focus-lock';\n\nimport { FocusLockProps } from './types';\nimport { getFocusables } from './utils';\n\n/**\n * React component to trap focus within an element or component.\n * Mostly used in Modals, Popovers, etc.\n */\nfunction FocusLock(props: FocusLockProps) {\n  const { initialFocusRef, finalFocusRef, contentRef, restoreFocus, children, disabled, autoFocus = true } = props;\n\n  const onActivation = React.useCallback(() => {\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus();\n    } else {\n      if (!contentRef?.current) {\n        return;\n      }\n      const focusables = getFocusables(contentRef.current);\n      if (contentRef.current && !focusables.length) {\n        contentRef.current?.focus();\n      }\n    }\n  }, [initialFocusRef, contentRef]);\n\n  const onDeactivation = React.useCallback(() => {\n    finalFocusRef?.current?.focus();\n  }, [finalFocusRef]);\n\n  const returnFocus = restoreFocus && !finalFocusRef;\n\n  return (\n    <ReactFocusLock\n      autoFocus={autoFocus}\n      disabled={disabled}\n      onActivation={onActivation}\n      onDeactivation={onDeactivation}\n      returnFocus={returnFocus}\n    >\n      {children}\n    </ReactFocusLock>\n  );\n}\n\nexport type { FocusLockProps };\nexport default FocusLock;\n"],"names":["FocusLock","props","initialFocusRef","finalFocusRef","contentRef","restoreFocus","children","disabled","autoFocus","onActivation","React","useCallback","current","focus","focusables","getFocusables","length","onDeactivation","returnFocus","_jsx"],"mappings":";;;;;AAUA,SAASA,SAAT,CAAmBC,KAAnB;MACUC,kBAAmGD,MAAnGC;MAAiBC,gBAAkFF,MAAlFE;MAAeC,aAAmEH,MAAnEG;MAAYC,eAAuDJ,MAAvDI;MAAcC,WAAyCL,MAAzCK;MAAUC,WAA+BN,MAA/BM;yBAA+BN,MAArBO;MAAAA,0CAAY;AAElG,MAAMC,YAAY,GAAGC,cAAK,CAACC,WAAN,CAAkB;AACrC,QAAIT,eAAJ,oBAAIA,eAAe,CAAEU,OAArB,EAA8B;AAC5BV,MAAAA,eAAe,CAACU,OAAhB,CAAwBC,KAAxB;AACD,KAFD,MAEO;AACL,UAAI,EAACT,UAAD,oBAACA,UAAU,CAAEQ,OAAb,CAAJ,EAA0B;AACxB;AACD;;AACD,UAAME,UAAU,GAAGC,aAAa,CAACX,UAAU,CAACQ,OAAZ,CAAhC;;AACA,UAAIR,UAAU,CAACQ,OAAX,IAAsB,CAACE,UAAU,CAACE,MAAtC,EAA8C;AAAA;;AAC5C,+BAAAZ,UAAU,CAACQ,OAAX,yCAAoBC,KAApB;AACD;AACF;AACF,GAZoB,EAYlB,CAACX,eAAD,EAAkBE,UAAlB,CAZkB,CAArB;AAcA,MAAMa,cAAc,GAAGP,cAAK,CAACC,WAAN,CAAkB;;;AACvCR,IAAAA,aAAa,QAAb,qCAAAA,aAAa,CAAES,OAAf,2CAAwBC,KAAxB;AACD,GAFsB,EAEpB,CAACV,aAAD,CAFoB,CAAvB;AAIA,MAAMe,WAAW,GAAGb,YAAY,IAAI,CAACF,aAArC;AAEA,SACEgB,IAAC,cAAD;AACE,IAAA,SAAS,EAAEX,SADb;AAEE,IAAA,QAAQ,EAAED,QAFZ;AAGE,IAAA,YAAY,EAAEE,YAHhB;AAIE,IAAA,cAAc,EAAEQ,cAJlB;AAKE,IAAA,WAAW,EAAEC,WALf;AAAA,cAOGZ;AAPH,IADF;AAWD;;;;"}