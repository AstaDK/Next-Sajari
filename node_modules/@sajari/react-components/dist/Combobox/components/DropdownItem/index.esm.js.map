{"version":3,"file":"index.esm.js","sources":["../../../../src/Combobox/components/DropdownItem/index.tsx"],"sourcesContent":["import { getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport { IconEnterKey } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { useComboboxContext } from '../../context';\nimport { useDropdownItemStyles } from './styles';\nimport { DropdownItemProps } from './types';\n\nconst DropdownItem = (props: DropdownItemProps) => {\n  const { value, index, selected, highlight, ...rest } = props;\n  const {\n    typedInputValue,\n    getItemProps,\n    showDropdownTips,\n    itemToString,\n    onSelect,\n    disableDefaultStyles = false,\n    customClassNames: {\n      dropdownItemClassName = '',\n      dropdownSelectedItemClassName = '',\n      dropdownHighlightItemClassName = '',\n    },\n  } = useComboboxContext();\n  const stringItem = itemToString(value);\n  const styles = getStylesObject(useDropdownItemStyles(props), disableDefaultStyles);\n\n  // Highlight the suggested text rather than their input\n  // https://baymard.com/blog/autocomplete-design#7-highlight-the-active-suggestion-desktop-specific\n  const renderContent = () => {\n    if (typedInputValue && stringItem.startsWith(typedInputValue)) {\n      return (\n        <React.Fragment>\n          {typedInputValue}\n          <Box as=\"span\" css={styles.highlight}>\n            {stringItem.replace(typedInputValue, '')}\n          </Box>\n        </React.Fragment>\n      );\n    }\n\n    return stringItem;\n  };\n\n  return (\n    <Box\n      as=\"li\"\n      {...getItemProps({\n        index,\n        item: value,\n        onClick: () => {\n          if (onSelect) {\n            onSelect(value);\n          }\n        },\n      })}\n      key={`${stringItem}_${index}`}\n      css={styles.item}\n      className={classnames(dropdownItemClassName, {\n        [dropdownSelectedItemClassName]: selected,\n        [dropdownHighlightItemClassName]: highlight,\n      })}\n      {...rest}\n    >\n      <Box as=\"span\">{renderContent()}</Box>\n\n      {showDropdownTips && (\n        <Box as=\"span\" css={styles.label}>\n          Select\n          <IconEnterKey css={styles.iconEnter} />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default DropdownItem;\n"],"names":["DropdownItem","props","value","index","selected","highlight","rest","useComboboxContext","typedInputValue","getItemProps","showDropdownTips","itemToString","onSelect","disableDefaultStyles","customClassNames","dropdownItemClassName","dropdownSelectedItemClassName","dropdownHighlightItemClassName","stringItem","styles","getStylesObject","useDropdownItemStyles","renderContent","startsWith","_jsxs","React.Fragment","_jsx","replace","_createElement","item","onClick","classnames","label","iconEnter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;;;MACXC,QAA+CD,MAA/CC;MAAOC,QAAwCF,MAAxCE;MAAOC,WAAiCH,MAAjCG;MAAUC,YAAuBJ,MAAvBI;MAAcC,qCAASL;;4BAanDM,kBAAkB;MAXpBC,sCAAAA;MACAC,mCAAAA;MACAC,uCAAAA;MACAC,mCAAAA;MACAC,+BAAAA;kDACAC;MAAAA,0DAAuB;kDACvBC;qDACEC;MAAAA,4DAAwB;qDACxBC;MAAAA,oEAAgC;qDAChCC;MAAAA,qEAAiC;;AAGrC,MAAMC,UAAU,GAAGP,YAAY,CAACT,KAAD,CAA/B;AACA,MAAMiB,MAAM,GAAGC,eAAe,CAACC,qBAAqB,CAACpB,KAAD,CAAtB,EAA+BY,oBAA/B,CAA9B;;AAIA,MAAMS,aAAa,GAAG,SAAhBA,aAAgB;AACpB,QAAId,eAAe,IAAIU,UAAU,CAACK,UAAX,CAAsBf,eAAtB,CAAvB,EAA+D;AAC7D,aACEgB,KAACC,QAAD;AAAA,mBACGjB,eADH,EAEEkB,IAAC,GAAD;AAAK,UAAA,EAAE,EAAC,MAAR;AAAe,UAAA,GAAG,EAAEP,MAAM,CAACd,SAA3B;AAAA,oBACGa,UAAU,CAACS,OAAX,CAAmBnB,eAAnB,EAAoC,EAApC;AADH,UAFF;AAAA,QADF;AAQD;;AAED,WAAOU,UAAP;AACD,GAbD;;AAeA,SACEU,cAAC,GAAD;AACE,IAAA,EAAE,EAAC;AADL,KAEMnB,YAAY,CAAC;AACfN,IAAAA,KAAK,EAALA,KADe;AAEf0B,IAAAA,IAAI,EAAE3B,KAFS;AAGf4B,IAAAA,OAAO,EAAE;AACP,UAAIlB,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACV,KAAD,CAAR;AACD;AACF;AAPc,GAAD,CAFlB;AAWE,IAAA,GAAG,EAAKgB,UAAL,SAAmBf,KAXxB;AAYE,IAAA,GAAG,EAAEgB,MAAM,CAACU,IAZd;AAaE,IAAA,SAAS,EAAEE,UAAU,CAAChB,qBAAD,iCAClBC,6BADkB,IACcZ,QADd,cAElBa,8BAFkB,IAEeZ,SAFf;AAbvB,KAiBMC,IAjBN,GAmBEoB,IAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA,cAAgBJ,aAAa;AAA7B,IAnBF,EAqBGZ,gBAAgB,IACfc,KAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,GAAG,EAAEL,MAAM,CAACa,KAA3B;AAAA,yBAEEN,IAAC,YAAD;AAAc,MAAA,GAAG,EAAEP,MAAM,CAACc;AAA1B,MAFF;AAAA,IAtBJ,CADF;AA8BD,CAjED;;;;"}