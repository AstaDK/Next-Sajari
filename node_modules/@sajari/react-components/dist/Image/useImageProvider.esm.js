import { isArray } from '@sajari/react-sdk-utils';

function useImageProvider(params) {
  var provider = params.provider,
      width = params.width,
      height = params.height,
      _params$images = params.images,
      imagesParam = _params$images === void 0 ? [] : _params$images;
  var images = isArray(imagesParam) ? imagesParam.filter(Boolean) : [imagesParam];

  if (!provider) {
    return images;
  }

  switch (provider) {
    case 'shopify':
      return images.map(function (i) {
        var url = new URL(i);
        var pathname = url.pathname;

        var _pathname$split$rever = pathname.split('.').reverse(),
            extension = _pathname$split$rever[0],
            rest = _pathname$split$rever.slice(1);

        var pathnameWithoutExtension = rest.join();

        if (width && height) {
          url.pathname = pathnameWithoutExtension + "_" + width + "x" + height;
        } else if (width) {
          url.pathname = pathnameWithoutExtension + "_" + width + "x";
        } else if (height) {
          url.pathname = pathnameWithoutExtension + "_x" + width;
        }

        url.pathname = url.pathname + "." + extension;
        return url.toString();
      });

    default:
      return images;
  }
}

export default useImageProvider;
//# sourceMappingURL=useImageProvider.esm.js.map
