{"version":3,"file":"index.esm.js","sources":["../../src/Tabs/index.tsx"],"sourcesContent":["import { useId } from '@react-aria/utils';\nimport React, { useRef, useState } from 'react';\n\nimport Box from '../Box';\nimport TabContextProvider from './context';\nimport { TabsProps } from './types';\n\nconst Tabs = React.forwardRef((props: TabsProps, ref?: React.Ref<HTMLDivElement>) => {\n  const {\n    children,\n    onChange,\n    index: controlledIndex,\n    defaultIndex,\n    manual,\n    align = 'start',\n    fitted,\n    alwaysRenderChildren,\n    disableDefaultStyles,\n    styles: stylesProp,\n    ...rest\n  } = props;\n\n  const { current: controlled } = useRef(typeof controlledIndex !== 'undefined');\n  const selectedPanelRef = useRef<HTMLElement>(null);\n\n  const getInitialIndex = () => {\n    if (!manual) {\n      return defaultIndex || 0;\n    }\n    return controlledIndex || defaultIndex || 0;\n  };\n\n  const [selectedIndex, setSelectedIndex] = useState(getInitialIndex);\n\n  const getActualIdx = () => {\n    if (manual) {\n      return selectedIndex;\n    }\n    return controlled && typeof controlledIndex === 'number' ? controlledIndex : selectedIndex;\n  };\n\n  const [manualIndex, setManualIndex] = useState(controlledIndex || defaultIndex || 0);\n  const actualIdx = getActualIdx();\n  const manualIdx = controlled ? controlledIndex : manualIndex;\n\n  const onChangeTab = (index: number) => {\n    if (!controlled) {\n      setSelectedIndex(index);\n    }\n\n    if (controlled && manual) {\n      setSelectedIndex(index);\n    }\n\n    if (!manual) {\n      if (onChange) {\n        onChange(index);\n      }\n    }\n  };\n\n  const onManualTabChange = (index: number) => {\n    if (!controlled) {\n      setManualIndex(index);\n    }\n\n    if (manual) {\n      if (onChange) {\n        onChange(index);\n      }\n    }\n  };\n\n  const onFocusPanel = () => {\n    if (selectedPanelRef.current) {\n      selectedPanelRef.current.focus();\n    }\n  };\n\n  const id = useId();\n\n  const context = {\n    id,\n    index: actualIdx,\n    manualIndex: manualIdx,\n    onManualTabChange,\n    manual,\n    onChangeTab,\n    selectedPanelRef,\n    onFocusPanel,\n    align,\n    fitted,\n    alwaysRenderChildren,\n    disableDefaultStyles,\n  };\n\n  return (\n    <TabContextProvider value={context}>\n      <Box ref={ref} css={stylesProp} {...rest}>\n        {children}\n      </Box>\n    </TabContextProvider>\n  );\n});\n\nTabs.displayName = 'Tabs';\n\nexport default Tabs;\nexport type { TabsProps };\n\nexport type { TabProps } from './Tab';\nexport { default as Tab } from './Tab';\nexport type { TabListProps } from './TabList';\nexport { default as TabList } from './TabList';\nexport type { TabPanelProps } from './TabPanel';\nexport { default as TabPanel } from './TabPanel';\nexport type { TabPanelsProps } from './TabPanels';\nexport { default as TabPanels } from './TabPanels';\n"],"names":["Tabs","React","forwardRef","props","ref","children","onChange","controlledIndex","index","defaultIndex","manual","align","fitted","alwaysRenderChildren","disableDefaultStyles","stylesProp","styles","rest","useRef","controlled","current","selectedPanelRef","getInitialIndex","useState","selectedIndex","setSelectedIndex","getActualIdx","manualIndex","setManualIndex","actualIdx","manualIdx","onChangeTab","onManualTabChange","onFocusPanel","focus","id","useId","context","_jsx","displayName"],"mappings":"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"}