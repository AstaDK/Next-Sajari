import _css from '@emotion/css';
import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';
import { getStylesObject, cleanChildren } from '@sajari/react-sdk-utils';
import { forwardRef, useRef, useState, cloneElement, useImperativeHandle } from 'react';
import { jsxs, jsx } from '@emotion/core/jsx-runtime';
import Box from '../Box/index.esm.js';
import { useId } from '@react-aria/utils';
import Text from '../Text/index.esm.js';
import useRadioGroupStyles from './styles.esm.js';

function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }

var _ref = process.env.NODE_ENV === "production" ? {
  name: "1ka3goe-RadioGroup",
  styles: "position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;;label:RadioGroup;"
} : {
  name: "1ka3goe-RadioGroup",
  styles: "position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;;label:RadioGroup;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRHVEIiwiZmlsZSI6ImluZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJlYWN0LWFyaWEvdXRpbHMnO1xyXG5pbXBvcnQgeyBjbGVhbkNoaWxkcmVuLCBnZXRTdHlsZXNPYmplY3QgfSBmcm9tICdAc2FqYXJpL3JlYWN0LXNkay11dGlscyc7XHJcbmltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB0dyBmcm9tICd0d2luLm1hY3JvJztcclxuaW1wb3J0IEJveCBmcm9tICcuLi9Cb3gnO1xyXG5pbXBvcnQgVGV4dCBmcm9tICcuLi9UZXh0JztcclxuaW1wb3J0IHVzZVJhZGlvR3JvdXBTdHlsZXMgZnJvbSAnLi9zdHlsZXMnO1xyXG5jb25zdCBSYWRpb0dyb3VwID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xyXG4gICAgY29uc3QgeyBvbkNoYW5nZSwgbmFtZSwgbGFiZWwgPSBuYW1lLCBkZWZhdWx0VmFsdWUsIHZhbHVlOiB2YWx1ZVByb3AsIGlubGluZSwgY2hpbGRyZW4sIHN0eWxlczogc3R5bGVzUHJvcCwgZGlzYWJsZURlZmF1bHRTdHlsZXMgPSBmYWxzZSwgJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZEJ5LCAuLi5yZXN0IH0gPSBwcm9wcztcclxuICAgIGNvbnN0IHsgY3VycmVudDogY29udHJvbGxlZCB9ID0gdXNlUmVmKHR5cGVvZiB2YWx1ZVByb3AgIT09ICd1bmRlZmluZWQnKTtcclxuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlIHx8IG51bGwpO1xyXG4gICAgY29uc3QgaW50ZXJuYWxWYWx1ZSA9IGNvbnRyb2xsZWQgPyB2YWx1ZVByb3AgOiB2YWx1ZTtcclxuICAgIGNvbnN0IHJvb3RSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRTdHlsZXNPYmplY3QodXNlUmFkaW9Hcm91cFN0eWxlcyhwcm9wcyksIGRpc2FibGVEZWZhdWx0U3R5bGVzKTtcclxuICAgIGNvbnN0IGludGVybmFsT25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWNvbnRyb2xsZWQpIHtcclxuICAgICAgICAgICAgc2V0VmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50LCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBmYWxsYmFja05hbWUgPSBgcmFkaW8tJHt1c2VJZCgpfWA7XHJcbiAgICBjb25zdCBpbnRlcm5hbE5hbWUgPSBuYW1lIHx8IGZhbGxiYWNrTmFtZTtcclxuICAgIGNvbnN0IHZhbGlkQ2hpbGRyZW4gPSBjbGVhbkNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IGNsb25lcyA9IHZhbGlkQ2hpbGRyZW4ubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCBjaGVja2VkID0gY2hpbGQucHJvcHMudmFsdWUgPT09IGludGVybmFsVmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChjaGlsZCwge1xyXG4gICAgICAgICAgICBrZXk6IGAke2ludGVybmFsTmFtZX0tJHtpbmRleH1gLFxyXG4gICAgICAgICAgICBuYW1lOiBpbnRlcm5hbE5hbWUsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBpbnRlcm5hbE9uQ2hhbmdlLFxyXG4gICAgICAgICAgICBjaGVja2VkLFxyXG4gICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFN0eWxlcyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbGFiZWxJZCA9IGxhYmVsID8gYGdyb3VwLWxhYmVsLSR7dXNlSWQoKX1gIDogdW5kZWZpbmVkO1xyXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XHJcbiAgICAgICAgZm9jdXM6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gcm9vdFJlZj8uY3VycmVudD8ucXVlcnlTZWxlY3RvcignaW5wdXQ6bm90KDpkaXNhYmxlZCk6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHJvb3RSZWY/LmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Om5vdCg6ZGlzYWJsZWQpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0pLCBbXSk7XHJcbiAgICByZXR1cm4gKDxCb3ggey4uLnJlc3R9IHJlZj17cm9vdFJlZn0gcm9sZT1cInJhZGlvZ3JvdXBcIiBhcmlhLWxhYmVsbGVkYnk9e2FyaWFMYWJlbGxlZEJ5ID8/IGxhYmVsSWR9IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BdfT5cbiAgICAgIHtsYWJlbCAmJiAhYXJpYUxhYmVsbGVkQnkgJiYgKDxUZXh0IGlkPXtsYWJlbElkfSBjc3M9e3R3IGBzci1vbmx5YH0+XG4gICAgICAgICAge2xhYmVsfVxuICAgICAgICA8L1RleHQ+KX1cblxuICAgICAge2Nsb25lc31cbiAgICA8L0JveD4pO1xyXG59KTtcclxuUmFkaW9Hcm91cC5kaXNwbGF5TmFtZSA9ICdSYWRpb0dyb3VwJztcclxuZXhwb3J0IGRlZmF1bHQgUmFkaW9Hcm91cDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanN4Lm1hcCJdfQ== */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
};

var RadioGroup = /*#__PURE__*/forwardRef(function (props, ref) {
  var onChange = props.onChange,
      name = props.name,
      _props$label = props.label,
      label = _props$label === void 0 ? name : _props$label,
      defaultValue = props.defaultValue,
      valueProp = props.value,
      children = props.children,
      stylesProp = props.styles,
      _props$disableDefault = props.disableDefaultStyles,
      disableDefaultStyles = _props$disableDefault === void 0 ? false : _props$disableDefault,
      ariaLabelledBy = props['aria-labelledby'],
      rest = _objectWithoutPropertiesLoose(props, ["onChange", "name", "label", "defaultValue", "value", "inline", "children", "styles", "disableDefaultStyles", "aria-labelledby"]);

  var _useRef = useRef(typeof valueProp !== 'undefined'),
      controlled = _useRef.current;

  var _useState = useState(defaultValue || null),
      value = _useState[0],
      setValue = _useState[1];

  var internalValue = controlled ? valueProp : value;
  var rootRef = useRef(null);
  var styles = getStylesObject(useRadioGroupStyles(props), disableDefaultStyles);

  var internalOnChange = function internalOnChange(event) {
    if (!controlled) {
      setValue(event.target.value);
    }

    if (onChange) {
      onChange(event, event.target.value);
    }
  };

  var fallbackName = "radio-" + useId();
  var internalName = name || fallbackName;
  var validChildren = cleanChildren(children);
  var clones = validChildren.map(function (child, index) {
    var checked = child.props.value === internalValue;
    return /*#__PURE__*/cloneElement(child, {
      key: internalName + "-" + index,
      name: internalName,
      onChange: internalOnChange,
      checked: checked,
      disableDefaultStyles: disableDefaultStyles
    });
  });
  var labelId = label ? "group-label-" + useId() : undefined;
  useImperativeHandle(ref, function () {
    return {
      focus: function focus() {
        var _rootRef$current;

        var input = rootRef == null ? void 0 : (_rootRef$current = rootRef.current) == null ? void 0 : _rootRef$current.querySelector('input:not(:disabled):checked');

        if (!input) {
          var _rootRef$current2;

          input = rootRef == null ? void 0 : (_rootRef$current2 = rootRef.current) == null ? void 0 : _rootRef$current2.querySelector('input:not(:disabled)');
        }

        if (input) {
          input.focus();
        }
      }
    };
  }, []);
  return jsxs(Box, _extends({}, rest, {
    ref: rootRef,
    role: "radiogroup",
    "aria-labelledby": ariaLabelledBy != null ? ariaLabelledBy : labelId,
    css: /*#__PURE__*/_css([styles.container, stylesProp], ";label:RadioGroup;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErQ3VHIiwiZmlsZSI6ImluZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJlYWN0LWFyaWEvdXRpbHMnO1xyXG5pbXBvcnQgeyBjbGVhbkNoaWxkcmVuLCBnZXRTdHlsZXNPYmplY3QgfSBmcm9tICdAc2FqYXJpL3JlYWN0LXNkay11dGlscyc7XHJcbmltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB0dyBmcm9tICd0d2luLm1hY3JvJztcclxuaW1wb3J0IEJveCBmcm9tICcuLi9Cb3gnO1xyXG5pbXBvcnQgVGV4dCBmcm9tICcuLi9UZXh0JztcclxuaW1wb3J0IHVzZVJhZGlvR3JvdXBTdHlsZXMgZnJvbSAnLi9zdHlsZXMnO1xyXG5jb25zdCBSYWRpb0dyb3VwID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xyXG4gICAgY29uc3QgeyBvbkNoYW5nZSwgbmFtZSwgbGFiZWwgPSBuYW1lLCBkZWZhdWx0VmFsdWUsIHZhbHVlOiB2YWx1ZVByb3AsIGlubGluZSwgY2hpbGRyZW4sIHN0eWxlczogc3R5bGVzUHJvcCwgZGlzYWJsZURlZmF1bHRTdHlsZXMgPSBmYWxzZSwgJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZEJ5LCAuLi5yZXN0IH0gPSBwcm9wcztcclxuICAgIGNvbnN0IHsgY3VycmVudDogY29udHJvbGxlZCB9ID0gdXNlUmVmKHR5cGVvZiB2YWx1ZVByb3AgIT09ICd1bmRlZmluZWQnKTtcclxuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlIHx8IG51bGwpO1xyXG4gICAgY29uc3QgaW50ZXJuYWxWYWx1ZSA9IGNvbnRyb2xsZWQgPyB2YWx1ZVByb3AgOiB2YWx1ZTtcclxuICAgIGNvbnN0IHJvb3RSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRTdHlsZXNPYmplY3QodXNlUmFkaW9Hcm91cFN0eWxlcyhwcm9wcyksIGRpc2FibGVEZWZhdWx0U3R5bGVzKTtcclxuICAgIGNvbnN0IGludGVybmFsT25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWNvbnRyb2xsZWQpIHtcclxuICAgICAgICAgICAgc2V0VmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50LCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBmYWxsYmFja05hbWUgPSBgcmFkaW8tJHt1c2VJZCgpfWA7XHJcbiAgICBjb25zdCBpbnRlcm5hbE5hbWUgPSBuYW1lIHx8IGZhbGxiYWNrTmFtZTtcclxuICAgIGNvbnN0IHZhbGlkQ2hpbGRyZW4gPSBjbGVhbkNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IGNsb25lcyA9IHZhbGlkQ2hpbGRyZW4ubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCBjaGVja2VkID0gY2hpbGQucHJvcHMudmFsdWUgPT09IGludGVybmFsVmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChjaGlsZCwge1xyXG4gICAgICAgICAgICBrZXk6IGAke2ludGVybmFsTmFtZX0tJHtpbmRleH1gLFxyXG4gICAgICAgICAgICBuYW1lOiBpbnRlcm5hbE5hbWUsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBpbnRlcm5hbE9uQ2hhbmdlLFxyXG4gICAgICAgICAgICBjaGVja2VkLFxyXG4gICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFN0eWxlcyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbGFiZWxJZCA9IGxhYmVsID8gYGdyb3VwLWxhYmVsLSR7dXNlSWQoKX1gIDogdW5kZWZpbmVkO1xyXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XHJcbiAgICAgICAgZm9jdXM6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gcm9vdFJlZj8uY3VycmVudD8ucXVlcnlTZWxlY3RvcignaW5wdXQ6bm90KDpkaXNhYmxlZCk6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHJvb3RSZWY/LmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Om5vdCg6ZGlzYWJsZWQpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0pLCBbXSk7XHJcbiAgICByZXR1cm4gKDxCb3ggey4uLnJlc3R9IHJlZj17cm9vdFJlZn0gcm9sZT1cInJhZGlvZ3JvdXBcIiBhcmlhLWxhYmVsbGVkYnk9e2FyaWFMYWJlbGxlZEJ5ID8/IGxhYmVsSWR9IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BdfT5cbiAgICAgIHtsYWJlbCAmJiAhYXJpYUxhYmVsbGVkQnkgJiYgKDxUZXh0IGlkPXtsYWJlbElkfSBjc3M9e3R3IGBzci1vbmx5YH0+XG4gICAgICAgICAge2xhYmVsfVxuICAgICAgICA8L1RleHQ+KX1cblxuICAgICAge2Nsb25lc31cbiAgICA8L0JveD4pO1xyXG59KTtcclxuUmFkaW9Hcm91cC5kaXNwbGF5TmFtZSA9ICdSYWRpb0dyb3VwJztcclxuZXhwb3J0IGRlZmF1bHQgUmFkaW9Hcm91cDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanN4Lm1hcCJdfQ== */")),
    children: [label && !ariaLabelledBy && jsx(Text, {
      id: labelId,
      css: _ref,
      children: label
    }), clones]
  }));
});
RadioGroup.displayName = 'RadioGroup';

export default RadioGroup;
//# sourceMappingURL=index.esm.js.map
