{"version":3,"file":"react-components.cjs.development.js","sources":["../src/Box/index.tsx","../src/AspectRatio/styles.ts","../src/AspectRatio/index.tsx","../src/hooks/useBorderRadius.ts","../src/hooks/useDropdownItemStyles.ts","../src/hooks/useDropdownStyles.ts","../src/hooks/useFirstRender.ts","../src/hooks/useRingStyles.ts","../src/hooks/useFocusRingStyles.ts","../src/hooks/useFontSize.ts","../src/hooks/useInputStyles.ts","../src/hooks/useJustifyContent.ts","../src/hooks/useSpacing.ts","../src/hooks/useVoiceInput.ts","../src/Button/styles.ts","../src/Button/index.tsx","../src/ButtonGroup/styles.ts","../src/ButtonGroup/index.tsx","../src/Label/styles.ts","../src/Label/index.tsx","../src/Checkbox/styles.ts","../src/Checkbox/index.tsx","../src/utils/styles.ts","../src/Text/styles.ts","../src/Text/index.tsx","../src/CheckboxGroup/styles.ts","../src/CheckboxGroup/index.tsx","../src/Link/styles.ts","../src/Link/index.tsx","../src/PoweredBy/styles.ts","../src/PoweredBy/index.tsx","../src/Combobox/context.tsx","../src/Combobox/components/DropdownItem/styles.ts","../src/Combobox/components/DropdownItem/index.tsx","../src/Heading/styles.ts","../src/Heading/index.tsx","../src/hooks/useHasImageLoaded.ts","../src/Image/styles.ts","../src/Image/useImageProvider.ts","../src/Image/index.tsx","../src/Combobox/components/DropdownResult/styles.ts","../src/Combobox/components/DropdownResult/index.tsx","../src/Combobox/components/Dropdown/index.tsx","../src/Combobox/components/Typeahead/styles.ts","../src/Combobox/components/Typeahead/index.tsx","../src/Combobox/components/Voice/styles.ts","../src/Combobox/components/Voice/index.tsx","../src/Combobox/styles.ts","../src/Combobox/index.tsx","../src/FocusLock/utils.ts","../src/FocusLock/index.tsx","../src/Modal/AriaHidden.tsx","../src/Modal/context.tsx","../src/Modal/ModalBody/styles.ts","../src/Modal/ModalBody/index.tsx","../src/Modal/ModalCloseButton/styles.ts","../src/Modal/ModalCloseButton/index.tsx","../src/Modal/ModalFooter/styles.ts","../src/Modal/ModalFooter/index.tsx","../src/Modal/ModalHeader/styles.ts","../src/Modal/ModalHeader/index.tsx","../src/Modal/modalManager.ts","../src/Modal/ModalTitle/styles.ts","../src/Modal/ModalTitle/index.tsx","../src/Modal/Portal.tsx","../src/Modal/styles.ts","../src/Modal/useScrollLock.ts","../src/Modal/index.tsx","../src/Pagination/styles.ts","../src/Pagination/index.tsx","../src/Radio/styles.ts","../src/Radio/index.tsx","../src/RadioGroup/styles.ts","../src/RadioGroup/index.tsx","../src/RangeInput/components/Fill/styles.ts","../src/RangeInput/components/Fill/index.tsx","../src/RangeInput/components/Handle/styles.ts","../src/RangeInput/components/Handle/index.tsx","../src/RangeInput/components/Input/styles.ts","../src/RangeInput/components/Input/index.tsx","../src/RangeInput/components/Track/styles.ts","../src/RangeInput/components/Track/index.tsx","../src/RangeInput/styles.ts","../src/RangeInput/index.tsx","../src/Rating/types.ts","../src/utils/rating.ts","../src/Rating/components/RatingItem/styles.ts","../src/Rating/components/RatingItem/index.tsx","../src/Rating/index.tsx","../src/ResizeObserver/index.tsx","../src/Select/context.tsx","../src/Select/components/Button/styles.ts","../src/Select/components/Button/index.tsx","../src/Select/components/Option/styles.ts","../src/Select/components/Option/index.tsx","../src/Select/components/Dropdown/styles.ts","../src/Select/components/Dropdown/index.tsx","../src/Select/styles.ts","../src/Select/index.tsx","../src/Spinner/index.tsx","../src/SSRProvider/index.tsx","../src/Swatch/colors.ts","../src/Swatch/context.tsx","../src/Swatch/components/Color/styles.ts","../src/Swatch/components/Color/index.tsx","../src/Swatch/index.tsx","../src/Tabs/context.ts","../src/Tabs/Tab/styles.ts","../src/Tabs/Tab/index.tsx","../src/Tabs/TabList/styles.ts","../src/Tabs/TabList/index.tsx","../src/Tabs/TabPanel/index.tsx","../src/Tabs/TabPanels/index.tsx","../src/Tabs/index.tsx"],"sourcesContent":["import { filterProps, forwardRefWithAs, PropsWithAs } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport { BoxProps } from './types';\n\ntype DefaultElement = 'div';\n\nconst BoxComponent = (props: PropsWithAs<BoxProps, DefaultElement>, ref: React.Ref<HTMLDivElement>) => {\n  const { as: Type = 'div', children, ...rest } = props;\n\n  return (\n    <Type ref={ref} {...filterProps(rest)}>\n      {children}\n    </Type>\n  );\n};\n\nconst Box = forwardRefWithAs<BoxProps, DefaultElement>(BoxComponent);\n\nexport default Box;\nexport type { BoxProps };\n","import { css } from '@emotion/core';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport { AspectRatioProps } from './types';\n\nexport function useAspectRatioStyles(props: AspectRatioProps) {\n  const { ratio } = props;\n  const styles: (string | TwStyle)[] = [];\n\n  if (!ratio) {\n    return css(styles);\n  }\n\n  styles.push(\n    tw`relative`,\n    tw`before:(content block h-0)`,\n    `&::before { padding-bottom: calc(100% / ${ratio})}`,\n    '& > * { position: absolute; top: 0; left: 0; width: 100%; height: 100% }',\n  );\n\n  return css(styles);\n}\n","import { forwardRefWithAs, getStylesObject, PropsWithAs } from '@sajari/react-sdk-utils';\nimport React, { Children, cloneElement, isValidElement } from 'react';\n\nimport Box from '../Box';\nimport { useAspectRatioStyles } from './styles';\nimport { AspectRatioProps } from './types';\n\ntype DefaultElement = 'div';\n\nconst Component = (props: PropsWithAs<AspectRatioProps, DefaultElement>, ref: React.Ref<HTMLDivElement>) => {\n  const { as = 'div', ratio = 16 / 9, children, disableDefaultStyles = false, styles: stylesProp, ...rest } = props;\n  let child;\n\n  if (children) {\n    child = Children.only(children);\n\n    if (!isValidElement(child)) {\n      return null;\n    }\n  }\n\n  const styles = getStylesObject({ container: useAspectRatioStyles({ ...props, ratio }) }, disableDefaultStyles);\n\n  return (\n    <Box ref={ref} as={as} {...rest} css={[styles.container, stylesProp]}>\n      {child ? cloneElement(child) : null}\n    </Box>\n  );\n};\n\nconst AspectRatio = forwardRefWithAs<AspectRatioProps, DefaultElement>(Component);\n\nexport default AspectRatio;\nexport type { AspectRatioProps };\n","import { css } from '@emotion/core';\nimport tw, { TwStyle } from 'twin.macro';\n\nexport type RoundedSizes = 'sm' | 'md' | 'lg' | 'full' | 'none';\n\nexport interface BorderRadiusParams {\n  rounded?: RoundedSizes;\n}\n\nexport default function useBorderRadius(props: BorderRadiusParams) {\n  const { rounded } = props;\n  const styles: TwStyle[] = [];\n\n  switch (rounded) {\n    case 'none':\n      styles.push(tw`rounded-none`);\n      break;\n    case 'sm':\n      styles.push(tw`rounded-sm`);\n      break;\n    case 'lg':\n      styles.push(tw`rounded-lg`);\n      break;\n    case 'full':\n      styles.push(tw`rounded-full`);\n      break;\n    default:\n    case 'md':\n      styles.push(tw`rounded-md`);\n      break;\n  }\n\n  return css(styles);\n}\n","import { inferStylesObjectKeys, mapStyles, useTheme } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\ninterface UseDropdownItemStylesParams {\n  highlighted?: boolean;\n}\n\nexport function useDropdownItemStyles(params: UseDropdownItemStylesParams) {\n  const { highlighted } = params;\n  const theme = useTheme();\n\n  const styles = inferStylesObjectKeys({\n    root: [\n      tw`flex items-center w-auto px-2 py-1 leading-5 text-left transition-all duration-75 rounded cursor-pointer`,\n    ],\n    label: [tw`pl-4 ml-auto text-xs text-gray-400`],\n  });\n\n  if (highlighted) {\n    styles.root.push(`color: ${theme.color.primary.text}; background: ${theme.color.primary.active};`);\n    styles.label.push(`color: ${theme.color.primary.text};`);\n  } else {\n    styles.root.push(tw`text-gray-600`);\n  }\n\n  return mapStyles(styles);\n}\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport interface UseDropdownStylesParams {\n  shown?: boolean;\n}\n\nexport function useDropdownStyles({ shown = true }: UseDropdownStylesParams) {\n  const styles = {\n    container: [\n      tw`absolute left-0 right-0 top-auto z-20 mt-1 bg-white rounded-md shadow-menu backdrop-blur-1 bg-opacity-95`,\n      !shown ? tw`hidden` : tw``,\n    ],\n    heading: [tw`px-4 pt-2 text-xs text-gray-400 font-normal`],\n    items: [tw`m-0 py-1 px-2 list-none`],\n    footer: [\n      tw`flex items-center justify-between px-4 py-2 text-xs text-gray-400 border border-gray-200 rounded-b bg-gray-50 rounded-b-inherit`,\n    ],\n    footerItem: [tw`flex items-center`],\n    footerItems: [tw`flex items-center space-x-4`],\n    footerIcon: [tw`mr-1.5 flex-shrink-0`],\n    footerEscHint: [tw`mr-1 font-medium`],\n    poweredBy: [tw`ml-auto`],\n  };\n\n  return mapStyles(styles);\n}\n","import { useEffect, useRef } from 'react';\n\nexport default function useFirstRender() {\n  const firstRender = useRef(true);\n\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n    }\n  }, []);\n\n  return firstRender.current;\n}\n","import { useTheme } from '@sajari/react-sdk-utils';\nimport Color from 'color';\nimport tw, { theme as twTheme, TwStyle } from 'twin.macro';\n\nexport interface UseRingStylesProps {\n  invalid?: boolean;\n  disabled?: boolean;\n  rounded?: 'sm' | 'md' | 'lg' | 'full' | 'none';\n  color?: string;\n  visible?: boolean;\n}\n\nexport default function useRingStyles(props?: UseRingStylesProps) {\n  const theme = useTheme();\n  const { visible = true, disabled, invalid, rounded = 'lg', color = theme.color.primary.base } = props ?? {};\n  const styles: (TwStyle | string)[] = [];\n\n  if (visible) {\n    let borderColor = color;\n\n    if (disabled) {\n      borderColor = twTheme`colors.gray.500`.toString();\n    } else if (invalid) {\n      borderColor = twTheme`colors.red.500`.toString();\n    }\n\n    let borderRadius: TwStyle;\n\n    switch (rounded) {\n      case 'sm':\n        borderRadius = tw`after:(rounded-md)`;\n        break;\n      case 'md':\n        borderRadius = tw`after:(rounded-md)`;\n        break;\n      case 'full':\n        borderRadius = tw`after:(rounded-full)`;\n        break;\n      case 'none':\n        borderRadius = tw`after:(rounded-none)`;\n        break;\n      case 'lg':\n      default:\n        borderRadius = tw`after:(rounded-lg)`;\n    }\n\n    styles.push(\n      tw`after:(content box-content block h-full w-full border-2 border-solid p-0.5 absolute)`,\n      `&::after {\n          left: -0.25rem;\n          top: -0.25rem;\n          border-color: ${new Color(borderColor)};\n        }`,\n      borderRadius,\n      tw`outline-none`,\n    );\n  }\n\n  return styles;\n}\n","import { useFocusRing } from '@react-aria/focus';\n\nimport useRingStyles, { UseRingStylesProps } from './useRingStyles';\n\nexport type UseFocusRingStylesProps = Omit<UseRingStylesProps, 'visible'>;\n\nexport default function useFocusRingStyles(props?: UseFocusRingStylesProps) {\n  const { isFocusVisible, focusProps } = useFocusRing();\n  return { focusRingStyles: useRingStyles({ visible: isFocusVisible, ...props }), focusProps };\n}\n","import { css } from '@emotion/core';\nimport tw, { TwStyle } from 'twin.macro';\n\nexport type FontSizes = 'xs' | 'sm' | 'base' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl';\n\nexport interface UseFontSizeParams {\n  size?: FontSizes;\n}\n\nexport default function useFontSize(props: UseFontSizeParams) {\n  const { size } = props;\n  const styles: TwStyle[] = [];\n\n  switch (size) {\n    case 'xs':\n      styles.push(tw`text-xs`);\n      break;\n\n    case 'sm':\n      styles.push(tw`text-sm`);\n      break;\n\n    case 'lg':\n      styles.push(tw`text-lg`);\n      break;\n\n    case 'xl':\n      styles.push(tw`text-xl`);\n      break;\n\n    case '2xl':\n      styles.push(tw`text-2xl`);\n      break;\n\n    case '3xl':\n      styles.push(tw`text-3xl`);\n      break;\n\n    case '4xl':\n      styles.push(tw`text-4xl`);\n      break;\n\n    case 'base':\n    case 'md':\n      styles.push(tw`text-base`);\n      break;\n\n    default:\n      break;\n  }\n\n  return css(styles);\n}\n","import { css } from '@emotion/core';\nimport { useTheme } from '@sajari/react-sdk-utils';\nimport Color from 'color';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport useFocusRingStyles from './useFocusRingStyles';\n\nexport interface UseInputStyleProps {\n  disabled?: boolean;\n  invalid?: boolean;\n  readOnly?: boolean;\n  indeterminate?: boolean;\n  type: 'select' | 'radio' | 'checkbox';\n  size?: 'sm' | 'md' | 'lg';\n}\n\nexport default function useInputStyles(props: UseInputStyleProps) {\n  const { disabled, indeterminate, invalid, readOnly, size, type } = props;\n  const { focusRingStyles, focusProps } = useFocusRingStyles({\n    disabled,\n    invalid,\n    rounded: type === 'radio' ? 'full' : undefined,\n  });\n  const theme = useTheme();\n  const fill = encodeURIComponent(new Color(theme.color.primary.text).hex());\n  const styles: (TwStyle | string)[] = [];\n\n  styles.push(\n    tw`leading-normal text-gray-600 transition-all duration-150 bg-white border border-gray-200 border-solid outline-none font-inherit invalid:(bg-white border-gray-200 outline-none shadow-none)`,\n  );\n\n  // Map the size to padding and font size\n  if (!['radio', 'checkbox'].includes(type)) {\n    switch (size) {\n      case 'lg':\n        styles.push(tw`px-5 py-3 text-lg`);\n        break;\n\n      case 'sm':\n        styles.push(tw`px-3 py-1 text-sm`);\n        break;\n\n      default:\n      case 'md':\n        styles.push(tw`px-4 py-2 text-base`);\n        break;\n    }\n  }\n\n  // Cancel out the form controls plugin styles since we use the ring\n  styles.push(tw`focus:outline-none focus:shadow-none focus:border-gray-200`);\n\n  if (disabled || readOnly) {\n    styles.push(tw`cursor-not-allowed`);\n  }\n\n  if (disabled) {\n    styles.push(tw`text-gray-400 bg-gray-100 border-gray-200`);\n\n    if (['radio', 'checkbox'].includes(type)) {\n      styles.push(tw`checked:bg-gray-400 checked:border-gray-400`);\n    }\n  }\n\n  if (invalid) {\n    styles.push(tw`border-red-500 bg-red-50 focus:border-red-500`);\n\n    if (['radio', 'checkbox'].includes(type)) {\n      styles.push(tw`bg-red-100 checked:bg-red-500`);\n    }\n  }\n\n  if (['radio', 'checkbox'].includes(type)) {\n    styles.push(tw`flex-none w-4 h-4 p-0 m-0 text-blue-500 focus:outline-none`, `color: ${theme.color.primary.base};`);\n\n    if (type === 'checkbox') {\n      if (indeterminate) {\n        styles.push(tw`border-transparent`, `background-color: ${theme.color.primary.base};`);\n      } else {\n        styles.push(\n          `&:checked {\n            background-image: url(\"data:image/svg+xml,%3Csvg fill='${fill}' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.9919558 12.0005941c-.26547704 0-.52006014-.1054507-.7077524-.293l-2.00319264-2.00000003c-.37937552-.39237889-.37394992-1.01608478.01219439-1.40181858.3861443-.38573379 1.01051394-.39115363 1.40331041-.01218142l1.20234127 1.2 3.30864357-5.107c.3394637-.43630494.9687248-.51510281 1.4054941-.17599998.4367692.33910283.515651.96769503.1761873 1.40399998l-4.00638527 6.00000003c-.1761023.2273124-.44160568.3679379-.72877475.386z'/%3E%3C/svg%3E\");\n          `,\n        );\n      }\n    } else {\n      styles.push(\n        `&:checked {\n          background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='${fill}' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\");\n        `,\n      );\n    }\n  }\n\n  if (type === 'select') {\n    styles.push(tw`block w-full pr-10 font-normal text-left truncate rounded-md`);\n  }\n\n  return { styles: css(styles), focusRingStyles, focusProps };\n}\n","import { css } from '@emotion/core';\nimport tw, { TwStyle } from 'twin.macro';\n\nexport type Align = 'left' | 'center' | 'right';\n\nexport interface UseAlignParams {\n  align?: Align;\n}\n\nexport default function useJustifyContent({ align }: UseAlignParams) {\n  const styles: TwStyle[] = [];\n\n  switch (align) {\n    case 'left':\n      styles.push(tw`justify-start`);\n      break;\n\n    case 'center':\n      styles.push(tw`justify-center`);\n      break;\n\n    default:\n    case 'right':\n      styles.push(tw`justify-end`);\n      break;\n  }\n\n  return css(styles);\n}\n","import { css } from '@emotion/core';\nimport tw, { TwStyle } from 'twin.macro';\n\nexport type Spacing = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8';\n\nexport interface SpacingParams {\n  spacing?: Spacing;\n  inline?: boolean;\n}\n\nexport default function useSpacing({ spacing = '0', inline = false }: SpacingParams) {\n  const styles: TwStyle[] = [];\n\n  if (inline) {\n    switch (spacing) {\n      case '1':\n        styles.push(tw`space-x-1`);\n        break;\n      case '2':\n        styles.push(tw`space-x-2`);\n        break;\n      case '3':\n        styles.push(tw`space-x-3`);\n        break;\n      case '4':\n        styles.push(tw`space-x-4`);\n        break;\n      case '5':\n        styles.push(tw`space-x-5`);\n        break;\n      case '6':\n        styles.push(tw`space-x-6`);\n        break;\n      case '7':\n        styles.push(tw`space-x-7`);\n        break;\n      case '8':\n        styles.push(tw`space-x-8`);\n        break;\n      default:\n        break;\n    }\n  } else {\n    switch (spacing) {\n      case '1':\n        styles.push(tw`space-y-1`);\n        break;\n      case '2':\n        styles.push(tw`space-y-2`);\n        break;\n      case '3':\n        styles.push(tw`space-y-3`);\n        break;\n      case '4':\n        styles.push(tw`space-y-4`);\n        break;\n      case '5':\n        styles.push(tw`space-y-5`);\n        break;\n      case '6':\n        styles.push(tw`space-y-6`);\n        break;\n      case '7':\n        styles.push(tw`space-y-7`);\n        break;\n      case '8':\n        styles.push(tw`space-y-8`);\n        break;\n      default:\n        break;\n    }\n  }\n\n  return css(styles);\n}\n","/* eslint-disable new-cap, no-prototype-builtins */\nimport { isSSR } from '@sajari/react-sdk-utils';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\ntype SpeechRecognitionSupport = 'native' | 'webkit' | false;\n\nexport default function useVoiceInput(onResult?: (r: string) => void) {\n  const [supported, setSupported] = useState<SpeechRecognitionSupport>(false);\n  const [active, setActive] = useState(false);\n  const [result, setResult] = useState('');\n  const recognitionRef = useRef<SpeechRecognition>();\n\n  useEffect(() => {\n    if (isSSR()) {\n      return;\n    }\n\n    if (window.hasOwnProperty('SpeechRecognition')) {\n      setSupported('native');\n    } else if (window.hasOwnProperty('webkitSpeechRecognition')) {\n      setSupported('webkit');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (supported) {\n      if (supported === 'native') {\n        recognitionRef.current = new window.SpeechRecognition();\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        recognitionRef.current = new (window as any).webkitSpeechRecognition() as SpeechRecognition;\n      }\n    }\n  }, [supported]);\n\n  const start = useCallback(() => {\n    if (!supported || !recognitionRef.current) {\n      return;\n    }\n\n    const recognition = recognitionRef.current;\n\n    if (active) {\n      setActive(false);\n      recognition.stop();\n      return;\n    }\n\n    recognition.continuous = false;\n    recognition.interimResults = false;\n    recognition.start();\n\n    recognition.onresult = (event) => {\n      setActive(false);\n      recognition.stop();\n      const r = event.results[0][0].transcript;\n      setResult(r);\n      onResult?.(r);\n    };\n\n    recognition.onerror = () => {\n      setActive(false);\n      recognition.stop();\n    };\n\n    setActive(true);\n  }, [active, supported, onResult]);\n\n  return {\n    supported: supported !== false,\n    result,\n    active,\n    start,\n  };\n}\n","import { css } from '@emotion/core';\nimport { useTheme } from '@sajari/react-sdk-utils';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport { useFocusRingStyles } from '../hooks';\nimport { ButtonProps } from './types';\n\ninterface UseButtonStylesProps extends ButtonProps {\n  pressed: boolean;\n  hovered: boolean;\n  focused: boolean;\n}\n\nconst useButtonStyles = (props: UseButtonStylesProps) => {\n  const { size, fullWidth, appearance, spacing, disabled, loading, pressed, focused, hovered } = props;\n  const theme = useTheme();\n  const isLink = (['link', 'subtle-link'] as Array<ButtonProps['apperance']>).includes(appearance);\n  const styles: (string | TwStyle)[] = [];\n  const { focusProps: focusRingProps, focusRingStyles } = useFocusRingStyles();\n  const returnStyles = (val: typeof styles) => ({ styles: [css(val), focusRingStyles], focusRingProps });\n\n  styles.push(\n    tw`relative items-center justify-center leading-normal no-underline transition duration-150 ease-in-out border border-transparent border-solid cursor-pointer font-inherit focus:outline-none`,\n  );\n\n  if (!isLink) {\n    styles.push(tw`font-medium rounded-md select-none`);\n  }\n\n  styles.push(fullWidth ? tw`flex` : tw`inline-flex`);\n\n  switch (size) {\n    case 'xl':\n      if (!isLink) {\n        styles.push(tw`text-xl`);\n      }\n      if (spacing !== 'none') {\n        if (spacing === 'compact') {\n          styles.push(tw`px-8`);\n        } else {\n          styles.push(tw`px-12 py-4`);\n        }\n      }\n      break;\n\n    case 'lg':\n      if (!isLink) {\n        styles.push(tw`text-lg`);\n      }\n      if (spacing !== 'none') {\n        if (spacing === 'compact') {\n          styles.push(tw`px-6`);\n        } else {\n          styles.push(tw`px-8 py-3`);\n        }\n      }\n      break;\n\n    case 'sm':\n      styles.push(tw`text-sm`);\n\n      if (spacing !== 'none') {\n        if (spacing === 'compact') {\n          styles.push(tw`px-2`);\n        } else {\n          styles.push(tw`px-3 py-1`);\n        }\n      }\n      break;\n\n    case 'xs':\n      styles.push(tw`text-xs`);\n\n      if (spacing !== 'none') {\n        if (spacing === 'compact') {\n          styles.push(tw`px-1`);\n        } else {\n          styles.push(tw`px-2 py-0.5`);\n        }\n      }\n      break;\n\n    default:\n    case 'md':\n      if (!isLink) {\n        styles.push(tw`text-base`);\n      }\n      if (spacing !== 'none') {\n        if (spacing === 'compact') {\n          styles.push(tw`px-3`);\n        } else {\n          styles.push(tw`px-4 py-2`);\n        }\n      }\n      break;\n  }\n\n  if (disabled) {\n    styles.push(tw`text-gray-400 cursor-not-allowed`);\n\n    switch (appearance) {\n      case 'default':\n      case 'secondary':\n        styles.push(tw`bg-gray-100 border-gray-200`);\n        break;\n\n      default:\n        break;\n    }\n\n    return returnStyles(styles);\n  }\n\n  if (spacing === 'none') {\n    styles.push(tw`p-0`);\n  }\n\n  switch (appearance) {\n    // TODO: test theming for primary appearance, we might want to change them later\n    case 'primary':\n      styles.push(`color: ${theme.color.primary.text};`);\n\n      if (focused || pressed) {\n        styles.push(`background: ${theme.color.primary.active};`);\n      } else if (hovered) {\n        styles.push(`background: ${theme.color.primary.active};`);\n      } else {\n        styles.push(`background: ${theme.color.primary.base};`);\n      }\n      break;\n\n    case 'default':\n    case 'secondary':\n      styles.push(\n        tw`bg-white border-gray-200 shadow-sm hover:bg-gray-100`,\n        appearance === 'secondary' ? `color: ${theme.color.primary.base};` : tw`text-gray-500`,\n      );\n\n      if (pressed) {\n        styles.push(tw`bg-gray-100`);\n      }\n      break;\n\n    case 'link':\n      styles.push(tw`p-0 no-underline bg-transparent hover:underline focus:underline leading-inherit`, {\n        color: pressed ? theme.color.primary.active : theme.color.primary.base,\n      });\n\n      if (!loading && !pressed) {\n        styles.push(`&:hover, &:focus { color: ${theme.color.primary.active} }`);\n      }\n      break;\n\n    case 'subtle-link':\n      styles.push(\n        tw`p-0 no-underline bg-transparent hover:underline focus:underline leading-inherit`,\n        pressed ? tw`text-gray-700` : tw`text-gray-500`,\n      );\n\n      if (!loading && !pressed) {\n        styles.push(tw`hover:text-gray-700 focus:text-gray-700`);\n      }\n      break;\n\n    default:\n      break;\n  }\n\n  return returnStyles(styles);\n};\n\nexport default useButtonStyles;\n","import { useButton } from '@react-aria/button';\nimport { useFocus, useHover } from '@react-aria/interactions';\nimport { mergeProps } from '@react-aria/utils';\nimport { getStylesObject, mergeRefs } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport React, { useRef } from 'react';\n\nimport Box from '../Box';\nimport useButtonStyles from './styles';\nimport { ButtonProps } from './types';\n\nconst Button = React.forwardRef((props: ButtonProps, ref?: React.Ref<HTMLElement>) => {\n  const {\n    // TODO: handle the state later as we might need a Spinner/Icon component\n    loading = false,\n    as = 'button',\n    appearance = 'default',\n    size = 'md',\n    spacing = 'default',\n    disabled,\n    fullWidth = false,\n    onClick,\n    children,\n    className,\n    styles: stylesProps,\n    pressedClassName = '',\n    disableDefaultStyles = false,\n    ...rest\n  } = props;\n\n  const [focused, setFocused] = React.useState(false);\n  const buttonRef = useRef<HTMLElement | null>(null);\n  const ownRef = mergeRefs(buttonRef, ref);\n\n  const { buttonProps, isPressed: pressed } = useButton(\n    { ...rest, isDisabled: disabled, elementType: as, onPress: onClick },\n    buttonRef,\n  );\n  const { hoverProps, isHovered: hovered } = useHover({\n    isDisabled: disabled,\n  });\n  const { focusProps } = useFocus({\n    isDisabled: disabled,\n    onFocus: () => setFocused(true),\n    onBlur: () => setFocused(false),\n  });\n\n  const { styles: containerStyles, focusRingProps } = useButtonStyles({\n    pressed,\n    appearance,\n    disabled,\n    fullWidth,\n    loading,\n    size,\n    spacing,\n    focused,\n    hovered,\n  });\n\n  const customProps = mergeProps(buttonProps, focusProps, hoverProps, focusRingProps);\n  const styles = getStylesObject({ container: containerStyles }, disableDefaultStyles);\n\n  return (\n    <Box\n      as={as}\n      ref={ownRef}\n      {...customProps}\n      css={[styles.container, stylesProps]}\n      className={classnames(className, {\n        [pressedClassName]: pressed,\n      })}\n    >\n      {children}\n    </Box>\n  );\n});\n\nexport default Button;\nexport type { ButtonProps };\n","/* eslint-disable no-nested-ternary */\nimport { css } from '@emotion/core';\nimport tw from 'twin.macro';\n\nimport { UseButtonGroupStylesParams } from './types';\n\nexport function useButtonGroupStyles({ attached, inline }: UseButtonGroupStylesParams) {\n  const styles = [tw`inline-flex`, !attached ? tw`items-center` : undefined];\n\n  styles.push(inline ? tw`flex-row space-x-4` : tw`flex-col space-y-2`);\n\n  if (attached) {\n    styles.push(inline ? tw`-space-x-px` : tw`-space-y-px`);\n  }\n\n  return css(styles);\n}\n","/* eslint-disable no-nested-ternary */\n\nimport { __DEV__, cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { cloneElement } from 'react';\nimport tw, { styled } from 'twin.macro';\n\nimport Box from '../Box';\nimport { useButtonGroupStyles } from './styles';\nimport { ButtonGroupProps } from './types';\n\n// TODO: remove \"any\"\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst StyledBox = styled<any>(Box, { shouldForwardProp: (prop) => prop !== 'attached' && prop !== 'inline' })<\n  Pick<ButtonGroupProps, 'attached' | 'inline'>\n>`\n  & > button {\n    :first-of-type {\n      ${(props) =>\n        props.attached\n          ? props.inline\n            ? tw`rounded-none rounded-l-md after:(rounded-none rounded-l-lg)`\n            : tw`rounded-none rounded-t-md after:(rounded-none rounded-t-lg)`\n          : tw``}\n    }\n\n    :last-of-type {\n      ${(props) =>\n        props.attached\n          ? props.inline\n            ? tw`rounded-none rounded-r-md after:(rounded-none rounded-r-lg)`\n            : tw`rounded-none rounded-b-md after:(rounded-none rounded-b-lg)`\n          : tw``}\n    }\n\n    :not(:last-of-type):not(:first-of-type) {\n      ${(props) => (props.attached ? tw`rounded-none  after:(rounded-none)` : tw``)};\n    }\n\n    ${tw`focus:z-10`};\n  }\n`;\n\nconst ButtonGroup = React.forwardRef((props: ButtonGroupProps, ref?: React.Ref<HTMLDivElement>) => {\n  const {\n    attached = false,\n    fullWidth,\n    inline = true,\n    children,\n    as = 'div',\n    disableDefaultStyles = false,\n    styles: stylesProp,\n    ...rest\n  } = props;\n  const styles = getStylesObject({ container: useButtonGroupStyles({ attached, inline }) }, disableDefaultStyles);\n  const validChildren = cleanChildren(children);\n\n  // TODO: handle case where child is Tooltip\n  const clones = validChildren.map((child) =>\n    cloneElement(child, {\n      fullWidth,\n      disableDefaultStyles,\n      ...child.props,\n    }),\n  );\n\n  if (disableDefaultStyles) {\n    return (\n      <Box as={as} ref={ref} css={stylesProp} {...rest}>\n        {clones}\n      </Box>\n    );\n  }\n\n  return (\n    <StyledBox attached={attached} inline={inline} as={as} ref={ref} css={[styles.container, stylesProp]} {...rest}>\n      {clones}\n    </StyledBox>\n  );\n});\n\nif (__DEV__) {\n  ButtonGroup.displayName = 'ButtonGroup';\n}\n\nexport default ButtonGroup;\nexport type { ButtonGroupProps };\n","import { inferStylesObjectKeys, mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useFontSize } from '../hooks';\nimport { LabelProps } from './types';\n\nexport default function useLabelStyles({ visuallyHidden, size }: LabelProps) {\n  const styles = inferStylesObjectKeys({\n    container: [],\n  });\n\n  if (visuallyHidden) {\n    styles.container.push(tw`sr-only`);\n  } else {\n    const sizeStyles = useFontSize({ size });\n    styles.container.push(tw`inline-flex items-center m-0 cursor-pointer`, sizeStyles);\n  }\n\n  return mapStyles(styles);\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport useLabelStyles from './styles';\nimport { LabelProps } from './types';\n\nconst Label = React.forwardRef((props: LabelProps, ref?: React.Ref<HTMLLabelElement>) => {\n  const { disableDefaultStyles = false, visuallyHidden, styles: stylesProp, ...rest } = props;\n  const styles = getStylesObject(useLabelStyles(props), disableDefaultStyles && !visuallyHidden);\n\n  return <Box as=\"label\" {...rest} ref={ref} css={[styles.container, stylesProp]} />;\n});\n\nif (__DEV__) {\n  Label.displayName = 'Label';\n}\n\nexport default Label;\nexport type { LabelProps };\n","import { mapStyles, useTheme } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useFontSize, UseInputStyleProps, useInputStyles } from '../hooks';\nimport { CheckboxProps } from './types';\n\nexport function useCheckboxStyles(props: CheckboxProps) {\n  const theme = useTheme();\n  const { invalid = false, indeterminate = false, fontSize } = props;\n  const sizeStyles = useFontSize({ size: fontSize });\n\n  const { styles: inputStyles, focusRingStyles, focusProps } = useInputStyles({\n    type: 'checkbox',\n    indeterminate,\n    ...props,\n  } as UseInputStyleProps);\n\n  const styles = {\n    container: [tw`flex items-center`],\n    componentWrapper: [tw`relative inline-flex items-center`],\n    inputWrapper: [tw`relative flex`, focusRingStyles],\n    label: [tw`ml-2`, sizeStyles],\n    indeterminate: [tw`absolute inset-0 flex items-center justify-center pointer-events-none`],\n    indeterminateInner: [tw`m-auto w-1/2 h-0.5 rounded-sm`, { backgroundColor: theme.color.primary.text }],\n    input: [tw`form-checkbox`, inputStyles],\n  };\n\n  if (invalid) {\n    styles.label.push(tw`text-red-500`);\n  }\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","import { useId } from '@react-aria/utils';\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport Label from '../Label';\nimport { useCheckboxStyles } from './styles';\nimport { CheckboxProps } from './types';\n\nconst Checkbox = React.forwardRef((props: CheckboxProps, ref?: React.Ref<HTMLInputElement>) => {\n  const {\n    id = `checkbox-${useId()}`,\n    name,\n    value,\n    defaultChecked,\n    checked,\n    indeterminate,\n    disabled,\n    invalid,\n    readOnly,\n    onChange,\n    onBlur,\n    onFocus,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    children,\n    labelClassName,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    ...rest\n  } = props;\n\n  const [privateChecked, setPrivateChecked] = React.useState(defaultChecked ?? false);\n  const { current: controlled } = React.useRef(typeof checked !== 'undefined');\n  const internalChecked = (controlled ? checked : privateChecked) ?? false;\n  const { styles: checkboxStyles, focusProps } = useCheckboxStyles(props);\n  const styles = getStylesObject(checkboxStyles, disableDefaultStyles);\n\n  const internalChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!controlled) {\n      setPrivateChecked(event.target.checked);\n    }\n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n  const comp = (\n    <Box css={[styles.componentWrapper, !children && stylesProp]} {...(!children ? rest : {})}>\n      &#8203;\n      <Box as=\"span\" css={styles.inputWrapper}>\n        {indeterminate && (\n          <Box css={styles.indeterminate}>\n            <Box css={styles.indeterminateInner} />\n          </Box>\n        )}\n        <input\n          ref={ref}\n          type=\"checkbox\"\n          id={id}\n          name={name}\n          value={value}\n          checked={internalChecked}\n          disabled={disabled}\n          readOnly={readOnly}\n          onChange={internalChange}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          aria-invalid={invalid}\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n          aria-checked={internalChecked}\n          css={styles.input}\n          {...focusProps}\n        />\n      </Box>\n    </Box>\n  );\n\n  if (!children) {\n    return comp;\n  }\n\n  return (\n    <Box css={[styles.container, stylesProp]} {...rest}>\n      {comp}\n\n      <Label htmlFor={id} css={styles.label} className={labelClassName}>\n        {children}\n      </Label>\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  Checkbox.displayName = 'Checkbox';\n}\n\nexport default Checkbox;\nexport type { CheckboxProps };\n","import { isNumber } from '@sajari/react-sdk-utils';\nimport tw, { TwStyle } from 'twin.macro';\n\nexport function mapTruncateValue(truncate: boolean | 2 | 3 | 4 | 5 | undefined): TwStyle {\n  if (!truncate) {\n    return tw``;\n  }\n\n  if (truncate === true) {\n    return tw`truncate`;\n  }\n\n  if (isNumber(truncate)) {\n    switch (truncate) {\n      case 2:\n        return tw`truncate-2-lines`;\n\n      case 3:\n        return tw`truncate-3-lines`;\n\n      case 4:\n        return tw`truncate-4-lines`;\n\n      case 5:\n        return tw`truncate-5-lines`;\n\n      default:\n        return tw``;\n    }\n  }\n\n  return tw``;\n}\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useFontSize } from '../hooks';\nimport { mapTruncateValue } from '../utils/styles';\nimport { TextElement, TextProps } from './types';\n\ninterface UseTextStylesProps {\n  as: TextElement;\n  truncate: TextProps['truncate'];\n  size: TextProps['size'];\n}\n\nexport default function useTextStyles({ as, truncate, size }: UseTextStylesProps) {\n  const sizeStyles = useFontSize({ size });\n\n  const styles = {\n    container: [tw`p-0 m-0`, mapTruncateValue(truncate), sizeStyles],\n  };\n\n  switch (as) {\n    case 'small':\n      styles.container.push(tw`text-sm`);\n      break;\n\n    case 'pre':\n    case 'code':\n      styles.container.push(tw`font-mono font-normal text-code-inline`);\n      break;\n\n    case 'mark':\n      styles.container.push(tw`px-1 text-gray-800 bg-yellow-100`);\n      break;\n\n    default:\n      break;\n  }\n\n  if (as === 'code') {\n    styles.container.push(tw`text-red-500`);\n  }\n\n  return mapStyles(styles);\n}\n","import { forwardRefWithAs, getStylesObject, PropsWithAs } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport useTextStyles from './styles';\nimport { TextProps } from './types';\n\ntype DefaultElement = 'p';\n\nconst TextComponent = (props: PropsWithAs<TextProps, DefaultElement>, ref: React.Ref<HTMLParagraphElement>) => {\n  const { as = 'p', truncate, disableDefaultStyles = false, size, styles: stylesProp, ...rest } = props;\n  const styles = getStylesObject(useTextStyles({ as, truncate, size }), disableDefaultStyles);\n\n  return <Box ref={ref} as={as} css={[styles.container, stylesProp]} {...rest} />;\n};\n\nconst Text = forwardRefWithAs<TextProps, DefaultElement>(TextComponent);\n\nexport default Text;\nexport type { TextProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useSpacing } from '../hooks';\nimport { CheckboxGroupProps } from './types';\n\nexport function useCheckboxGroupStyles(props: CheckboxGroupProps) {\n  const { inline, spacing = inline ? '4' : '1' } = props;\n  const spacingStyles = useSpacing({ spacing, inline });\n  const styles = {\n    container: [tw`flex`, inline ? tw`flex-row` : tw`flex-col`, spacingStyles],\n  };\n\n  return mapStyles(styles);\n}\n","import { useId } from '@react-aria/utils';\nimport { cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { cloneElement, useRef, useState } from 'react';\nimport tw from 'twin.macro';\n\nimport Box from '../Box';\nimport Text from '../Text';\nimport { useCheckboxGroupStyles } from './styles';\nimport { CheckboxGroupProps } from './types';\n\ntype Values = string | number | readonly string[] | undefined;\n\nconst CheckboxGroup = (props: CheckboxGroupProps) => {\n  const {\n    onChange,\n    name,\n    label = name,\n    defaultValue,\n    value: valueProp,\n    children,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    'aria-labelledby': ariaLabelledBy,\n    ...rest\n  } = props;\n\n  const [values, setValues] = useState(defaultValue || []);\n  const { current: controlled } = useRef(typeof valueProp !== 'undefined');\n  const internalValues = (controlled ? valueProp : values) || [];\n  const styles = getStylesObject(useCheckboxGroupStyles(props), disableDefaultStyles);\n\n  const internalChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { checked, value } = event.target;\n    let newValues: Array<Values>;\n\n    if (checked) {\n      newValues = [...internalValues, value];\n    } else {\n      newValues = internalValues.filter((v) => v !== value);\n    }\n    if (!controlled) {\n      setValues(newValues);\n    }\n    if (onChange) {\n      onChange(newValues);\n    }\n  };\n\n  // If no name is passed, we'll generate a random, unique name\n  const fallbackName = `checkbox-${useId()}`;\n  const internalName = name || fallbackName;\n  const validChildren = cleanChildren(children);\n\n  const clones = validChildren.map((child, index) => {\n    const checked = internalValues.includes(child.props.value);\n\n    // TODO: Handle if the child isn't a Checkbox since this assumes it will be\n    return cloneElement(child, {\n      key: `${internalName}-${index}`,\n      name: `${internalName}-${index}`,\n      onChange: internalChange,\n      checked,\n      disableDefaultStyles,\n    });\n  });\n\n  const labelId = `group-label-${useId()}`;\n\n  return (\n    <Box {...rest} role=\"group\" aria-labelledby={ariaLabelledBy ?? labelId} css={[styles.container, stylesProp]}>\n      {label && !ariaLabelledBy && (\n        <Text id={labelId} css={tw`sr-only`}>\n          {label}\n        </Text>\n      )}\n\n      {clones}\n    </Box>\n  );\n};\n\nexport default CheckboxGroup;\nexport type { CheckboxGroupProps };\n","import { mapStyles, useTheme } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useFocusRingStyles } from '../hooks';\n\nexport default function useLinkStyles() {\n  const theme = useTheme();\n  const { focusRingStyles, focusProps: focusRingProps } = useFocusRingStyles();\n\n  const styles = {\n    container: [\n      tw`relative transition-colors duration-150`,\n      focusRingStyles,\n      `&:hover, &:focus { color: ${theme.color.primary.base} }`,\n    ],\n  };\n\n  return { styles: mapStyles(styles), focusRingProps };\n}\n","/* eslint-disable jsx-a11y/anchor-has-content */\n\nimport { mergeProps } from '@react-aria/utils';\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport useLinkStyles from './styles';\nimport { LinkProps } from './types';\n\nconst Link = React.forwardRef((props: LinkProps, ref?: React.Ref<HTMLAnchorElement>) => {\n  const { disableDefaultStyles = false, styles: stylesProp, ...rest } = props;\n  const { styles, focusRingProps } = useLinkStyles();\n\n  return (\n    <a\n      {...mergeProps(rest, focusRingProps)}\n      ref={ref}\n      css={[getStylesObject(styles.container, disableDefaultStyles), stylesProp]}\n    />\n  );\n});\n\nif (__DEV__) {\n  Link.displayName = 'Link';\n}\n\nexport default Link;\nexport type { LinkProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function usePoweredByStyles() {\n  const styles = {\n    container: [tw`inline-flex items-center text-xs text-gray-400`],\n    logo: [tw`inline-block align-middle`],\n    label: [tw`pr-2`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__ } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport { LogoSajariColor, LogoSajariMono } from '../assets/logos';\nimport Box from '../Box';\nimport Link from '../Link';\nimport usePoweredByStyles from './styles';\nimport { PoweredByProps } from './types';\n\nconst PoweredBy = React.forwardRef((props: PoweredByProps, ref?: React.Ref<HTMLAnchorElement>) => {\n  const { appearance } = props;\n  const styles = usePoweredByStyles();\n\n  return (\n    <Link\n      href=\"https://www.sajari.com/?utm_source=react&amp;utm_medium=referral&amp;utm_campaign=poweredby\"\n      target=\"_blank\"\n      ref={ref}\n      css={[styles.container]}\n      {...props}\n    >\n      <Box as=\"span\" css={styles.label}>\n        Powered by\n      </Box>\n      {appearance === 'color' ? <LogoSajariColor css={styles.logo} /> : <LogoSajariMono css={styles.logo} />}\n    </Link>\n  );\n});\n\nif (__DEV__) {\n  PoweredBy.displayName = 'PoweredBy';\n}\n\nexport default PoweredBy;\nexport type { PoweredByProps };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createContext } from '@sajari/react-sdk-utils';\nimport { PropGetters } from 'downshift';\n\nimport { ComboboxCustomClassNames, ComboboxMode, ComboboxProps } from './types';\n\ninterface ComboboxContextProps<T = any> {\n  mode: ComboboxMode;\n  inputValue: string;\n  open: boolean;\n  items: ComboboxProps<T>['items'];\n  completion: string;\n  getItemProps: PropGetters<T>['getItemProps'];\n  getMenuProps: PropGetters<T>['getMenuProps'];\n  highlightedIndex: number;\n  selectedItem: T;\n  showDropdownTips: boolean;\n  showPoweredBy: boolean;\n  typedInputValue: string;\n  renderItem?: ComboboxProps<T>['renderItem'];\n  itemToString: Required<ComboboxProps<T>>['itemToString'];\n  itemToUrl: Required<ComboboxProps<T>>['itemToUrl'];\n  onSelect: ComboboxProps<T>['onSelect'];\n  disableDefaultStyles: ComboboxProps<T>['disableDefaultStyles'];\n  customClassNames: ComboboxCustomClassNames;\n}\n\nconst [ComboboxContextProvider, useComboboxContext] = createContext<ComboboxContextProps>({\n  strict: true,\n  name: 'ComboboxContext',\n});\n\nexport default ComboboxContextProvider;\nexport { useComboboxContext };\n","import { inferStylesObjectKeys, mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useDropdownItemStyles as useCoreDropdownItemStyles } from '../../../hooks';\nimport { DropdownItemProps } from './types';\n\nexport function useDropdownItemStyles(props: DropdownItemProps) {\n  const { selected } = props;\n  const { root, label } = useCoreDropdownItemStyles({ highlighted: selected });\n  const styles = inferStylesObjectKeys({\n    item: [root],\n    highlight: [tw`font-semibold`],\n    label: [label, tw`flex items-center transition-opacity duration-75`],\n    iconEnter: [tw`ml-2`],\n  });\n\n  if (selected) {\n    styles.label.push(tw`opacity-100`);\n  } else {\n    styles.highlight.push(tw`text-gray-900`);\n    styles.label.push(tw`opacity-0`);\n  }\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport { IconEnterKey } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { useComboboxContext } from '../../context';\nimport { useDropdownItemStyles } from './styles';\nimport { DropdownItemProps } from './types';\n\nconst DropdownItem = (props: DropdownItemProps) => {\n  const { value, index, selected, highlight, ...rest } = props;\n  const {\n    typedInputValue,\n    getItemProps,\n    showDropdownTips,\n    itemToString,\n    onSelect,\n    disableDefaultStyles = false,\n    customClassNames: {\n      dropdownItemClassName = '',\n      dropdownSelectedItemClassName = '',\n      dropdownHighlightItemClassName = '',\n    },\n  } = useComboboxContext();\n  const stringItem = itemToString(value);\n  const styles = getStylesObject(useDropdownItemStyles(props), disableDefaultStyles);\n\n  // Highlight the suggested text rather than their input\n  // https://baymard.com/blog/autocomplete-design#7-highlight-the-active-suggestion-desktop-specific\n  const renderContent = () => {\n    if (typedInputValue && stringItem.startsWith(typedInputValue)) {\n      return (\n        <React.Fragment>\n          {typedInputValue}\n          <Box as=\"span\" css={styles.highlight}>\n            {stringItem.replace(typedInputValue, '')}\n          </Box>\n        </React.Fragment>\n      );\n    }\n\n    return stringItem;\n  };\n\n  return (\n    <Box\n      as=\"li\"\n      {...getItemProps({\n        index,\n        item: value,\n        onClick: () => {\n          if (onSelect) {\n            onSelect(value);\n          }\n        },\n      })}\n      key={`${stringItem}_${index}`}\n      css={styles.item}\n      className={classnames(dropdownItemClassName, {\n        [dropdownSelectedItemClassName]: selected,\n        [dropdownHighlightItemClassName]: highlight,\n      })}\n      {...rest}\n    >\n      <Box as=\"span\">{renderContent()}</Box>\n\n      {showDropdownTips && (\n        <Box as=\"span\" css={styles.label}>\n          Select\n          <IconEnterKey css={styles.iconEnter} />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default DropdownItem;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { FontSizes, useFontSize } from '../hooks';\nimport { mapTruncateValue } from '../utils/styles';\nimport { HeadingElements } from './types';\n\ninterface UseHeadingStylesOptions {\n  as: HeadingElements;\n  size?: FontSizes;\n  truncate?: boolean | 2 | 3 | 4 | 5;\n}\n\nexport default function useHeadingStyles(options: UseHeadingStylesOptions) {\n  const { size, truncate = false } = options;\n  const sizeStyles = useFontSize({ size });\n\n  const styles = {\n    container: [\n      tw`p-0 m-0`,\n      mapTruncateValue(truncate),\n      size === 'xs' ? tw`text-gray-400` : tw`text-gray-800`,\n      sizeStyles,\n    ],\n  };\n\n  if (size === 'xs') {\n    styles.container.push(tw`font-medium tracking-wide uppercase`);\n  } else {\n    styles.container.push(tw`font-semibold normal-case`);\n  }\n\n  if (size !== 'xs' && size !== 'sm' && size !== 'base') {\n    styles.container.push(tw`tracking-tight`);\n  }\n\n  return mapStyles(styles);\n}\n","import { forwardRefWithAs, getStylesObject, PropsWithAs } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport { FontSizes } from '../hooks';\nimport useHeadingStyles from './styles';\nimport { HeadingElements, HeadingProps } from './types';\n\ntype DefaultElement = 'h1';\n\nconst mapElementToSize = (element: HeadingElements): FontSizes => {\n  switch (element) {\n    case 'h6':\n      return 'xs';\n    case 'h5':\n      return 'sm';\n    case 'h4':\n      return 'base';\n    case 'h3':\n      return 'lg';\n    case 'h2':\n      return 'xl';\n    case 'h1':\n      return '2xl';\n    default:\n      return 'base';\n  }\n};\n\nconst HeadingComponent = (props: PropsWithAs<HeadingProps, DefaultElement>, ref: React.Ref<HTMLHeadingElement>) => {\n  const {\n    as = 'h1',\n    size = mapElementToSize(as),\n    truncate,\n    disableDefaultStyles = false,\n    styles: stylesProp,\n    ...rest\n  } = props;\n  const styles = getStylesObject(useHeadingStyles({ size, as, truncate }), disableDefaultStyles);\n\n  return <Box ref={ref} as={as} css={[styles.container]} {...rest} />;\n};\n\nconst Heading = forwardRefWithAs<HeadingProps, DefaultElement>(HeadingComponent);\n\nexport default Heading;\nexport type { HeadingProps };\n","import { isSSR } from '@sajari/react-sdk-utils';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { ImageProps } from '../Image/types';\n\n// TODO: Handle load failed fallback\n\ninterface HasImageLoadedProps {\n  src?: ImageProps['src'];\n  onLoad?: ImageProps['onLoad'];\n  onError?: ImageProps['onError'];\n}\n\nexport function useHasImageLoaded(props: HasImageLoadedProps) {\n  const { src, onLoad, onError } = props;\n  const ref = useRef(true);\n  const [hasLoaded, setHasLoaded] = useState(false);\n\n  useEffect(() => {\n    if (!src || isSSR()) {\n      return;\n    }\n\n    const image = new window.Image();\n\n    image.addEventListener('load', (event) => {\n      if (ref.current) {\n        setHasLoaded(true);\n\n        if (onLoad) {\n          onLoad.call(image, event);\n        }\n      }\n    });\n\n    image.addEventListener('error', (event) => {\n      if (ref.current) {\n        setHasLoaded(false);\n\n        if (onError) {\n          onError.call(image, event);\n        }\n      }\n    });\n\n    image.src = src;\n  }, [src, onLoad, onError]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      ref.current = false;\n    };\n  }, []);\n\n  return hasLoaded;\n}\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useHasImageLoaded } from '../hooks/useHasImageLoaded';\nimport { ImageProps } from './types';\n\nfunction useObjectFit(objectFit: ImageProps['objectFit'], isSecondImage = false) {\n  switch (objectFit) {\n    case 'contain':\n      return tw`object-contain`;\n\n    case 'cover':\n      return tw`object-cover`;\n\n    case 'fill':\n      return tw`object-fill`;\n\n    case 'scale-down':\n      return tw`object-scale-down`;\n\n    case 'none':\n      return tw`object-none`;\n\n    default:\n      return isSecondImage ? tw`object-cover` : '';\n  }\n}\n\nexport function useImageStyles(props: ImageProps & { hover: boolean }) {\n  const hasLoaded = useHasImageLoaded(props);\n  const { hover, objectFit } = props;\n  const styles = {\n    container: [tw`relative rounded-md`, !hasLoaded ? tw`bg-gray-100` : ''],\n    image: [\n      tw`transition-opacity duration-200 ease-in`,\n      hasLoaded && !hover ? tw`opacity-100` : tw`opacity-0`,\n      { borderRadius: 'inherit' },\n      useObjectFit(objectFit),\n    ],\n    secondImage: [\n      tw`absolute top-0 left-0 object-cover w-full h-full transition-opacity duration-200 ease-in`,\n      hasLoaded && hover ? tw`opacity-100` : tw`opacity-0`,\n      { borderRadius: 'inherit' },\n      useObjectFit(objectFit, true),\n    ],\n  };\n\n  return mapStyles(styles);\n}\n","import { isArray } from '@sajari/react-sdk-utils';\n\nimport { ImageProvider } from './types';\n\ninterface Params {\n  provider: ImageProvider;\n  images?: string | Array<string | undefined>;\n  width?: number | string;\n  height?: number | string;\n}\n\nexport default function useImageProvider(params: Params) {\n  const { provider, width, height, images: imagesParam = [] } = params;\n  const images = isArray(imagesParam) ? (imagesParam.filter(Boolean) as Array<string>) : [imagesParam];\n  if (!provider) {\n    return images;\n  }\n\n  switch (provider) {\n    case 'shopify':\n      return images.map((i) => {\n        const url = new URL(i);\n        const { pathname } = url;\n        const [extension, ...rest] = pathname.split('.').reverse();\n        const pathnameWithoutExtension = rest.join();\n        if (width && height) {\n          url.pathname = `${pathnameWithoutExtension}_${width}x${height}`;\n        } else if (width) {\n          url.pathname = `${pathnameWithoutExtension}_${width}x`;\n        } else if (height) {\n          url.pathname = `${pathnameWithoutExtension}_x${width}`;\n        }\n        url.pathname = `${url.pathname}.${extension}`;\n        return url.toString();\n      });\n    default:\n      return images;\n  }\n}\n","import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport AspectRatio from '../AspectRatio';\nimport Box from '../Box';\nimport { useImageStyles } from './styles';\nimport { ImageProps } from './types';\nimport useImageProvider from './useImageProvider';\n\ninterface NativeImageProps {\n  htmlWidth?: ImageProps['htmlWidth'];\n  htmlHeight?: ImageProps['htmlHeight'];\n  alt?: ImageProps['alt'];\n  loading?: ImageProps['loading'];\n}\n\nconst NativeImage = React.forwardRef((props: NativeImageProps, ref?: React.Ref<HTMLImageElement>) => {\n  const { htmlWidth, htmlHeight, alt = '', loading = 'lazy', ...rest } = props;\n\n  return <img ref={ref} width={htmlWidth} height={htmlHeight} alt={alt} loading={loading} {...rest} />;\n});\n\nconst Image = React.forwardRef((props: ImageProps, ref?: React.Ref<HTMLImageElement>) => {\n  const {\n    src: srcProp,\n    hoverSrc: hoverSrcProp,\n    onError,\n    onLoad,\n    onMouseEnter: onMouseEnterExternal,\n    onMouseLeave: onMouseLeaveExternal,\n    htmlWidth,\n    htmlHeight,\n    aspectRatio,\n    objectFit,\n    className,\n    containerClassName,\n    disableDefaultStyles = false,\n    width,\n    height,\n    provider,\n    ...rest\n  } = props;\n  const [hover, setHover] = React.useState(false);\n  const [src, hoverSrc] = useImageProvider({ provider, images: [srcProp, hoverSrcProp], width, height });\n\n  const onMouseEnter = (e) => {\n    if (hoverSrc) {\n      setHover(true);\n    }\n    onMouseEnterExternal?.(e);\n  };\n\n  const onMouseLeave = (e) => {\n    if (hoverSrc) {\n      setHover(false);\n    }\n    onMouseLeaveExternal?.(e);\n  };\n\n  const imageProps = {\n    src,\n    onLoad,\n    onError,\n    htmlWidth,\n    htmlHeight,\n    onMouseEnter,\n    onMouseLeave,\n  };\n\n  const styles = getStylesObject(useImageStyles({ ...props, hover }), disableDefaultStyles);\n  const image = <Box as={NativeImage} ref={ref} css={styles.image} {...imageProps} {...rest} />;\n  const secondImage = React.cloneElement(image, { src: hoverSrc, css: styles.secondImage });\n\n  return (\n    <AspectRatio ratio={aspectRatio ?? null} css={styles.container} className={containerClassName}>\n      <>\n        {src ? image : null}\n        {hoverSrc ? secondImage : null}\n      </>\n    </AspectRatio>\n  );\n});\n\nif (__DEV__) {\n  Image.displayName = 'Image';\n}\n\nexport default Image;\nexport type { ImageProps };\n","import { inferStylesObjectKeys, mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { DropdownResultProps } from './types';\n\nexport function useDropdownItemStyles(props: DropdownResultProps) {\n  const { selected } = props;\n  const styles = inferStylesObjectKeys({\n    item: [\n      tw`flex items-center w-full px-2 py-1 text-sm leading-5 text-left transition-all duration-75 rounded cursor-pointer`,\n    ],\n    imageContainer: [tw`flex-none w-12 h-12 mr-6`],\n    textContainer: [tw`min-w-0 space-y-0.5`],\n  });\n\n  if (selected) {\n    styles.item.push(tw`bg-gray-200`);\n  }\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport Heading from '../../../Heading';\nimport Image from '../../../Image';\nimport Text from '../../../Text';\nimport { useComboboxContext } from '../../context';\nimport { useDropdownItemStyles } from './styles';\nimport { DropdownResultProps } from './types';\n\nconst DropdownResult = (props: DropdownResultProps) => {\n  const { value, index, selected, ...rest } = props;\n  const {\n    getItemProps,\n    disableDefaultStyles = false,\n    customClassNames: {\n      resultImageContainerClassName = '',\n      resultTextContainerClassName = '',\n      resultClassName = '',\n      selectedResultClassName = '',\n    },\n  } = useComboboxContext();\n  const styles = getStylesObject(useDropdownItemStyles(props), disableDefaultStyles);\n\n  return (\n    <Box\n      as=\"li\"\n      {...getItemProps({\n        index,\n        item: value,\n      })}\n      className={classnames(resultClassName, { [selectedResultClassName]: selected })}\n      {...rest}\n    >\n      <Box as=\"a\" href={value.url} onClick={value.onClick} onContextMenu={value.onClick} css={styles.item}>\n        <Box css={styles.imageContainer} className={resultImageContainerClassName}>\n          <Image src={value.image} aspectRatio={1} objectFit=\"contain\" />\n        </Box>\n\n        <Box css={styles.textContainer} className={resultTextContainerClassName}>\n          <Heading as=\"h1\" size=\"sm\">\n            {value.title}\n          </Heading>\n          <Text truncate>{value.description}</Text>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default DropdownResult;\n","/* eslint-disable react/no-array-index-key */\nimport { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport { IconDownKey, IconEnterKey, IconUpKey } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { useDropdownStyles } from '../../../hooks';\nimport PoweredBy from '../../../PoweredBy';\nimport Text from '../../../Text';\nimport { useComboboxContext } from '../../context';\nimport { ResultItem } from '../../types';\nimport DropdownItem from '../DropdownItem';\nimport DropdownResult from '../DropdownResult';\n\nconst Dropdown = () => {\n  const {\n    mode,\n    open,\n    items = [],\n    inputValue,\n    highlightedIndex,\n    getMenuProps,\n    showDropdownTips,\n    showPoweredBy,\n    renderItem,\n    itemToString,\n    getItemProps,\n    disableDefaultStyles = false,\n    customClassNames: { dropdownClassName, dropdownListClassName, dropdownFooterClassName },\n  } = useComboboxContext();\n  const shown = (mode === 'results' || mode === 'suggestions') && open && items.length > 0;\n  const styles = getStylesObject(useDropdownStyles({ shown }), disableDefaultStyles);\n  const label = mode === 'results' ? 'Results' : 'Suggestions';\n  let listRender: React.ReactNode = null;\n\n  if (renderItem) {\n    listRender = items.map((item, index) => {\n      const selected = highlightedIndex === index;\n      const stringItem = itemToString(item);\n      const highlight = inputValue.length > 0 && stringItem.startsWith(inputValue);\n\n      return (\n        <React.Fragment key={`${stringItem}-${index}`}>\n          {renderItem({ item, highlight, selected, getItemProps, index })}\n        </React.Fragment>\n      );\n    });\n  } else if (mode === 'results') {\n    listRender = (items as ResultItem[]).map((item, index) => {\n      const selected = highlightedIndex === index;\n\n      return <DropdownResult value={item} selected={selected} index={index} key={`${item.title}-${index}`} />;\n    });\n  } else {\n    listRender = (items as string[]).map((item, index) => {\n      const selected = highlightedIndex === index;\n      const stringItem = itemToString(item);\n      const highlight = inputValue.length > 0 && stringItem.startsWith(inputValue);\n\n      return (\n        <DropdownItem\n          value={item}\n          highlight={highlight}\n          selected={selected}\n          index={index}\n          key={`${stringItem}-${index}`}\n        />\n      );\n    });\n  }\n\n  return (\n    <Box css={styles.container} className={dropdownClassName}>\n      <Text as=\"h6\" css={styles.heading}>\n        {label}\n      </Text>\n\n      <ul {...getMenuProps()} css={styles.items} className={dropdownListClassName}>\n        {listRender}\n      </ul>\n\n      {(showDropdownTips || showPoweredBy) && (\n        <Box as=\"footer\" css={styles.footer} className={dropdownFooterClassName}>\n          {showDropdownTips && (\n            <Box as=\"span\" css={styles.footerItems}>\n              <Box as=\"span\" css={styles.footerItem}>\n                <IconUpKey css={styles.footerIcon} />\n                <IconDownKey css={styles.footerIcon} />\n                to navigate\n              </Box>\n\n              <Box as=\"span\" css={styles.footerItem}>\n                <IconEnterKey css={styles.footerIcon} />\n                to select\n              </Box>\n\n              <Box as=\"span\" css={styles.footerItem}>\n                <Box as=\"span\" css={styles.footerEscHint}>\n                  esc\n                </Box>\n                to dismiss\n              </Box>\n            </Box>\n          )}\n\n          {showPoweredBy && <PoweredBy css={styles.poweredBy} />}\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default Dropdown;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport function useTypeaheadStyles() {\n  const styles = {\n    container: [tw`text-gray-400`],\n    hidden: [tw`opacity-0`],\n  };\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport { useComboboxContext } from '../../context';\nimport { useTypeaheadStyles } from './styles';\n\nexport function trimPrefix(str: string, prefix: string) {\n  if (str === undefined || prefix === '') {\n    return '';\n  }\n  if (str.startsWith(prefix)) {\n    return str.slice(prefix.length);\n  }\n  return '';\n}\n\nconst Typeahead = () => {\n  const {\n    mode,\n    completion,\n    inputValue,\n    disableDefaultStyles = false,\n    customClassNames: { typeaheadClassName = '' },\n  } = useComboboxContext();\n  const styles = getStylesObject(useTypeaheadStyles(), disableDefaultStyles);\n  let typeaheadValue = '';\n  let hiddenText = '&#8203;';\n\n  if (mode === 'typeahead' && completion) {\n    typeaheadValue = trimPrefix(completion, inputValue);\n    hiddenText = completion.substring(0, completion.length - typeaheadValue.length);\n  }\n\n  return (\n    <Box css={styles.container} className={typeaheadClassName}>\n      <Box as=\"span\" css={styles.hidden}>\n        {hiddenText}\n      </Box>\n      {typeaheadValue}\n    </Box>\n  );\n};\n\nexport default Typeahead;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\ninterface UseVoicesStylesParams {\n  active?: boolean;\n}\n\nexport default function useVoiceStyles({ active }: UseVoicesStylesParams) {\n  const styles = {\n    container: [\n      tw`transition duration-200 bg-transparent border-0 outline-none cursor-pointer`,\n      active ? tw`text-red-500` : tw`hover:text-gray-600 focus:text-gray-600`,\n    ],\n  };\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport { IconEmptyMic, IconMic } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { useVoiceInput } from '../../../hooks';\nimport { useComboboxContext } from '../../context';\nimport useVoiceStyles from './styles';\nimport { VoiceProps } from './types';\n\nconst Voice = ({ children, onVoiceInput, ...rest }: VoiceProps) => {\n  const { active, start, supported } = useVoiceInput(onVoiceInput);\n  const { disableDefaultStyles = false } = useComboboxContext();\n\n  if (!supported) {\n    return null;\n  }\n\n  if (children && typeof children === 'function') {\n    return children({ onClick: start, active });\n  }\n\n  const styles = getStylesObject(useVoiceStyles({ active }), disableDefaultStyles);\n\n  return (\n    <Box as=\"button\" type=\"button\" css={styles.container} onClick={start} aria-label=\"Search by voice\" {...rest}>\n      {active ? <IconMic /> : <IconEmptyMic />}\n    </Box>\n  );\n};\n\nexport default Voice;\n","import { inferStylesObjectKeys, mapStyles } from '@sajari/react-sdk-utils';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport { useFocusRingStyles } from '../hooks';\nimport { ComboboxProps } from './types';\n\ninterface UseComboboxStylesProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  size: ComboboxProps<any>['size'];\n  voiceEnabled: boolean;\n  loading: boolean;\n}\n\nexport function useComboboxStyles(props: UseComboboxStylesProps) {\n  const { size, voiceEnabled, loading } = props;\n  const { focusProps, focusRingStyles } = useFocusRingStyles();\n  const containerStyles: TwStyle[] = [];\n  const iconContainerStyles: TwStyle[] = [tw`absolute inset-y-0 flex items-center space-x-2 text-gray-400`];\n\n  switch (size) {\n    case 'sm':\n      containerStyles.push(tw`py-1 text-sm pl-7`);\n\n      if (loading && voiceEnabled) {\n        containerStyles.push(tw`pr-13`);\n      } else if (loading || voiceEnabled) {\n        containerStyles.push(tw`pr-7`);\n      }\n\n      iconContainerStyles.push(tw`px-2`);\n      break;\n\n    case 'lg':\n      containerStyles.push(tw`py-3 text-lg pl-11`);\n\n      if (loading && voiceEnabled) {\n        containerStyles.push(tw`pr-15`);\n      } else if (loading || voiceEnabled) {\n        containerStyles.push(tw`pr-11`);\n      }\n\n      iconContainerStyles.push(tw`px-4`);\n      break;\n\n    case 'md':\n    default:\n      containerStyles.push(tw`pl-9`);\n\n      if (loading && voiceEnabled) {\n        containerStyles.push(tw`pr-14`);\n      } else if (loading || voiceEnabled) {\n        containerStyles.push(tw`pr-9`);\n      }\n\n      iconContainerStyles.push(tw`px-3`);\n      break;\n  }\n\n  const styles = inferStylesObjectKeys({\n    container: [tw`relative`],\n    inputContainer: [\n      tw`form-input`,\n      tw`relative text-base transition-all duration-150 bg-white border border-gray-200 border-solid`,\n      ...focusRingStyles,\n      ...containerStyles,\n    ],\n    iconContainerLeft: [...iconContainerStyles, tw`left-0`],\n    iconContainerRight: [...iconContainerStyles, tw`right-0`],\n    input: [\n      tw`form-input`,\n      tw`absolute inset-0 w-full bg-transparent border-0 focus:shadow-none font-inherit`,\n      ...containerStyles,\n      ` &::-ms-clear,\n        &::-ms-reveal {\n          display: none;\n          width: 0;\n          height: 0;\n        }\n        &::-webkit-search-decoration,\n        &::-webkit-search-cancel-button,\n        &::-webkit-search-results-button,\n        &::-webkit-search-results-decoration {\n          -webkit-appearance:none;\n        }`,\n    ],\n    iconSpinner: [],\n  });\n\n  if (size === 'sm') {\n    styles.iconSpinner.push(tw`w-3 h-3`);\n  }\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","/* eslint-disable prefer-arrow-callback */\n\nimport { mergeProps, useId } from '@react-aria/utils';\nimport { __DEV__, getStylesObject, isFunction, isSSR } from '@sajari/react-sdk-utils';\nimport { useCombobox } from 'downshift';\nimport React, { ChangeEvent, KeyboardEvent, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport tw from 'twin.macro';\n\nimport { IconSearch, IconSmallSearch, IconSpinner } from '../assets/icons';\nimport Box from '../Box';\nimport { useVoiceInput } from '../hooks';\nimport Dropdown from './components/Dropdown';\nimport Typeahead from './components/Typeahead';\nimport Voice from './components/Voice';\nimport ComboboxContextProvider from './context';\nimport { useComboboxStyles } from './styles';\nimport { ComboboxProps, ResultItem } from './types';\n\nconst Combobox = React.forwardRef(function ComboboxInner<T>(props: ComboboxProps<T>, ref: React.Ref<HTMLInputElement>) {\n  const {\n    mode = 'standard',\n    label,\n    placeholder = 'Search',\n    enterKeyHint = 'search',\n    id = `combobox-${useId()}`,\n    invalid,\n    onChange = () => {},\n    onKeyDown = () => {},\n    onVoiceInput = () => {},\n    enableVoice = false,\n    captureVoiceInput = true,\n    loading = false,\n    value: valueProp = '',\n    items = [],\n    completion = '',\n    size = 'md',\n    showDropdownTips = false,\n    showPoweredBy = true,\n    itemToString = mode === 'results'\n      ? (item: T) => ((item as unknown) as ResultItem).title\n      : (item: T) => (item as unknown) as string,\n    itemToUrl = (item: T) => ((item as unknown) as ResultItem).url as string,\n    renderItem,\n    onSelect,\n    disableDefaultStyles = false,\n    className,\n    styles: stylesProp,\n    inputClassName,\n    inputContainerClassName,\n    inputElement,\n    ...rest\n  } = props;\n  const [typedInputValue, setTypedInputValue] = useState(valueProp.toString());\n  const { supported: voiceSupported } = useVoiceInput();\n  const [value, setValue] = useState(valueProp.toString());\n  const [container, setContainer] = useState<undefined | null | Element>();\n\n  useEffect(() => {\n    setValue(valueProp.toString());\n  }, [valueProp]);\n\n  const {\n    isOpen: open,\n    getLabelProps,\n    getMenuProps,\n    getItemProps,\n    getInputProps,\n    getComboboxProps,\n    selectedItem,\n    highlightedIndex,\n    inputValue,\n    setInputValue,\n    closeMenu,\n  } = useCombobox<T>({\n    items,\n    itemToString,\n    inputValue: value,\n    onInputValueChange: (changes) => {\n      setValue(changes.inputValue ?? '');\n    },\n    stateReducer: (state, { changes, type }) => {\n      if (mode === 'suggestions') {\n        switch (type) {\n          case useCombobox.stateChangeTypes.InputKeyDownArrowDown:\n            if (state.highlightedIndex === (items || []).length - 1) {\n              return {\n                ...changes,\n                inputValue: typedInputValue,\n                highlightedIndex: undefined,\n              };\n            }\n\n            if (changes.highlightedIndex !== undefined) {\n              const item = (items || [])[changes.highlightedIndex];\n              const stringItem = itemToString(item);\n\n              if (typeof stringItem !== 'string') {\n                return changes;\n              }\n\n              return {\n                ...changes,\n                inputValue: stringItem,\n                selectedItem: item,\n              };\n            }\n\n            return changes;\n\n          case useCombobox.stateChangeTypes.InputKeyDownArrowUp:\n            if (state.highlightedIndex === 0) {\n              return {\n                ...changes,\n                inputValue: typedInputValue,\n                highlightedIndex: undefined,\n              };\n            }\n\n            if (changes.highlightedIndex !== undefined) {\n              const item = (items || [])[changes.highlightedIndex];\n              const stringItem = itemToString(item);\n\n              if (typeof stringItem !== 'string') {\n                return changes;\n              }\n\n              return {\n                ...changes,\n                inputValue: stringItem,\n                selectedItem: item,\n              };\n            }\n\n            return changes;\n\n          case useCombobox.stateChangeTypes.ItemMouseMove:\n            if (changes.highlightedIndex !== undefined) {\n              const item = (items || [])[changes.highlightedIndex];\n              const stringItem = itemToString(item);\n\n              if (typeof stringItem !== 'string') {\n                return changes;\n              }\n\n              return {\n                ...changes,\n                inputValue: stringItem,\n                selectedItem: item,\n              };\n            }\n            return changes;\n\n          case useCombobox.stateChangeTypes.InputKeyDownEscape:\n            if (state.isOpen) {\n              return {\n                ...changes,\n                isOpen: true,\n                inputValue: typedInputValue,\n              };\n            }\n            return changes;\n\n          case useCombobox.stateChangeTypes.InputKeyDownEnter:\n            return {\n              ...changes,\n              isOpen: false,\n            };\n\n          default:\n            return changes;\n        }\n      }\n\n      if (mode === 'results') {\n        switch (type) {\n          case useCombobox.stateChangeTypes.InputKeyDownEnter:\n            return {\n              ...changes,\n              inputValue: '',\n            };\n\n          case useCombobox.stateChangeTypes.ItemClick:\n            return {\n              ...changes,\n              inputValue: '',\n            };\n\n          case useCombobox.stateChangeTypes.InputChange:\n            if (changes.inputValue === '') {\n              return {\n                ...changes,\n                isOpen: false,\n              };\n            }\n            return changes;\n\n          default:\n            return changes;\n        }\n      }\n\n      return changes;\n    },\n  });\n\n  const context = {\n    mode,\n    inputValue,\n    open,\n    items,\n    completion,\n    selectedItem,\n    highlightedIndex,\n    getMenuProps,\n    getItemProps,\n    showDropdownTips,\n    showPoweredBy,\n    typedInputValue,\n    renderItem,\n    onSelect,\n    itemToString,\n    itemToUrl,\n    disableDefaultStyles,\n    customClassNames: rest,\n  };\n\n  const handleVoiceInput = (input: string) => {\n    if (captureVoiceInput) {\n      setInputValue(input);\n      setTypedInputValue(input);\n    }\n    onVoiceInput(input);\n  };\n\n  const { styles: comboboxStyles, focusProps } = useComboboxStyles({\n    size,\n    voiceEnabled: enableVoice && voiceSupported,\n    loading,\n  });\n\n  const styles = getStylesObject(comboboxStyles, disableDefaultStyles);\n\n  const inputProps = getInputProps({\n    id,\n    className: inputClassName,\n    type: 'search',\n    dir: 'auto',\n    placeholder,\n    'aria-invalid': invalid,\n    autoCapitalize: 'off',\n    autoComplete: 'off',\n    autoCorrect: 'off',\n    spellCheck: 'false',\n    inputMode: 'search',\n    onKeyDown: (e: KeyboardEvent<HTMLInputElement>) => {\n      // Don't supress native form submission when 'Enter' key is pressed\n      // Only if the user isn't focused on an item in the suggestions\n      if (e.key === 'Enter' && highlightedIndex === -1) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (e.nativeEvent as any).preventDownshiftDefault = true;\n\n        if (mode === 'suggestions') {\n          closeMenu();\n        }\n      }\n\n      if (mode !== 'results' && e.key === 'Enter' && highlightedIndex > -1) {\n        setTypedInputValue(itemToString(items[highlightedIndex]));\n      }\n\n      if (mode === 'typeahead' && e.key === 'ArrowRight') {\n        if ((e.target as HTMLInputElement).selectionStart === inputValue.length) {\n          if (completion.startsWith(inputValue)) {\n            setInputValue(completion);\n            setTypedInputValue(completion);\n          }\n        }\n      }\n\n      if (e.key === 'Enter' && highlightedIndex > -1) {\n        const item = (items || [])[highlightedIndex];\n        if (mode === 'results' && itemToUrl && !renderItem) {\n          const url = itemToUrl(item);\n\n          if (url) {\n            window.location.href = url;\n          }\n\n          const result = (item as unknown) as ResultItem;\n          if (isFunction(result.onClick)) {\n            result.onClick();\n          }\n        }\n        if (onSelect) {\n          onSelect(item);\n        }\n      }\n\n      onKeyDown(e);\n    },\n    onInput: (e: ChangeEvent<HTMLInputElement>) => {\n      onChange(e.target.value);\n      setTypedInputValue(e.target.value);\n    },\n    onChange: (e: ChangeEvent<HTMLInputElement>) => {\n      setValue(e.target.value);\n    },\n  });\n\n  const renderInAttachMode = (input: HTMLInputElement) => {\n    if (isSSR()) {\n      return null;\n    }\n    if (container && input) {\n      const InputComponent = React.createElement('input', {\n        ...inputProps,\n        ...Array.from(input.attributes).reduce((acc, attr) => ({ ...acc, [attr.nodeName]: attr.nodeValue }), {}),\n      });\n      const ContainerComponent = React.createElement(\n        'div',\n        {\n          ...getComboboxProps(),\n          style: {\n            position: 'relative',\n          },\n        },\n        [InputComponent, <Dropdown />],\n      );\n      input.remove();\n      return ReactDOM.createPortal(ContainerComponent, container as Element);\n    }\n    return null;\n  };\n\n  useEffect(() => {\n    if (inputElement?.current) {\n      setContainer(inputElement.current.parentElement);\n    }\n  }, [inputElement]);\n\n  return (\n    <ComboboxContextProvider value={context}>\n      {inputElement?.current ? (\n        renderInAttachMode(inputElement.current)\n      ) : (\n        <Box css={[styles.container, stylesProp]} className={className}>\n          <Box css={styles.inputContainer} {...getComboboxProps()}>\n            <Box as=\"label\" css={tw`sr-only`} {...getLabelProps({ htmlFor: id })}>\n              {label ?? placeholder}\n            </Box>\n\n            <Box css={styles.iconContainerLeft} className={inputContainerClassName}>\n              {size === 'sm' ? <IconSmallSearch /> : <IconSearch />}\n            </Box>\n\n            <Typeahead />\n\n            <Box\n              ref={ref}\n              as=\"input\"\n              css={styles.input}\n              {...mergeProps(inputProps, focusProps)}\n              enterKeyHint={enterKeyHint}\n              {...rest}\n            />\n\n            {enableVoice || loading ? (\n              <Box css={styles.iconContainerRight}>\n                {loading && <IconSpinner css={styles.iconSpinner} />}\n                {enableVoice && <Voice onVoiceInput={handleVoiceInput} />}\n              </Box>\n            ) : null}\n          </Box>\n\n          <Dropdown />\n        </Box>\n      )}\n    </ComboboxContextProvider>\n  );\n});\n\nif (__DEV__) {\n  Combobox.displayName = 'Combobox';\n}\n\nexport default Combobox;\nexport type { ComboboxProps };\n","const focusableElements = [\n  'a[href]',\n  'area[href]',\n  'button:not([disabled])',\n  'embed',\n  'iframe',\n  'input:not([disabled])',\n  'object',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  '*[tabindex]:not([aria-disabled])',\n  '*[contenteditable]',\n];\n\nconst focusableElSelector = focusableElements.join();\n\nexport function getFocusables(element: HTMLElement | null, keyboardOnly = false) {\n  if (element === null) {\n    return [];\n  }\n\n  let elements = Array.from(element.querySelectorAll(focusableElSelector));\n\n  // Filter out elements with display: none\n  elements = elements.filter((focusableEl) => window.getComputedStyle(focusableEl).display !== 'none');\n\n  if (keyboardOnly === true) {\n    elements = elements.filter((focusableEl) => focusableEl.getAttribute('tabindex') !== '-1');\n  }\n\n  return elements;\n}\n","import React from 'react';\nimport ReactFocusLock from 'react-focus-lock';\n\nimport { FocusLockProps } from './types';\nimport { getFocusables } from './utils';\n\n/**\n * React component to trap focus within an element or component.\n * Mostly used in Modals, Popovers, etc.\n */\nfunction FocusLock(props: FocusLockProps) {\n  const { initialFocusRef, finalFocusRef, contentRef, restoreFocus, children, disabled, autoFocus = true } = props;\n\n  const onActivation = React.useCallback(() => {\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus();\n    } else {\n      if (!contentRef?.current) {\n        return;\n      }\n      const focusables = getFocusables(contentRef.current);\n      if (contentRef.current && !focusables.length) {\n        contentRef.current?.focus();\n      }\n    }\n  }, [initialFocusRef, contentRef]);\n\n  const onDeactivation = React.useCallback(() => {\n    finalFocusRef?.current?.focus();\n  }, [finalFocusRef]);\n\n  const returnFocus = restoreFocus && !finalFocusRef;\n\n  return (\n    <ReactFocusLock\n      autoFocus={autoFocus}\n      disabled={disabled}\n      onActivation={onActivation}\n      onDeactivation={onDeactivation}\n      returnFocus={returnFocus}\n    >\n      {children}\n    </ReactFocusLock>\n  );\n}\n\nexport type { FocusLockProps };\nexport default FocusLock;\n","import { hideOthers, Undo } from 'aria-hidden';\nimport React from 'react';\n\n/**\n * Modal component to polyfill `aria-modal`.\n *\n * It applies `aria-hidden` to elements behind the modal\n * to indicate that they're `inert`.\n *\n * @param refModal React ref of the node\n * @param shouldHide whether `aria-hidden` should be applied\n */\nexport function AriaHidden({ refModal, shouldHide }: { refModal: React.RefObject<HTMLElement>; shouldHide: boolean }) {\n  React.useEffect(() => {\n    if (!refModal.current) return;\n\n    let undo: Undo | null = null;\n\n    if (shouldHide && refModal.current) {\n      undo = hideOthers(refModal.current);\n    }\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      if (shouldHide) {\n        undo?.();\n      }\n    };\n  }, [shouldHide, refModal]);\n\n  return null;\n}\n","import { createContext } from '@sajari/react-sdk-utils';\n\nimport { ModalSize } from './types';\n\ninterface ModalContextProps {\n  open: boolean;\n  titleId?: string;\n  bodyId?: string;\n  size?: ModalSize;\n  onClose?: () => void;\n  disableDefaultStyles?: boolean;\n}\n\nconst [ModalContextProvider, useModalContext] = createContext<ModalContextProps>({\n  strict: true,\n  name: 'ModalContext',\n});\n\nexport default ModalContextProvider;\nexport { useModalContext };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { ModalBodyProps } from './types';\n\nexport default function useModalBodyStyles(props: ModalBodyProps) {\n  const { padded = true } = props;\n  const styles = {\n    container: [tw`overflow-auto scrolling-touch`, padded && tw`p-6`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport React from 'react';\n\nimport Box from '../../Box';\nimport { useModalContext } from '../context';\nimport useModalBodyStyles from './styles';\nimport { ModalBodyProps } from './types';\n\nconst ModalBody = React.forwardRef((props: ModalBodyProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { styles: stylesProp, ...rest } = props;\n  const { disableDefaultStyles = false, bodyId } = useModalContext();\n  const styles = getStylesObject(useModalBodyStyles(props), disableDefaultStyles);\n\n  return <Box ref={ref} id={bodyId} css={[styles.container, stylesProp]} {...rest} />;\n});\n\nif (__DEV__) {\n  ModalBody.displayName = 'ModalBody';\n}\n\nexport default ModalBody;\nexport type { ModalBodyProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function useModalCloseButtonStyles() {\n  const styles = {\n    container: [\n      tw`inline-flex relative items-center justify-center ml-auto -mr-4 px-3 py-2 text-base font-medium text-gray-500 hover:text-gray-700 focus:text-gray-700 no-underline bg-transparent hover:bg-gray-100 focus:bg-gray-100 rounded-md border border-transparent transition duration-150 ease-in-out cursor-pointer focus:outline-none select-none`,\n    ],\n    icon: [tw`inline-block align-middle transition-all duration-200 ease-in-out transform fill-current`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__, callAllHandlers, getStylesObject } from '@sajari/react-sdk-utils';\nimport React from 'react';\n\nimport { IconClose } from '../../assets/icons';\nimport { useModalContext } from '../context';\nimport useModalCloseButtonStyles from './styles';\nimport { ModalCloseButtonProps } from './types';\n\nconst ModalCloseButton = React.forwardRef((props: ModalCloseButtonProps, ref?: React.Ref<HTMLButtonElement>) => {\n  const { onClose, disableDefaultStyles = false } = useModalContext();\n  const { onClick, label = 'Close', styles: stylesProp, ...rest } = props;\n  const styles = getStylesObject(useModalCloseButtonStyles(), disableDefaultStyles);\n\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      onClick={callAllHandlers(onClick, onClose)}\n      aria-label={label}\n      css={[styles.container, stylesProp]}\n      {...rest}\n    >\n      &#8203;\n      <IconClose css={styles.icon} />\n    </button>\n  );\n});\n\nif (__DEV__) {\n  ModalCloseButton.displayName = 'ModalCloseButton';\n}\n\nexport default ModalCloseButton;\nexport type { ModalCloseButtonProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function useModalFooterStyles() {\n  const styles = {\n    container: [tw`space-x-4 p-4 border-t border-gray-200 justify-end`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { Children } from 'react';\n\nimport ButtonGroup from '../../ButtonGroup';\nimport { useModalContext } from '../context';\nimport { ModalSize } from '../types';\nimport useModalFooterStyles from './styles';\nimport { ModalFooterProps } from './types';\n\nconst ModalFooter = React.forwardRef((props: ModalFooterProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { styles: stylesProp, ...rest } = props;\n  const { disableDefaultStyles = false } = useModalContext();\n  const styles = getStylesObject(useModalFooterStyles(), disableDefaultStyles);\n  const { children } = props;\n  const { size = 'md' } = useModalContext();\n  const fullWidthSizes: Array<ModalSize> = ['xs', 'sm'];\n\n  if (Children.toArray(children).length === 2) {\n    fullWidthSizes.push('md');\n  }\n\n  const fullWidth = fullWidthSizes.includes(size);\n\n  return (\n    <ButtonGroup\n      ref={ref}\n      fullwidth={fullWidth}\n      css={[styles.container, stylesProp]}\n      disableDefaultStyles={disableDefaultStyles}\n      {...rest}\n    />\n  );\n});\n\nif (__DEV__) {\n  ModalFooter.displayName = 'ModalFooter';\n}\n\nexport default ModalFooter;\nexport type { ModalFooterProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function useModalHeader() {\n  const styles = {\n    container: [tw`py-2 px-6 relative flex h-15 items-center border-b border-gray-200`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport React from 'react';\n\nimport Box from '../../Box';\nimport { useModalContext } from '../context';\nimport useModalHeaderStyles from './styles';\nimport { ModalHeaderProps } from './types';\n\nconst ModalHeader = React.forwardRef((props: ModalHeaderProps, ref?: React.Ref<HTMLElement>) => {\n  const { styles: stylesProp, ...rest } = props;\n  const { disableDefaultStyles = false } = useModalContext();\n  const styles = getStylesObject(useModalHeaderStyles(), disableDefaultStyles);\n\n  return <Box ref={ref} as=\"header\" css={[styles.container, stylesProp]} {...rest} />;\n});\n\nif (__DEV__) {\n  ModalHeader.displayName = 'ModalHeader';\n}\n\nexport default ModalHeader;\nexport type { ModalHeaderProps };\n","import { Ref, useEffect } from 'react';\n\nlet modals: Ref<Element>[] = [];\n\n/**\n * Handle the order of the modals.\n * Inspired by the material-ui implementation.\n */\nexport const modalManager = {\n  /**\n   * Register a new modal\n   */\n  add: (newModal: Ref<Element>) => {\n    modals.push(newModal);\n  },\n\n  /**\n   * Remove a modal\n   */\n  remove: (oldModal: Ref<Element>) => {\n    modals = modals.filter((modal) => modal !== oldModal);\n  },\n\n  /**\n   * When multiple modals are rendered will return true if current modal is the last one\n   */\n  isTopModal: (modal: Ref<Element>) => !!modals.length && modals[modals.length - 1] === modal,\n};\n\nexport function useModalManager(ref: Ref<Element>, open: boolean) {\n  useEffect(() => {\n    if (open) {\n      modalManager.add(ref);\n    }\n    return () => {\n      modalManager.remove(ref);\n    };\n  }, [open, ref]);\n}\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function useModalTitleStyles() {\n  const styles = {\n    container: [tw`font-medium flex-1`],\n  };\n\n  return mapStyles(styles);\n}\n","import { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport React from 'react';\n\nimport Text from '../../Text';\nimport { useModalContext } from '../context';\nimport useModalTitleStyles from './styles';\nimport { ModalTitleProps } from './types';\n\nconst ModalTitle = React.forwardRef((props: ModalTitleProps, ref?: React.Ref<HTMLParagraphElement>) => {\n  const { styles: stylesProp, ...rest } = props;\n  const { disableDefaultStyles = false, titleId } = useModalContext();\n  const styles = getStylesObject(useModalTitleStyles(), disableDefaultStyles);\n\n  return <Text ref={ref} id={titleId} truncate css={[styles.container, stylesProp]} {...rest} />;\n});\n\nif (__DEV__) {\n  ModalTitle.displayName = 'ModalTitle';\n}\n\nexport default ModalTitle;\nexport type { ModalTitleProps };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Portal: React.FC<{\n  target: Element;\n}> = (props) => {\n  return ReactDOM.createPortal(props.children, props.target);\n};\n\nexport default Portal;\n","import { css, keyframes } from '@emotion/core';\nimport { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { ModalProps, ModalSize } from './types';\n\nconst animateOverlayIn = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n`;\n\nconst animateOverlayOut = keyframes`\n    from {\n        opacity: 1;\n    }\n    to {\n        opacity: 0;\n    }\n`;\n\nconst animateModalIn = keyframes`\n    from {\n        opacity: 0;\n        transform: scale(0.95);\n    }\n    to {\n        opacity: 1;\n        transform: scale(1);\n    }\n`;\n\nconst animateModalOut = keyframes`\n    from {\n        opacity: 1;\n        transform: scale(1);\n    }\n    to {\n        opacity: 0;\n        transform: scale(0.95);\n    }\n`;\n\nfunction getModalSize(size: ModalSize) {\n  switch (size) {\n    case 'xs':\n      return tw`max-w-xs`;\n    case 'sm':\n      return tw`max-w-sm`;\n    case 'md':\n      return tw`max-w-md`;\n    case 'lg':\n      return tw`max-w-lg`;\n    case 'xl':\n      return tw`max-w-xl`;\n    case '2xl':\n      return tw`max-w-2xl`;\n    case '3xl':\n      return tw`max-w-3xl`;\n    case '4xl':\n      return tw`max-w-4xl`;\n    case '5xl':\n      return tw`max-w-5xl`;\n    case '6xl':\n      return tw`max-w-6xl`;\n    case '7xl':\n      return tw`max-w-7xl`;\n    case 'screen-sm':\n      return tw`max-w-screen-sm`;\n    case 'screen-md':\n      return tw`max-w-screen-md`;\n    case 'screen-lg':\n      return tw`max-w-screen-lg`;\n    case 'screen-xl':\n      return tw`max-w-screen-xl`;\n    case 'screen-2xl':\n      return tw`max-w-screen-2xl`;\n    default:\n      return tw`max-w-full`;\n  }\n}\n\nexport function useModalStyles(props: ModalProps) {\n  const {\n    open,\n    animationDuration = 300,\n    modalAnimationIn,\n    modalAnimationOut,\n    overlayAnimationIn,\n    overlayAnimationOut,\n    center = true,\n    size = 'md',\n  } = props;\n\n  const sizeStyle = getModalSize(size);\n\n  const styles = {\n    overlay: [\n      tw`fixed inset-0 z-50 transition-opacity backdrop-blur-1 `,\n      open\n        ? css`\n            animation: ${overlayAnimationIn ?? animateOverlayIn} ${animationDuration}ms ease-in;\n          `\n        : css`\n            animation: ${overlayAnimationOut ?? animateOverlayOut} ${animationDuration}ms ease-out;\n          `,\n    ],\n    overlayInner: [tw`absolute inset-0 bg-gray-700 opacity-75`],\n    container: [\n      tw`fixed inset-0 z-50 flex p-10 items-start`,\n      open\n        ? css`\n            animation: ${modalAnimationIn ?? animateModalIn} ${animationDuration}ms ease-in;\n          `\n        : css`\n            animation: ${modalAnimationOut ?? animateModalOut} ${animationDuration}ms ease-out;\n          `,\n    ],\n    content: [\n      tw`relative z-50 flex flex-col flex-1 w-full overflow-auto scrolling-touch transition-all transform bg-white`,\n      tw`max-h-(screen-20) outline-none rounded-xl shadow-lg`,\n      center ? tw`m-auto` : tw`mx-auto`,\n      sizeStyle,\n    ],\n  };\n\n  return mapStyles(styles);\n}\n","import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport { useEffect, useRef } from 'react';\n\nexport const useScrollLock = (\n  refModal: React.RefObject<Element>,\n  open: boolean,\n  showPortal: boolean,\n  blockScroll: boolean,\n) => {\n  const oldRef = useRef<Element | null>(null);\n\n  useEffect(() => {\n    if (open && refModal.current && blockScroll) {\n      oldRef.current = refModal.current;\n      disableBodyScroll(refModal.current);\n    }\n    return () => {\n      if (oldRef.current) {\n        enableBodyScroll(oldRef.current);\n        oldRef.current = null;\n      }\n    };\n  }, [open, showPortal, refModal]);\n};\n","import { __DEV__, getStylesObject, isSSR } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport Box from '../Box';\nimport FocusLock from '../FocusLock';\nimport { AriaHidden } from './AriaHidden';\nimport ModalContextProvider from './context';\nimport ModalBody, { ModalBodyProps } from './ModalBody';\nimport ModalCloseButton, { ModalCloseButtonProps } from './ModalCloseButton';\nimport ModalFooter, { ModalFooterProps } from './ModalFooter';\nimport ModalHeader, { ModalHeaderProps } from './ModalHeader';\nimport { modalManager, useModalManager } from './modalManager';\nimport ModalTitle, { ModalTitleProps } from './ModalTitle';\nimport Portal from './Portal';\nimport { useModalStyles } from './styles';\nimport { ModalProps } from './types';\nimport { useScrollLock } from './useScrollLock';\n\nconst Modal = (props: ModalProps) => {\n  const {\n    open,\n    blockScroll = true,\n    closeOnEsc = true,\n    closeOnOverlayClick = true,\n    container,\n    role = 'dialog',\n    ariaDescribedby,\n    ariaLabelledby,\n    modalId,\n    onClose,\n    onEscKeyDown,\n    trapFocus = true,\n    autoFocus = true,\n    initialFocusRef,\n    finalFocusRef,\n    returnFocusOnClose = true,\n    onOverlayClick,\n    onAnimationEnd,\n    children,\n    disableDefaultStyles = false,\n    styles: stylesProp,\n    modalClassName,\n    modalContainerClassName,\n    overlayClassName,\n    overlayOpenClassName,\n    modalOpenClassName,\n    size = 'md',\n    rootClassName,\n    useInert = true,\n  } = props;\n  const refModal = useRef<HTMLDivElement>(null);\n  const refShouldClose = useRef<boolean | null>(null);\n  const refContainer = useRef<HTMLDivElement | null>(null);\n  const styles = getStylesObject(useModalStyles({ ...props, size }), disableDefaultStyles);\n\n  // Lazily create the ref instance\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n  if (refContainer.current === null && !isSSR()) {\n    refContainer.current = document.createElement('div');\n  }\n\n  // The value should be false for srr, that way when the component is hydrated client side,\n  // it will match the server rendered content\n  const [showPortal, setShowPortal] = useState(false);\n\n  // Hook used to manage multiple modals opened at the same time\n  useModalManager(refModal, open);\n\n  // Hook used to manage the scroll\n  useScrollLock(refModal, open, showPortal, blockScroll);\n\n  const handleKeydown = (event: KeyboardEvent) => {\n    // Only the last modal need to be escaped when pressing the esc key\n    if (event.keyCode !== 27 || !modalManager.isTopModal(refModal)) {\n      return;\n    }\n\n    onEscKeyDown?.(event);\n\n    if (closeOnEsc) {\n      onClose();\n    }\n  };\n\n  const handleOpen = () => {\n    if (refContainer.current && !container && !document.body.contains(refContainer.current)) {\n      document.body.appendChild(refContainer.current);\n    }\n\n    document.addEventListener('keydown', handleKeydown);\n  };\n\n  const handleClose = () => {\n    if (refContainer.current && !container && document.body.contains(refContainer.current)) {\n      document.body.removeChild(refContainer.current);\n    }\n    document.removeEventListener('keydown', handleKeydown);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (showPortal) {\n        // When the modal is closed or removed directly, cleanup the listeners\n        handleClose();\n      }\n    };\n  }, [showPortal]);\n\n  useEffect(() => {\n    // If the open prop is changing, we need to open the modal\n    // This is also called on the first render if the open prop is true when the modal is created\n    if (open && !showPortal) {\n      setShowPortal(true);\n      handleOpen();\n    }\n  }, [open]);\n\n  const handleClickOverlay = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (refShouldClose.current === null) {\n      refShouldClose.current = true;\n    }\n\n    if (!refShouldClose.current) {\n      refShouldClose.current = null;\n      return;\n    }\n\n    onOverlayClick?.(event);\n\n    if (closeOnOverlayClick) {\n      onClose();\n    }\n\n    refShouldClose.current = null;\n  };\n\n  const handleModalEvent = () => {\n    refShouldClose.current = false;\n  };\n\n  const handleAnimationEnd = () => {\n    if (!open) {\n      setShowPortal(false);\n    }\n    onAnimationEnd?.();\n  };\n\n  const containerModal = container || refContainer.current;\n\n  const context = {\n    titleId: ariaLabelledby,\n    bodyId: ariaDescribedby,\n    disableDefaultStyles,\n    size,\n    onClose,\n    open,\n  };\n\n  return showPortal && containerModal ? (\n    <Portal target={containerModal}>\n      <ModalContextProvider value={context}>\n        <FocusLock\n          autoFocus={autoFocus}\n          disabled={!trapFocus}\n          contentRef={refModal}\n          initialFocusRef={initialFocusRef}\n          finalFocusRef={finalFocusRef}\n          restoreFocus={returnFocusOnClose}\n        >\n          <Box className={rootClassName} css={stylesProp}>\n            <Box\n              className={classnames(overlayClassName, open ? overlayOpenClassName : '')}\n              aria-hidden\n              css={styles.overlay}\n            >\n              <Box css={styles.overlayInner} />\n            </Box>\n            <Box\n              ref={refModal}\n              className={modalContainerClassName}\n              css={styles.container}\n              data-testid=\"modal-container\"\n              onAnimationEnd={handleAnimationEnd}\n              onClick={handleClickOverlay}\n            >\n              <Box\n                data-testid=\"modal\"\n                className={classnames(modalClassName, open ? modalOpenClassName : '')}\n                onMouseDown={handleModalEvent}\n                onMouseUp={handleModalEvent}\n                onClick={handleModalEvent}\n                id={modalId}\n                role={role}\n                aria-modal=\"true\"\n                aria-labelledby={ariaLabelledby}\n                aria-describedby={ariaDescribedby}\n                css={styles.content}\n              >\n                {children}\n              </Box>\n            </Box>\n          </Box>\n          <AriaHidden refModal={refModal} shouldHide={open && useInert} />\n        </FocusLock>\n      </ModalContextProvider>\n    </Portal>\n  ) : null;\n};\n\nif (__DEV__) {\n  Modal.displayName = 'Modal';\n}\n\nexport default Modal;\nexport { ModalBody, ModalCloseButton, ModalFooter, ModalHeader, ModalTitle };\nexport type { ModalBodyProps, ModalCloseButtonProps, ModalFooterProps, ModalHeaderProps, ModalProps, ModalTitleProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useJustifyContent } from '../hooks';\nimport { PaginationProps } from './types';\n\nexport default function usePaginationStyles(props: PaginationProps) {\n  const { align = 'center' } = props;\n  const justifyContentStyles = useJustifyContent({ align });\n  const spacerStyles = tw`py-2 border border-gray-200 border-solid rounded-none select-none`;\n\n  const styles = {\n    container: [tw`flex`, justifyContentStyles],\n    spacerEllipsis: [tw`px-2 bg-gray-50`, spacerStyles],\n    compactStatus: [tw`px-4 bg-white`, spacerStyles],\n    compactStatusCount: [tw`text-gray-400`],\n  };\n\n  return mapStyles(styles);\n}\n","import { clamp, getStylesObject, isFunction, isSSR, isString } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport smoothscroll from 'smoothscroll-polyfill';\n\nimport { IconChevronLeft, IconChevronRight } from '../assets/icons';\nimport Box from '../Box';\nimport Button from '../Button';\nimport ButtonGroup from '../ButtonGroup';\nimport { useFirstRender, useResizeObserver } from '../hooks';\nimport usePaginationStyles from './styles';\nimport { PaginationProps } from './types';\n\nconst defaultI18n = {\n  label: 'Pagination',\n  previous: 'Previous',\n  next: 'Next',\n  page: 'Page {{page}}',\n  current: 'Page {{page}}, current page',\n};\n\nconst Pagination = React.memo((props: PaginationProps) => {\n  const { ref, width } = useResizeObserver<HTMLDivElement>();\n  const {\n    language,\n    totalResults,\n    resultsPerPage,\n    page,\n    pageCount,\n    onChange,\n    i18n: i18nProp,\n    buttonClassName,\n    activeClassName = '',\n    nextClassName,\n    prevClassName,\n    spacerEllipsisClassName,\n    statusClassName,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    scrollTarget,\n    scrollToTop = false,\n    compact = width && width < 480,\n    ...rest\n  } = props;\n  const firstRender = useFirstRender();\n  const styles = getStylesObject(usePaginationStyles(props), disableDefaultStyles);\n  const i18n = { ...defaultI18n, ...i18nProp };\n\n  // Polyfill\n  React.useEffect(() => {\n    if (!isSSR()) {\n      smoothscroll.polyfill();\n    }\n  }, []);\n\n  // Handle scroll on paginate\n  React.useEffect(() => {\n    if (firstRender || isSSR()) {\n      return;\n    }\n\n    const scrollOptions: ScrollToOptions = { behavior: 'smooth' };\n    let target: Element | null = null;\n\n    if (isString(scrollTarget)) {\n      target = document.querySelector(scrollTarget);\n    } else if (scrollTarget) {\n      target = scrollTarget;\n    }\n\n    // Scroll an element (or document.body) into view\n    if (scrollToTop) {\n      (target ?? document.body).scrollIntoView(scrollOptions);\n    }\n\n    // Scroll within the element if specified\n    if (target) {\n      target.scrollTo({ ...scrollOptions, top: 0 });\n    }\n  }, [page]);\n\n  // Calculate the page count\n  const count = React.useMemo(() => {\n    if (!totalResults || !resultsPerPage) {\n      return undefined;\n    }\n\n    if (!pageCount) {\n      return Math.ceil(totalResults / resultsPerPage);\n    }\n\n    return pageCount;\n  }, [pageCount, totalResults, resultsPerPage]);\n\n  const changeHandler = React.useCallback(\n    (exitEarly: boolean, target: number) => () => {\n      if (target === page || exitEarly) {\n        return;\n      }\n\n      onChange(clamp(target, 1, count));\n    },\n    [onChange, page, count],\n  );\n\n  const renderButtons = () => {\n    const limit = 5;\n    const middle = Math.ceil(limit / 2);\n    let offset = 0;\n\n    if (!count) {\n      return null;\n    }\n\n    if (count > limit) {\n      if (page < limit) {\n        offset = 0;\n      } else {\n        const max = count - limit;\n        offset = clamp(page > max ? max : page - middle, 0, max);\n      }\n    }\n\n    const items: Array<number | null> = Array.from(Array(clamp(count, 0, limit))).map(\n      (_, index) => Number(index) + offset,\n    );\n\n    if (count > limit) {\n      // Add the 1 ...\n      if (offset > 1) {\n        items.unshift(0, null);\n      }\n\n      // Add the ... last\n      const lastIndex = count - 1;\n\n      if (!items.includes(lastIndex) && count > limit + 2) {\n        items.push(null, lastIndex);\n      }\n    }\n\n    return items.map((item, index) => {\n      if (item === null) {\n        return (\n          <Box\n            as=\"span\"\n            key={`spacer-ellipsis-${index}`} // eslint-disable-line\n            css={styles.spacerEllipsis}\n            className={spacerEllipsisClassName}\n          >\n            &hellip;\n          </Box>\n        );\n      }\n\n      const number = item + 1;\n      const active = number === page;\n      const template = active ? i18n.current : i18n.page;\n      const ariaLabel = isFunction(template) ? template({ page: number }) : template;\n\n      return (\n        <Button\n          key={item}\n          appearance={active ? 'primary' : undefined}\n          aria-current={active ? 'page' : undefined}\n          aria-label={ariaLabel}\n          onClick={changeHandler(false, number)}\n          className={classnames(buttonClassName, { [activeClassName]: active })}\n        >\n          {number.toLocaleString(language)}\n        </Button>\n      );\n    });\n  };\n\n  if (!count || count <= 1) {\n    return null;\n  }\n\n  const hasPrevious = page > 1;\n  const hasNext = page < count;\n\n  return (\n    <ButtonGroup as=\"nav\" ref={ref} aria-label={i18n.label} attached css={[styles.container, stylesProp]} {...rest}>\n      <Button\n        spacing=\"compact\"\n        disabled={!hasPrevious}\n        onClick={changeHandler(!hasPrevious, page - 1)}\n        aria-label={i18n.previous}\n        className={classnames(prevClassName, buttonClassName)}\n        rel=\"prev\"\n        key=\"prev\"\n      >\n        &#8203;\n        <IconChevronLeft />\n      </Button>\n\n      {compact ? (\n        <Box as=\"span\" css={styles.compactStatus} className={statusClassName} key=\"status\">\n          {page.toLocaleString(language)}\n          <Box as=\"span\" css={styles.compactStatusCount}>{` / ${count.toLocaleString(language)}`}</Box>\n        </Box>\n      ) : (\n        renderButtons()\n      )}\n\n      <Button\n        spacing=\"compact\"\n        disabled={!hasNext}\n        onClick={changeHandler(!hasNext, page + 1)}\n        aria-label={i18n.next}\n        className={classnames(nextClassName, buttonClassName)}\n        rel=\"next\"\n        key=\"next\"\n      >\n        &#8203;\n        <IconChevronRight />\n      </Button>\n    </ButtonGroup>\n  );\n});\n\nexport default Pagination;\nexport type { PaginationProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useFontSize, UseInputStyleProps, useInputStyles } from '../hooks';\nimport { RadioProps } from './types';\n\nexport default function useRadioStyles(props: RadioProps) {\n  const { invalid = false, fontSize } = props;\n  const sizeStyles = useFontSize({ size: fontSize });\n\n  const { styles: inputStyles, focusRingStyles, focusProps } = useInputStyles({\n    type: 'radio',\n    ...props,\n  } as UseInputStyleProps);\n\n  const styles = {\n    container: [tw`flex items-center`],\n    label: [tw`ml-2`, sizeStyles],\n    componentWrapper: [tw`inline-flex items-center`],\n    inputWrapper: [tw`relative flex`, focusRingStyles],\n    input: [[tw`form-radio`, inputStyles]],\n  };\n\n  if (invalid) {\n    styles.label.push(tw`text-red-500`);\n  }\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","/* eslint-disable jsx-a11y/role-supports-aria-props */\n\nimport { useId } from '@react-aria/utils';\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport Label from '../Label';\nimport useRadioStyles from './styles';\nimport { RadioProps } from './types';\n\nconst Radio = React.forwardRef((props: RadioProps, ref?: React.Ref<HTMLInputElement>) => {\n  const {\n    id = `radio-${useId()}`,\n    name,\n    value,\n    color,\n    defaultChecked,\n    checked,\n    disabled,\n    invalid,\n    readOnly,\n    onChange,\n    onBlur,\n    onFocus,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    children,\n    labelClassName,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    ...rest\n  } = props;\n\n  const [privateChecked, setPrivateChecked] = React.useState(defaultChecked ?? false);\n  const { current: controlled } = React.useRef(typeof checked !== 'undefined');\n  const internalChecked = (controlled ? checked : privateChecked) ?? false;\n  const { styles: radioStyles, focusProps } = useRadioStyles(props);\n  const styles = getStylesObject(radioStyles, disableDefaultStyles);\n\n  const internalChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!controlled) {\n      setPrivateChecked(event.target.checked);\n    }\n    if (onChange) {\n      onChange(event);\n    }\n  };\n\n  const comp = (\n    <Box css={[styles.componentWrapper, !children && stylesProp]} {...(!children ? rest : {})}>\n      &#8203;\n      <Box as=\"span\" css={styles.inputWrapper}>\n        <input\n          ref={ref}\n          type=\"radio\"\n          id={id}\n          name={name}\n          value={value}\n          onChange={internalChange}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          checked={internalChecked}\n          disabled={disabled}\n          readOnly={readOnly}\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n          aria-invalid={invalid}\n          aria-checked={internalChecked}\n          css={styles.input}\n          {...focusProps}\n        />\n      </Box>\n    </Box>\n  );\n\n  if (!children) {\n    return comp;\n  }\n\n  return (\n    <Box css={[styles.container, stylesProp]} {...rest}>\n      {comp}\n\n      <Label htmlFor={id} css={styles.label} className={labelClassName}>\n        {children}\n      </Label>\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  Radio.displayName = 'Radio';\n}\n\nexport default Radio;\nexport type { RadioProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useSpacing } from '../hooks';\nimport { RadioGroupProps } from './types';\n\nexport default function useRadioGroupStyles(props: RadioGroupProps) {\n  const { inline = false, spacing = inline ? '4' : '1' } = props;\n  const spacingStyles = useSpacing({ spacing, inline });\n  const styles = {\n    container: [tw`flex`, inline ? tw`flex-row` : tw`flex-col`, spacingStyles],\n  };\n\n  return mapStyles(styles);\n}\n","import { useId } from '@react-aria/utils';\nimport { cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { cloneElement, forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport tw from 'twin.macro';\n\nimport Box from '../Box';\nimport Text from '../Text';\nimport useRadioGroupStyles from './styles';\nimport { RadioGroupProps } from './types';\n\nconst RadioGroup = forwardRef((props: RadioGroupProps, ref) => {\n  const {\n    onChange,\n    name,\n    label = name,\n    defaultValue,\n    value: valueProp,\n    inline,\n    children,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    'aria-labelledby': ariaLabelledBy,\n    ...rest\n  } = props;\n  const { current: controlled } = useRef(typeof valueProp !== 'undefined');\n  const [value, setValue] = useState(defaultValue || null);\n  const internalValue = controlled ? valueProp : value;\n  const rootRef = useRef<HTMLDivElement | null>(null);\n  const styles = getStylesObject(useRadioGroupStyles(props), disableDefaultStyles);\n\n  const internalOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!controlled) {\n      setValue(event.target.value);\n    }\n    if (onChange) {\n      onChange(event, event.target.value);\n    }\n  };\n\n  // If no name is passed, we'll generate a random, unique name\n  const fallbackName = `radio-${useId()}`;\n  const internalName = name || fallbackName;\n  const validChildren = cleanChildren(children);\n\n  const clones = validChildren.map((child, index) => {\n    const checked = child.props.value === internalValue;\n\n    // TODO: Handle if the child isn't a Radio since this assumes it will be\n    return cloneElement(child, {\n      key: `${internalName}-${index}`,\n      name: internalName,\n      onChange: internalOnChange,\n      checked,\n      disableDefaultStyles,\n    });\n  });\n\n  const labelId = label ? `group-label-${useId()}` : undefined;\n\n  // Calling focus() on the radiogroup should focus on the selected option or first enabled option\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => {\n        let input = rootRef?.current?.querySelector<HTMLDivElement>('input:not(:disabled):checked');\n\n        if (!input) {\n          input = rootRef?.current?.querySelector('input:not(:disabled)');\n        }\n\n        if (input) {\n          input.focus();\n        }\n      },\n    }),\n    [],\n  );\n\n  return (\n    <Box\n      {...rest}\n      ref={rootRef}\n      role=\"radiogroup\"\n      aria-labelledby={ariaLabelledBy ?? labelId}\n      css={[styles.container, stylesProp]}\n    >\n      {label && !ariaLabelledBy && (\n        <Text id={labelId} css={tw`sr-only`}>\n          {label}\n        </Text>\n      )}\n\n      {clones}\n    </Box>\n  );\n});\n\nRadioGroup.displayName = 'RadioGroup';\n\nexport default RadioGroup;\nexport type { RadioGroupProps };\n","import { mapStyles, useTheme } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { FillProps } from './types';\n\nexport default function useFillStyles(props: FillProps) {\n  const { index, isSingleHandle } = props;\n  const theme = useTheme();\n\n  const styles = {\n    container: [\n      [\n        tw`h-full rounded-full cursor-pointer`,\n        {\n          backgroundColor:\n            (index === 1 && !isSingleHandle) || (index === 0 && isSingleHandle)\n              ? theme.color.primary.base\n              : 'rgb(218, 223, 231)',\n        },\n      ],\n    ],\n  };\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport useFillStyles from './styles';\nimport { FillProps } from './types';\n\nconst Fill = React.forwardRef((props: FillProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { index, disableDefaultStyles = false, styles: stylesProp, ...rest } = props;\n  const styles = getStylesObject(useFillStyles(props), disableDefaultStyles);\n\n  return <Box css={[styles.container, stylesProp]} ref={ref} {...rest} />;\n});\n\nexport default Fill;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport Color from 'color';\nimport tw, { theme as twTheme } from 'twin.macro';\n\nimport { useFocusRingStyles } from '../../../hooks';\nimport { HandleProps } from './types';\n\nexport default function useHandleStyles(props: HandleProps) {\n  const { active } = props;\n  const { focusRingStyles, focusProps } = useFocusRingStyles({ rounded: 'full' });\n  const colorShadow = new Color(twTheme`colors.gray.900`);\n\n  const styles = {\n    container: [\n      tw`w-4 h-4 transition duration-200 bg-white border-none rounded-full outline-none appearance-none cursor-pointer font-inherit leading-inherit before:(absolute transform -translate-x-1/2 text-xs px-1 rounded mb-1 bg-gray-900 bg-opacity-75 text-white text-center transition-opacity duration-200)`,\n      {\n        boxShadow: `inset 0 0 0 1px ${colorShadow.alpha(0.15).hsl()},\n            inset 0 -1px 0 ${colorShadow.alpha(0.15).hsl()},\n            0 1px 1px ${colorShadow.alpha(0.1).hsl()}`,\n      },\n      `&::before {\n        content: attr(data-value);\n        bottom: 100%;\n        left: 50%;\n        opacity: ${active ? 1 : 0};\n      }\n      &:hover::before,\n      &:focus::before {\n        opacity: 1;\n      }`,\n      { touchAction: 'pan-x' },\n      focusRingStyles,\n    ],\n  };\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport useHandleStyles from './styles';\nimport { HandleProps } from './types';\n\nconst Handle = React.forwardRef((props: HandleProps, ref?: React.Ref<HTMLButtonElement>) => {\n  const { active, styles: stylesProp, disableDefaultStyles = false, className, activeClassName = '', ...rest } = props;\n  const { focusProps, styles: fillStyles } = useHandleStyles(props);\n  const styles = getStylesObject(fillStyles, disableDefaultStyles);\n\n  return (\n    <Box\n      as=\"button\"\n      type=\"button\"\n      css={[styles.container, stylesProp]}\n      ref={ref}\n      {...focusProps}\n      className={classnames(className, { [activeClassName]: active })}\n      {...rest}\n    />\n  );\n});\n\nexport default Handle;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { UseInputStyleProps, useInputStyles } from '../../../hooks';\nimport { RangeInputInputProps } from './types';\n\ntype UseRangeInputStylesParams<T> = RangeInputInputProps<T>;\n\nexport default function useRangeInputStyles<T>(props: UseRangeInputStylesParams<T>) {\n  const { max, step } = props;\n  const { styles: inputStyles, focusRingStyles, focusProps } = useInputStyles({\n    type: 'text',\n    size: 'sm',\n    ...props,\n  } as UseInputStyleProps);\n\n  const charLength = (max + step).toString().length;\n\n  const styles = {\n    container: [tw`relative`, focusRingStyles],\n    // TODO: Replace the magic numbers with calculated ones\n    input: [tw`form-input`, inputStyles, `width: calc(${charLength * 9}px + 2.5rem)`],\n  };\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { useTextField } from '@react-aria/textfield';\nimport { mergeProps } from '@react-aria/utils';\nimport { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\nimport tw from 'twin.macro';\n\nimport Box from '../../../Box';\nimport { RangeValue } from '../../types';\nimport useRangeInputStyles from './styles';\nimport { RangeInputInputProps } from './types';\n\nfunction Input<T extends RangeValue>(props: RangeInputInputProps<T>) {\n  const { label, min, max, step, disableDefaultStyles = false, styles: stylesProp, className } = props;\n  const ref = React.useRef<HTMLInputElement>(null);\n  const { inputProps, labelProps } = useTextField(props, ref);\n  const { styles: inputStyles, focusProps } = useRangeInputStyles(props);\n  const styles = getStylesObject(inputStyles, disableDefaultStyles);\n\n  return (\n    <Box css={[styles.container, stylesProp]} className={className}>\n      <Box as=\"label\" css={tw`sr-only`} {...labelProps}>\n        {label}\n      </Box>\n      <input css={styles.input} {...mergeProps(inputProps, focusProps)} min={min} max={max} step={step} ref={ref} />\n    </Box>\n  );\n}\n\nexport default Input;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport default function useTrackStyles() {\n  const styles = {\n    container: [tw`relative flex-1 h-1`, 'touch-action: none;'],\n  };\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box, { BoxProps } from '../../../Box';\nimport useTrackStyles from './styles';\n\nconst Track = React.forwardRef((props: BoxProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { disableDefaultStyles = false, styles: stylesProps, ...rest } = props;\n  const styles = getStylesObject(useTrackStyles(), disableDefaultStyles);\n\n  return <Box css={[styles.container, stylesProps]} ref={ref} {...rest} />;\n});\n\nexport default Track;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\ninterface UseRangeInputStylesParams {\n  isSingleHandle?: boolean;\n}\n\nexport default function useRangeInputStyles(props: UseRangeInputStylesParams) {\n  const { isSingleHandle } = props;\n  const styles = {\n    container: [tw`flex flex-col px-2`],\n    wrapper: [tw`w-full mt-8 mb-3`],\n    ticks: [tw`relative`],\n    tickItem: [\n      tw`mb-2.5 text-xs text-center text-gray-400 after:(content w-0 border-0 border-r border-gray-300 border-solid h-1.5 absolute)`,\n      { bottom: '100%' },\n      '&::after { left: 50%; top: 100% }',\n    ],\n    input: [tw`flex flex-col items-center sm:flex-row`, isSingleHandle ? tw`justify-end` : tw`justify-between`],\n  };\n\n  return mapStyles(styles);\n}\n","import { AriaTextFieldOptions, useTextField } from '@react-aria/textfield';\nimport {\n  __DEV__,\n  clamp,\n  closest,\n  formatNumber,\n  getDecimalPlaces,\n  getStylesObject,\n  isArray,\n  isNullOrUndefined,\n  isString,\n  noop,\n  roundToStep,\n} from '@sajari/react-sdk-utils';\nimport * as React from 'react';\nimport { useRanger } from 'react-ranger';\n\nimport Box from '../Box';\nimport Text from '../Text';\nimport Fill from './components/Fill';\nimport Handle from './components/Handle';\nimport Input from './components/Input';\nimport Track from './components/Track';\nimport useRangeInputStyles from './styles';\nimport { RangeInputProps, RangeInputValue, RangeValue } from './types';\n\nfunction RangeInput<T extends RangeValue>(props: RangeInputProps<T>) {\n  const {\n    language,\n    format = 'default',\n    currency = 'USD',\n    fixedPoint = false,\n    onChange = noop,\n    onInput = noop,\n    min = 0,\n    max = 100,\n    value: valueProp = [min, max],\n    step = 1,\n    steps,\n    leftInput: leftInputFunc,\n    rightInput: rightInputFunc,\n    showInputs = false,\n    tick,\n    fillClassName,\n    handleClassName,\n    handleActiveClassName,\n    trackClassName,\n    inputClassName,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    ...rest\n  } = props;\n\n  const leftRef = React.useRef<HTMLInputElement>(null);\n  const rightRef = React.useRef<HTMLInputElement>(null);\n  const trackRef = React.useRef<HTMLDivElement>(null);\n\n  // Format a value to be presented in the UI as a label\n  const formatLabel = (input: number) => {\n    if (format === 'price') {\n      const formatted = formatNumber(input, { style: 'currency', currency });\n      return fixedPoint ? formatted : formatted.replace('.00', '');\n    }\n\n    return fixedPoint ? Number(input).toFixed(getDecimalPlaces(step)) : input.toLocaleString(language);\n  };\n\n  // Format a value for the input\n  const formatInputValue = (input: string) => {\n    return fixedPoint ? Number(input).toFixed(getDecimalPlaces(step)) : input;\n  };\n\n  // Map RangeValue to the closest step and clamp values\n  const mapRange = (value: RangeValue): RangeValue => {\n    return isArray(value)\n      ? (value.map((v) => roundToStep(clamp(Number(v), min, max), step)) as RangeValue)\n      : roundToStep(clamp(Number(value), min, max), step);\n  };\n\n  // Map RangeValue to RangeInputValue\n  const mapRangeInput = (value: RangeValue): RangeInputValue => {\n    return (isArray(value) ? value : [value]).map(String).map(formatInputValue) as RangeInputValue;\n  };\n\n  const { ticks: ticksProp = !tick ? [min, max] : undefined } = props;\n  const [inputValues, setInputValues] = React.useState<RangeInputValue>(mapRangeInput(valueProp));\n  const [range, setRange] = React.useState<RangeValue>(mapRange(valueProp));\n  const values = React.useMemo(() => mapRange(range), [range]);\n  const [low, high] = isArray(values) ? values : [values];\n\n  // Map and set a range\n  const mapSetRange = (newValue: RangeValue, fireOnChange = false) => {\n    const newRange = mapRange(newValue);\n\n    setRange(newRange);\n\n    onInput(newRange as T);\n\n    if (fireOnChange) {\n      onChange(newRange as T);\n    }\n  };\n\n  // Set internal values when prop changes\n  React.useEffect(() => setRange(mapRange(valueProp)), [valueProp]);\n\n  // Set input values when the range changes\n  React.useEffect(() => setInputValues(mapRangeInput(range)), [range]);\n\n  const { getTrackProps, handles, ticks, segments } = useRanger({\n    stepSize: step,\n    steps,\n    min,\n    max,\n    values: isArray(values) ? values : [values],\n    tickSize: tick,\n    ticks: ticksProp,\n    onDrag: (val: number[]) => mapSetRange(val.length === 1 ? val[0] : (val as RangeValue)),\n    onChange: (val: number[]) => mapSetRange(val.length === 1 ? val[0] : (val as RangeValue), true),\n  });\n\n  const handleRangeInputChange = (left: boolean, v: string | number) => {\n    const val = isString(v) ? Number(v) : v;\n    let newValue: Array<number>;\n\n    if (isNullOrUndefined(high)) {\n      newValue = [val < min ? min : val];\n    } else if (left) {\n      newValue = [val < min ? min : val, high];\n    } else {\n      newValue = [low, val > max ? max : val];\n    }\n\n    mapSetRange(newValue as RangeValue, true);\n  };\n\n  const handleSwitchRange = () => {\n    if (isNullOrUndefined(high)) {\n      return;\n    }\n\n    if (low > high) {\n      mapSetRange([high, low], true);\n    }\n  };\n\n  const handleSegmentClick = (event: React.MouseEvent<HTMLDivElement>, i: number) => {\n    if (trackRef?.current === null) {\n      return;\n    }\n\n    // Calculate percentage\n    const clientRect = trackRef.current.getBoundingClientRect();\n    const percent = clamp((100 / clientRect.width) * (event.clientX - clientRect.left), 0, 100);\n    const newValue = roundToStep((max - min) * (percent / 100), step);\n\n    if (i === 1 && !isNullOrUndefined(high)) {\n      // Determine closest handle if clicking in center section\n      const [index] = closest(newValue, [low, high]);\n      handleRangeInputChange(index === 0, newValue);\n    } else {\n      handleRangeInputChange(i === 0, newValue);\n    }\n  };\n\n  const handleInputChange = (left: boolean) => (value: string) => {\n    const [l, r] = inputValues;\n\n    if (left && !isNullOrUndefined(r)) {\n      setInputValues([value, r]);\n    } else if (!isNullOrUndefined(r)) {\n      setInputValues([l, value]);\n    } else {\n      setInputValues([value]);\n    }\n  };\n\n  const handleInputKeyDown = (left: boolean) => (event: React.KeyboardEvent<HTMLInputElement>) => {\n    const target = event.target as HTMLInputElement;\n\n    if (event.key === 'Enter') {\n      handleRangeInputChange(left, target.value);\n    }\n  };\n\n  const inputProps = {\n    min,\n    max,\n    step,\n    type: 'number',\n    inputMode: 'numeric' as AriaTextFieldOptions['inputMode'],\n    disableDefaultStyles,\n    onBlur: handleSwitchRange,\n  };\n\n  const leftInputProps = {\n    ...inputProps,\n    className: inputClassName,\n    value: inputValues[0],\n    onChange: handleInputChange(true),\n    onKeyDown: handleInputKeyDown(true),\n    label: 'Range input left bound',\n  };\n\n  const rightInputProps = {\n    ...inputProps,\n    className: inputClassName,\n    value: inputValues[1],\n    onChange: handleInputChange(false),\n    onKeyDown: handleInputKeyDown(false),\n    label: 'Range input right bound',\n  };\n\n  const leftInput = leftInputFunc ? (\n    leftInputFunc({\n      getProps: (override = {}) => ({\n        ...useTextField({ ...leftInputProps, ...override }, leftRef),\n        ref: leftRef,\n      }),\n    })\n  ) : (\n    <Input {...leftInputProps} />\n  );\n\n  let rightInput: React.ReactNode | null = <Input {...rightInputProps} />;\n\n  if (isNullOrUndefined(high)) {\n    rightInput = null;\n  } else if (rightInputFunc) {\n    rightInput = rightInputFunc({\n      getProps: (override = {}) => ({\n        ...useTextField({ ...rightInputProps, ...override }, rightRef),\n        ref: rightRef,\n      }),\n    });\n  }\n\n  const styles = getStylesObject(\n    useRangeInputStyles({ isSingleHandle: isNullOrUndefined(high) }),\n    disableDefaultStyles,\n  );\n\n  return (\n    <Box css={[styles.container, stylesProp]} {...rest}>\n      <Box css={styles.wrapper}>\n        <Box css={styles.ticks}>\n          {ticks.map(({ value: tickValue, getTickProps }) => {\n            // Remove width from the styles to prevent needing !important in our styles\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            const { style, ...tickProps } = getTickProps();\n            const { width, ...tickStyles } = style as React.CSSProperties;\n\n            return (\n              <Text\n                {...tickProps}\n                style={{ ...tickStyles }}\n                css={styles.tickItem}\n                disableDefaultStyles={disableDefaultStyles}\n              >\n                {formatLabel(tickValue)}\n              </Text>\n            );\n          })}\n        </Box>\n\n        <Track\n          {...getTrackProps({ ref: trackRef })}\n          className={trackClassName}\n          disableDefaultStyles={disableDefaultStyles}\n        >\n          {segments.map(({ getSegmentProps }, i: number) => (\n            <Fill\n              isSingleHandle={isNullOrUndefined(high)}\n              disableDefaultStyles={disableDefaultStyles}\n              className={fillClassName}\n              {...getSegmentProps({\n                index: i,\n                onClick: (e: React.MouseEvent<HTMLDivElement>) => handleSegmentClick(e, i),\n              })}\n            />\n          ))}\n\n          {handles.map(({ value: handleValue, active, getHandleProps }) => (\n            <Handle\n              data-value={formatLabel(handleValue)}\n              activeClassName={handleActiveClassName}\n              className={handleClassName}\n              disableDefaultStyles={disableDefaultStyles}\n              {...getHandleProps({ active })}\n            />\n          ))}\n        </Track>\n      </Box>\n\n      {showInputs && (\n        <Box css={styles.input}>\n          {leftInput}\n          {rightInput}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nif (__DEV__) {\n  RangeInput.displayName = 'RangeInput';\n}\n\nexport default RangeInput;\nexport type { RangeInputProps };\n","import * as React from 'react';\n\nimport { BoxProps } from '../Box';\n\nexport interface RatingProps extends BoxProps {\n  /** The rating value, accepts decimal to represent half rating */\n  value: number;\n  /** Maxium level, used to fill in the empty stars */\n  max: number;\n  /** Associated text */\n  children?: React.ReactNode;\n  /** The icon to show, defaults to star icon */\n  character?: React.ReactNode | React.FC<RatingItemProps>;\n  /** Direction */\n  direction?: 'ltr' | 'rtl';\n  /** Unit, used for labeling, default to \"stars\" */\n  unit?: string;\n  ratingItemClassName?: string;\n  activeRatingItemClassName?: string;\n  activeHalfRatingItemClassName?: string;\n}\n\nexport interface InternalRatingItemProps extends BoxProps {\n  /** Index */\n  index: number;\n  /** Total count */\n  count: number;\n  /** The icon to show, defaults to star icon */\n  character: RatingProps['character'];\n  /** Is half */\n  half?: boolean;\n  /** Is the current item active */\n  active: boolean;\n  /** Flip the half side around */\n  flipped?: boolean;\n}\n\nexport interface RatingItemProps {\n  /** Its self pos */\n  index: number;\n  /** Total count */\n  count: number;\n}\n\nexport enum ItemType {\n  Filled = 1,\n  HalfFilled,\n  Empty,\n}\n\nexport class RatingMaxmiumExceededError extends Error {}\n","import { ItemType, RatingMaxmiumExceededError } from '../Rating/types';\n\nexport const toRatingArray: (value: number, max: number) => ItemType[] = (value, max) => {\n  const isHalf = Math.round(value) - value !== 0;\n\n  if (max - value < 0) {\n    throw new RatingMaxmiumExceededError();\n  }\n\n  return [\n    ...Array.from<ItemType.Filled>(Array(Math.floor(value))).fill(ItemType.Filled),\n    ...Array.from<ItemType.HalfFilled>(Array(isHalf ? 1 : 0)).fill(ItemType.HalfFilled),\n    ...Array.from<ItemType.Empty>(Array(max - Math.ceil(value))).fill(ItemType.Empty),\n  ];\n};\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw, { theme } from 'twin.macro';\n\nimport { InternalRatingItemProps } from '../../types';\n\nexport default function useRatingItemStyles(props: InternalRatingItemProps) {\n  const { half, flipped, active } = props;\n\n  const styles = {\n    container: [tw`relative inline-block p-0 m-0`, active && !half ? tw`text-orange-400` : tw`text-gray-300`],\n    firstHalf: [\n      tw`absolute top-0 w-1/2 h-full overflow-hidden select-none`,\n      '& > * { flex-shrink: 0; }',\n      flipped ? tw`right-0 flex flex-row-reverse` : tw`left-0 flex flex-row`,\n      half ? theme`colors.orange.400` : 'inherit',\n    ],\n    secondHalf: [tw`flex`, 'color: inherit;'],\n  };\n\n  return mapStyles(styles);\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport { InternalRatingItemProps } from '../../types';\nimport useRatingItemStyles from './styles';\n\nexport const RatingItem = (props: InternalRatingItemProps) => {\n  const { character, active, count, index, styles: stylesProp, disableDefaultStyles = false, ...rest } = props;\n  const characterNode = typeof character === 'function' ? character({ count, index }) : character;\n  const styles = getStylesObject(useRatingItemStyles(props), disableDefaultStyles);\n\n  return (\n    <Box css={[styles.container, stylesProp]} aria-hidden {...rest}>\n      <Box aria-setsize={count} aria-posinset={index + 1}>\n        <Box css={styles.firstHalf}>{characterNode}</Box>\n        <Box css={styles.secondHalf}>{characterNode}</Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport type { InternalRatingItemProps };\n","/* eslint-disable react/no-array-index-key */\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport tw from 'twin.macro';\n\nimport { IconSmallStar } from '../assets/icons';\nimport Box from '../Box';\nimport { toRatingArray } from '../utils/rating';\nimport { RatingItem } from './components/RatingItem';\nimport { ItemType, RatingItemProps, RatingProps } from './types';\n\nconst Rating = React.forwardRef((props: RatingProps, ref: React.Ref<HTMLDivElement>) => {\n  const {\n    value,\n    children,\n    character = <IconSmallStar />,\n    max = 5,\n    direction = 'ltr',\n    unit = 'star',\n    activeHalfRatingItemClassName,\n    activeRatingItemClassName,\n    ratingItemClassName,\n    styles: stylesProp,\n    disableDefaultStyles = false,\n    ...rest\n  } = props;\n\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  const isHalf = Math.round(value) - value !== 0;\n  const flipped = direction === 'rtl';\n  const label = isHalf ? `Rating: ${value} point 5 out of ${max} ${unit}s` : `Rating: ${value} out of ${max} ${unit}s`;\n  const arr = toRatingArray(value, max);\n\n  const styles = getStylesObject(\n    {\n      container: flipped\n        ? tw`inline-flex flex-row-reverse items-center space-x-1 space-x-reverse`\n        : tw`inline-flex items-center space-x-1`,\n    },\n    disableDefaultStyles,\n  );\n\n  return (\n    <Box ref={ref} role=\"img\" aria-label={label} css={[styles.container, stylesProp]} {...rest}>\n      {arr.map((type, i) => {\n        switch (type) {\n          case ItemType.Filled:\n            return (\n              <RatingItem\n                key={`active-rating-${i}`}\n                index={i}\n                count={max}\n                character={character}\n                className={classnames(ratingItemClassName, activeRatingItemClassName)}\n                disableDefaultStyles={disableDefaultStyles}\n                active\n              />\n            );\n\n          case ItemType.HalfFilled:\n            return (\n              <RatingItem\n                key=\"half-active-rating\"\n                index={Math.ceil(value) - Math.floor(value)}\n                count={max}\n                flipped={flipped}\n                character={character}\n                className={classnames(ratingItemClassName, activeHalfRatingItemClassName)}\n                disableDefaultStyles={disableDefaultStyles}\n                active\n                half\n              />\n            );\n\n          case ItemType.Empty:\n            return (\n              <RatingItem\n                key={`inactive-rating-${i}`}\n                index={i}\n                count={max}\n                character={character}\n                active={false}\n                className={ratingItemClassName}\n                disableDefaultStyles={disableDefaultStyles}\n              />\n            );\n\n          default:\n            return null;\n        }\n      })}\n      <Box as=\"span\" css={tw`sr-only`}>{`${value} ${unit}${value > 1 ? 's' : ''}`}</Box>\n      {children}\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  Rating.displayName = 'Rating';\n}\n\nexport default Rating;\nexport type { RatingItemProps };\n","import { __DEV__, noop } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport { useResizeObserver } from '../hooks';\nimport { ResizeObserverProps } from './types';\n\nconst ResizeObserver = (props: ResizeObserverProps) => {\n  const { onResize = noop, children, ...rest } = props;\n  const { ref } = useResizeObserver({ onResize });\n\n  return (\n    <Box ref={ref} {...rest}>\n      {children}\n    </Box>\n  );\n};\n\nif (__DEV__) {\n  ResizeObserver.displayName = 'ResizeObserver';\n}\n\nexport default ResizeObserver;\nexport type { ResizeObserverProps };\n","import { createContext } from '@sajari/react-sdk-utils';\nimport { PropGetters } from 'downshift';\n\nimport { Item, SelectCustomClassNames, SelectProps } from './types';\n\ninterface SelectContextProps\n  extends Required<\n    Pick<SelectProps, 'disabled' | 'disableDefaultStyles' | 'id' | 'invalid' | 'multiple' | 'size' | 'autofocus'>\n  > {\n  text: SelectProps['text'];\n  open: boolean;\n  items: Array<Item>;\n  highlightedIndex: number;\n  selectedItems: Array<string>;\n  itemToString: (item: Item) => string;\n  getToggleButtonProps: PropGetters<Item>['getToggleButtonProps'];\n  getMenuProps: PropGetters<Item>['getMenuProps'];\n  getItemProps: PropGetters<Item>['getItemProps'];\n  customClassNames: SelectCustomClassNames;\n}\n\nconst [SelectContextProvider, useSelectContext] = createContext<SelectContextProps>({\n  strict: true,\n  name: 'SelectContext',\n});\n\nexport default SelectContextProvider;\nexport { useSelectContext };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { UseInputStyleProps, useInputStyles } from '../../../hooks';\nimport { SelectProps } from '../../types';\n\nexport type UseButtonStylesParams = Required<Pick<SelectProps, 'size' | 'invalid' | 'disabled'>>;\n\nexport function useButtonStyles(params: UseButtonStylesParams) {\n  const { styles: inputStyles, focusProps: focusRingProps, focusRingStyles } = useInputStyles({\n    type: 'select',\n    ...params,\n  } as UseInputStyleProps);\n\n  const styles = { container: [tw`form-select`, inputStyles] };\n\n  return { styles: mapStyles(styles), focusRingProps, focusRingStyles };\n}\n","import { mergeProps } from '@react-aria/utils';\nimport { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport { useSelectContext } from '../../context';\nimport { useButtonStyles } from './styles';\n\nconst Button = () => {\n  const {\n    disabled,\n    getToggleButtonProps,\n    id,\n    invalid,\n    items,\n    selectedItems,\n    autofocus,\n    size,\n    text,\n    disableDefaultStyles,\n    customClassNames,\n  } = useSelectContext();\n  const { styles: buttonStyles, focusRingProps, focusRingStyles } = useButtonStyles({ size, disabled, invalid });\n  const styles = getStylesObject(buttonStyles, disableDefaultStyles);\n  const ref = React.useRef<HTMLButtonElement>(null);\n\n  React.useEffect(() => {\n    if (autofocus && ref?.current) {\n      ref.current.focus();\n    }\n  }, []);\n\n  const children: React.ReactNode = React.useMemo(() => {\n    if (typeof text === 'function') {\n      const selected = items\n        .filter(({ value: v }) => selectedItems.includes(v.toString()))\n        .map(({ children: label }) => label);\n      return text(selected);\n    }\n\n    if (typeof text !== 'undefined') {\n      return text;\n    }\n\n    if (selectedItems.length === 1) {\n      const [selectedItem] = selectedItems;\n      const selected = items.find(({ value: v }) => selectedItem === v.toString());\n\n      if (selected) {\n        return selected.children;\n      }\n    }\n\n    if (selectedItems.length > 1) {\n      return `${selectedItems.length} selected`;\n    }\n\n    return 'Select an option';\n  }, [JSON.stringify(selectedItems), text]);\n\n  return (\n    <Box\n      as=\"button\"\n      type=\"button\"\n      css={[styles.container, focusRingStyles]}\n      className={customClassNames.buttonClassName}\n      {...mergeProps(focusRingProps, getToggleButtonProps({ disabled, ref }), { id })}\n    >\n      {children}\n    </Box>\n  );\n};\n\nexport default Button;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useDropdownItemStyles as useCoreDropdownItemStyles, useFontSize } from '../../../hooks';\nimport { SelectProps } from '../../types';\nimport { OptionProps } from './types';\n\ninterface UseOptionStylesParams extends Omit<OptionProps, 'size'> {\n  highlighted: boolean;\n  selected: boolean;\n  size: SelectProps['size'];\n}\n\nexport function useOptionStyles(params: UseOptionStylesParams) {\n  const { size, highlighted, selected, disabled } = params;\n  const fontSizeStyles = useFontSize({ size });\n  const { root, label } = useCoreDropdownItemStyles({ highlighted });\n  const styles = {\n    option: [root, disabled ? tw`text-gray-400 cursor-not-allowed` : null, tw`last:(mb-1)`],\n    children: [tw`flex-1`, selected ? tw`pl-1` : tw`pl-4`, fontSizeStyles],\n    label: [label],\n  };\n\n  return { styles: mapStyles(styles) };\n}\n","import { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport { IconSmallCheck } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { useSelectContext } from '../../context';\nimport { Item } from '../../types';\nimport { useOptionStyles } from './styles';\nimport { OptionProps } from './types';\n\nconst Option = (props: OptionProps) => {\n  const { children, value, disabled, label } = props;\n  const {\n    getItemProps,\n    highlightedIndex,\n    items,\n    size,\n    selectedItems,\n    disableDefaultStyles,\n    customClassNames,\n  } = useSelectContext();\n  const [item, index] = React.useMemo(() => {\n    const i = items.find(({ value: v }) => v === value) as Item;\n    const idx = items.findIndex(({ value: v }) => v === value);\n    return [i, idx];\n  }, [value, JSON.stringify(items)]);\n  const selected = typeof value !== 'undefined' && selectedItems.includes(value.toString());\n  const highlighted = index === highlightedIndex;\n  const { styles: optionStyles } = useOptionStyles({ ...props, highlighted, selected, size });\n  const styles = getStylesObject(optionStyles, disableDefaultStyles);\n\n  return (\n    <Box\n      as=\"li\"\n      key={value}\n      css={styles.option}\n      {...getItemProps({\n        item,\n        index,\n        disabled,\n      })}\n      className={customClassNames.optionClassName}\n    >\n      {selected && <IconSmallCheck />}\n\n      <Box as=\"span\" css={styles.children}>\n        {children}\n      </Box>\n\n      {label && (\n        <Box as=\"span\" css={styles.label}>\n          {label}\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default Option;\nexport type { OptionProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useDropdownStyles as useCoreDropdownStyles, useFocusRingStyles } from '../../../hooks';\n\ninterface UseDropdownStylesParams {\n  shown: boolean;\n}\n\nexport function useDropdownStyles(params: UseDropdownStylesParams) {\n  const { shown } = params;\n  const { container } = useCoreDropdownStyles({ shown });\n  const { focusProps: focusRingProps, focusRingStyles } = useFocusRingStyles();\n  const styles = {\n    container: [\n      tw`p-1 pb-0 overflow-auto list-none focus:outline-none max-h-80 min-w-max-content`,\n      container,\n      focusRingStyles,\n    ],\n  };\n\n  return { styles: mapStyles(styles), focusRingProps };\n}\n","import { mergeProps } from '@react-aria/utils';\nimport { getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../../Box';\nimport { useSelectContext } from '../../context';\nimport Option from '../Option';\nimport { useDropdownStyles } from './styles';\n\nconst Dropdown = () => {\n  const { items, open, getMenuProps, disableDefaultStyles, customClassNames } = useSelectContext();\n  const { styles: dropdownStyles, focusRingProps } = useDropdownStyles({ shown: open });\n  const styles = getStylesObject(dropdownStyles, disableDefaultStyles);\n  const options = items.map((item) => <Option {...item} key={item.value} />);\n\n  return (\n    <Box\n      as=\"ul\"\n      css={styles.container}\n      {...mergeProps(focusRingProps, getMenuProps())}\n      className={customClassNames.dropdownClassName}\n    >\n      {open && options}\n    </Box>\n  );\n};\n\nexport default Dropdown;\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nexport function useSelectStyles() {\n  const styles = {\n    container: [tw`relative`],\n  };\n\n  return { styles: mapStyles(styles) };\n}\n","import { useId } from '@react-aria/utils';\nimport { __DEV__, cleanChildren, getStylesObject, isArray, isString } from '@sajari/react-sdk-utils';\nimport { useSelect, UseSelectState, UseSelectStateChangeOptions } from 'downshift';\nimport * as React from 'react';\n\nimport Box from '../Box';\nimport Label from '../Label';\nimport Button from './components/Button';\nimport Dropdown from './components/Dropdown';\nimport { OptionProps } from './components/Option';\nimport SelectContextProvider from './context';\nimport { useSelectStyles } from './styles';\nimport { Item, SelectProps } from './types';\n\nconst Select = React.forwardRef((props: SelectProps, ref?: React.Ref<HTMLDivElement>) => {\n  const {\n    id = `select-${useId()}`,\n    children,\n    label,\n    name,\n    value,\n    onChange,\n    size = 'md',\n    disabled = false,\n    invalid = false,\n    multiple = false,\n    autofocus = false,\n    text,\n    disableDefaultStyles = false,\n    styles: stylesProp,\n    className,\n    buttonClassName,\n    dropdownClassName,\n    optionClassName,\n  } = props;\n\n  const { styles: selectStyles } = useSelectStyles();\n  const styles = getStylesObject(selectStyles, disableDefaultStyles);\n\n  const stateReducer = (state: UseSelectState<Item>, actionAndChanges: UseSelectStateChangeOptions<Item>) => {\n    const { changes, type } = actionAndChanges;\n\n    switch (type) {\n      case useSelect.stateChangeTypes.MenuKeyDownEnter:\n      case useSelect.stateChangeTypes.MenuKeyDownSpaceButton:\n      case useSelect.stateChangeTypes.ItemClick:\n        return {\n          ...changes,\n          isOpen: multiple, // Keep menu open after selection for multiple\n          highlightedIndex: state.highlightedIndex,\n        };\n\n      default:\n        return changes;\n    }\n  };\n\n  const itemToString = (item: Item): string => item?.value?.toString() ?? '';\n\n  // Build items list from children\n  const items: Array<Item> = React.useMemo(\n    () =>\n      cleanChildren(children).reduce(\n        (out, { props: optionProps }: { props: OptionProps }) => [...out, optionProps],\n        [] as Array<Item>,\n      ),\n    [children],\n  );\n\n  const mapValues = (input?: SelectProps['value']) => {\n    if (typeof input === 'undefined') {\n      return [];\n    }\n\n    // Determine initial values\n    const values = isArray(input) ? input.map(String) : [input.toString()];\n\n    return multiple ? values : values.slice(0, 1);\n  };\n\n  // If no `value` prop is set, get selected props from children\n  const [selectedItems, setSelectedItems] = React.useState<Array<string>>(mapValues(value));\n\n  // Fire onChange and set state\n  const setSelected = (selected: Array<string>) => {\n    setSelectedItems(selected);\n\n    if (onChange) {\n      const [first] = selected;\n      onChange(multiple ? selected : first);\n    }\n  };\n\n  React.useEffect(() => {\n    setSelectedItems(mapValues(value));\n  }, [value]);\n\n  const {\n    isOpen: open,\n    getToggleButtonProps,\n    getLabelProps,\n    getMenuProps,\n    highlightedIndex,\n    getItemProps,\n  } = useSelect<Item>({\n    items,\n    stateReducer,\n    selectedItem: null,\n    initialHighlightedIndex: items.findIndex(({ value: v }) => v.toString() === selectedItems[0]),\n    itemToString,\n    onSelectedItemChange: ({ selectedItem }) => {\n      if (!selectedItem) {\n        return;\n      }\n\n      const selectedValue = itemToString(selectedItem);\n\n      if (!multiple) {\n        setSelected([selectedValue]);\n        return;\n      }\n\n      const index = selectedItems.findIndex((v) => v === selectedValue);\n\n      if (index > 0) {\n        setSelected([...selectedItems.slice(0, index), ...selectedItems.slice(index + 1)]);\n      } else if (index === 0) {\n        setSelected([...selectedItems.slice(1)]);\n      } else {\n        setSelected([...selectedItems, selectedValue]);\n      }\n    },\n  });\n\n  const context = {\n    id,\n    open,\n    items,\n    selectedItems,\n    highlightedIndex,\n    getMenuProps,\n    getItemProps,\n    getToggleButtonProps,\n    itemToString,\n    multiple,\n    disabled,\n    invalid,\n    autofocus,\n    size,\n    text,\n    disableDefaultStyles,\n    customClassNames: {\n      buttonClassName,\n      dropdownClassName,\n      optionClassName,\n    },\n  };\n\n  // Render hidden inputs for form submissions if name is set\n  const renderInputs = isString(name) && !disabled;\n\n  return (\n    <SelectContextProvider value={context}>\n      <Box css={[styles.container, stylesProp]} ref={ref} className={className}>\n        {label && (\n          <Label visuallyHidden {...getLabelProps()}>\n            {label}\n          </Label>\n        )}\n\n        <Button />\n\n        <Dropdown />\n\n        {renderInputs &&\n          selectedItems.map((v) => <Box as=\"input\" type=\"hidden\" name={name} value={v} key={`${name}-${v}`} />)}\n      </Box>\n    </SelectContextProvider>\n  );\n});\n\nif (__DEV__) {\n  Select.displayName = 'Select';\n}\n\nexport default Select;\nexport { default as Option } from './components/Option';\nexport * from './components/Option';\nexport type { SelectProps };\n","/* eslint-disable jsx-a11y/anchor-has-content */\nimport { __DEV__ } from '@sajari/react-sdk-utils';\n\nimport { IconSpinner } from '../assets/icons';\nimport { SpinnerProps } from './types';\n\nconst Spinner = ({ styles, disableDefaultStyles, ...props }: SpinnerProps) => <IconSpinner css={styles} {...props} />;\n\nif (__DEV__) {\n  Spinner.displayName = 'Spinner';\n}\n\nexport default Spinner;\nexport type { SpinnerProps };\n","import { SSRProvider, SSRProviderProps as CoreSSProviderProps } from '@react-aria/ssr';\nimport * as React from 'react';\n\ntype SSRProviderProps = CoreSSProviderProps;\n\nexport default (props: SSRProviderProps) => <SSRProvider {...props} />;\n\nexport type { SSRProviderProps };\n","import { theme } from 'twin.macro';\n\nimport { ColorProps } from './types';\n\nexport const colors: ColorProps[] = [\n  {\n    id: 'White',\n    bg: theme`colors.white`,\n  },\n  {\n    id: 'Silver',\n    bg: theme`colors.gray.300`,\n  },\n  {\n    id: 'Black',\n    bg: theme`colors.black`,\n  },\n  {\n    id: 'Pink',\n    bg: theme`colors.pink.400`,\n  },\n  {\n    id: 'Magenta',\n    bg: theme`colors.pink.600`,\n  },\n  {\n    id: 'Red',\n    bg: theme`colors.red.500`,\n  },\n  {\n    id: 'Beige',\n    bg: theme`colors.orange.200`,\n  },\n  {\n    id: 'Orange',\n    bg: theme`colors.orange.400`,\n  },\n  {\n    id: 'Brown',\n    bg: theme`colors.orange.700`,\n  },\n  {\n    id: 'Yellow',\n    bg: theme`colors.yellow.300`,\n  },\n  {\n    id: 'Green',\n    bg: theme`colors.green.400`,\n  },\n  {\n    id: 'Azure',\n    bg: theme`colors.teal.100`,\n  },\n  {\n    id: 'Aqua',\n    bg: theme`colors.teal.300`,\n  },\n  {\n    id: 'Teal',\n    bg: theme`colors.teal.400`,\n  },\n  {\n    id: 'Turquoise',\n    bg: theme`colors.teal.500`,\n  },\n  {\n    id: 'Blue',\n    bg: theme`colors.blue.400`,\n  },\n  {\n    id: 'ElectricBlue',\n    bg: theme`colors.blue.600`,\n  },\n  {\n    id: 'Lilac',\n    bg: theme`colors.purple.300`,\n  },\n  {\n    id: 'Purple',\n    bg: theme`colors.purple.400`,\n  },\n  {\n    id: 'Violet',\n    bg: theme`colors.purple.600`,\n  },\n];\n\nexport const colorKeys = colors.map(({ id }) => id);\n","import { createContext } from '@sajari/react-sdk-utils';\n\ninterface SwatchContextProps {\n  state: string[];\n  setState: (color: string) => void;\n  disableDefaultStyles: boolean;\n}\n\nconst [SwatchContextProvider, useSwatchContext] = createContext<SwatchContextProps>({\n  strict: true,\n  name: 'SwatchContext',\n});\n\nexport default SwatchContextProvider;\nexport { useSwatchContext };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw from 'twin.macro';\n\nimport { useBorderRadius, useFocusRingStyles } from '../../../hooks';\nimport { ColorProps } from '../../types';\n\ninterface UseColorStylesParams {\n  checked: boolean;\n  border: ColorProps['border'];\n  rounded: ColorProps['rounded'];\n}\n\nexport default function useColorStyles(props: UseColorStylesParams) {\n  const { checked, border, rounded } = props;\n  const { focusProps, focusRingStyles } = useFocusRingStyles({ color: String(border) });\n  const borderRadiusStyles = useBorderRadius({ rounded });\n\n  const styles = {\n    container: [\n      focusRingStyles,\n      tw`relative flex items-center justify-center mt-2 ml-2 border border-solid cursor-pointer w-7 h-7`,\n      borderRadiusStyles,\n    ],\n    iconCheck: [checked ? tw`opacity-100 fill-current` : tw`opacity-0 fill-current`],\n  };\n\n  return { styles: mapStyles(styles), focusProps };\n}\n","/* eslint-disable no-confusing-arrow */\n\nimport { useSwitch } from '@react-aria/switch';\nimport { useToggleState } from '@react-stately/toggle';\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport ColorClass from 'color';\nimport * as React from 'react';\nimport tw, { styled } from 'twin.macro';\n\nimport { IconCheck } from '../../../assets/icons';\nimport Box from '../../../Box';\nimport { colors } from '../../colors';\nimport { useSwatchContext } from '../../context';\nimport { ColorProps } from '../../types';\nimport useColorStyles from './styles';\n\nconst StyledLabel = styled.label<{\n  textColor: ColorProps['color'];\n  bg: ColorProps['bg'];\n  border: ColorProps['border'];\n}>`\n  color: ${({ textColor }) => textColor};\n  background-color: ${({ bg }) => bg};\n  border-color: ${({ border }) => border};\n`;\n\nconst FunctionalColor = React.memo(\n  ({\n    id,\n    bg,\n    border = new ColorClass(bg).darken(0.1).string(),\n    color = new ColorClass(bg).isLight()\n      ? new ColorClass(bg).lightness(25).string()\n      : new ColorClass(bg).lightness(85).string(),\n    rounded = 'md',\n    className,\n    checkedClassName = '',\n    checked,\n    toggle,\n    disableDefaultStyles = false,\n  }: ColorProps & { checked: boolean; toggle: () => void }) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const toggleState = useToggleState();\n    const { inputProps } = useSwitch(\n      {\n        value: String(checked),\n        'aria-label': id,\n        name: id,\n      },\n      toggleState,\n      ref,\n    );\n    // const { focusProps, focusRingStyles } = useFocusRingStyles({ color: border.toString() });\n    const { styles: colorStyles, focusProps } = useColorStyles({ border, checked, rounded });\n    const styles = getStylesObject(colorStyles, disableDefaultStyles);\n\n    return (\n      <StyledLabel\n        bg={bg}\n        border={border}\n        textColor={color}\n        css={styles.container}\n        className={classnames(className, { [checkedClassName]: checked })}\n      >\n        <Box as=\"span\" css={tw`sr-only`}>\n          {id}\n        </Box>\n        <Box\n          as=\"input\"\n          css={tw`sr-only`}\n          {...inputProps}\n          {...focusProps}\n          ref={ref}\n          aria-checked={checked}\n          onClick={toggle}\n        />\n        <IconCheck css={styles.iconCheck} />\n      </StyledLabel>\n    );\n  },\n);\n\nexport const Color = (props: ColorProps) => {\n  const { id } = props;\n  const { state, setState, disableDefaultStyles = false } = useSwatchContext();\n  const checked = React.useMemo(() => state.includes(id), [state, id]);\n  const toggle = React.useCallback(() => setState(id), [setState, id]);\n  return <FunctionalColor {...props} disableDefaultStyles={disableDefaultStyles} toggle={toggle} checked={checked} />;\n};\n\nif (__DEV__) {\n  Color.displayName = 'Swatch.Color';\n}\n\n/** We're doing it manually rather a for loop because this enables code completion */\n\n/** */\nColor.White = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[0], ...overridingProps });\n\nColor.Silver = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[1], ...overridingProps });\n\nColor.Black = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[2], ...overridingProps });\n\nColor.Pink = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[3], ...overridingProps });\n\nColor.Magenta = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[4], ...overridingProps });\n\nColor.Red = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[5], ...overridingProps });\n\nColor.Beige = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[6], ...overridingProps });\n\nColor.Orange = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[7], ...overridingProps });\n\nColor.Brown = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[8], ...overridingProps });\n\nColor.Yellow = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[9], ...overridingProps });\n\nColor.Green = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[10], ...overridingProps });\n\nColor.Azure = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[11], ...overridingProps });\n\nColor.Aqua = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[12], ...overridingProps });\n\nColor.Teal = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[13], ...overridingProps });\n\nColor.Turquoise = (overridingProps: Partial<ColorProps> = {}) =>\n  Color.call(null, { ...colors[14], ...overridingProps });\n\nColor.Blue = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[15], ...overridingProps });\n\nColor.ElectricBlue = (overridingProps: Partial<ColorProps> = {}) =>\n  Color.call(null, { ...colors[16], ...overridingProps });\n\nColor.Lilac = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[17], ...overridingProps });\n\nColor.Purple = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[18], ...overridingProps });\n\nColor.Violet = (overridingProps: Partial<ColorProps> = {}) => Color.call(null, { ...colors[19], ...overridingProps });\n\nexport default Color;\nexport type { ColorProps };\n","import { __DEV__, cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\nimport tw from 'twin.macro';\n\nimport Box from '../Box';\nimport { colorKeys } from './colors';\nimport { Color } from './components/Color';\nimport SwatchContextProvider from './context';\nimport { SwatchProps } from './types';\n\nconst Swatch = ({\n  children,\n  checkedColors = [],\n  onChange = () => {},\n  styles: stylesProp,\n  disableDefaultStyles = false,\n  colorCheckedClassName = '',\n  colorClassName = '',\n  ...rest\n}: SwatchProps) => {\n  const styles = getStylesObject({ container: tw`flex flex-wrap -mt-2 -ml-2` }, disableDefaultStyles);\n  const validChildren = cleanChildren(children);\n  const setState = React.useCallback(\n    (color: string) => {\n      if (checkedColors.includes(color)) {\n        onChange(checkedColors.filter((c) => c !== color));\n      } else {\n        onChange([...checkedColors, color]);\n      }\n    },\n    [JSON.stringify(checkedColors)],\n  );\n\n  return (\n    <SwatchContextProvider value={{ state: checkedColors, setState, disableDefaultStyles }}>\n      <Box css={[styles.container, stylesProp]} {...rest}>\n        {validChildren.map((child) =>\n          React.cloneElement(child, {\n            className: colorClassName,\n            checkedClassName: colorCheckedClassName,\n            ...child.props,\n          }),\n        )}\n      </Box>\n    </SwatchContextProvider>\n  );\n};\n\nif (__DEV__) {\n  Swatch.displayName = 'Swatch';\n}\n\nSwatch.Color = Color;\nSwatch.colorKeys = colorKeys;\nexport default Swatch;\nexport type { SwatchProps };\n","import { createContext } from '@sajari/react-sdk-utils';\n\nimport { TabsContextOptions } from './types';\n\nconst [TabContextProvider, useTabContext] = createContext<TabsContextOptions>({\n  strict: true,\n  name: 'TabsContext',\n});\n\nexport default TabContextProvider;\nexport { useTabContext };\n","import { css } from '@emotion/core';\nimport { useTheme } from '@sajari/react-sdk-utils';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport { useFocusRingStyles } from '../../hooks';\nimport { useTabContext } from '../context';\nimport { TabProps } from './types';\n\nexport default function useTabStyles(props: TabProps) {\n  const { selected, disabled } = props;\n  const { fitted } = useTabContext();\n  const theme = useTheme();\n  const { focusProps: focusRingProps, focusRingStyles } = useFocusRingStyles({ rounded: 'none' });\n  const styles: (TwStyle | string)[] = [];\n\n  styles.push(\n    tw`relative flex items-center justify-center px-4 py-3 m-0 -mb-px text-base text-gray-500 bg-transparent border-0 border-b-2 border-transparent border-solid font-inherit focus:outline-none`,\n  );\n\n  if (!selected) {\n    styles.push(tw`hover:text-gray-700 focus:text-gray-700`);\n  }\n\n  if (fitted) {\n    styles.push(tw`flex-1`);\n  }\n\n  if (disabled) {\n    styles.push(tw`text-gray-400 cursor-not-allowed`);\n  }\n\n  if (selected) {\n    styles.push(`color: ${theme.color.primary.base}; border-bottom-color: ${theme.color.primary.base};`);\n  }\n\n  return { styles: [css(styles), focusRingStyles], focusRingProps };\n}\n","import { mergeProps } from '@react-aria/utils';\nimport { __DEV__, getStylesObject } from '@sajari/react-sdk-utils';\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport Box from '../../Box';\nimport { useTabContext } from '../context';\nimport useTabStyles from './styles';\nimport { TabProps } from './types';\n\nconst Tab = React.forwardRef((props: TabProps, ref?: React.Ref<HTMLButtonElement>) => {\n  const { selected, disabled, id, className, selectedClassName = '', ...rest } = props;\n  const { disableDefaultStyles = false } = useTabContext();\n  const { styles: containerStyles, focusRingProps } = useTabStyles(props);\n  const styles = getStylesObject({ container: containerStyles }, disableDefaultStyles);\n\n  return (\n    <Box\n      ref={ref}\n      role=\"tab\"\n      as=\"button\"\n      type=\"button\"\n      tabIndex={selected ? 0 : -1}\n      id={`tab-${id}`}\n      disabled={disabled}\n      aria-selected={selected}\n      aria-disabled={disabled}\n      aria-controls={`panel-${id}`}\n      className={classnames(className, { [selectedClassName]: selected })}\n      css={styles.container}\n      {...mergeProps(rest, focusRingProps)}\n    />\n  );\n});\n\nif (__DEV__) {\n  Tab.displayName = 'Tab';\n}\n\nexport default Tab;\nexport type { TabProps };\n","import { mapStyles } from '@sajari/react-sdk-utils';\nimport tw, { theme as twTheme } from 'twin.macro';\n\nimport { useTabContext } from '../context';\n\nexport default function useTabListStyles() {\n  const { align } = useTabContext();\n  const styles = {\n    container: [\n      tw`overflow-auto whitespace-no-wrap`,\n      { boxShadow: `inset 0 -1px 0 ${twTheme`colors.gray.200`.toString()}` },\n    ],\n    innerContainer: [tw`flex border-0 border-b border-gray-200 border-solid`],\n  };\n\n  switch (align) {\n    case 'center':\n      styles.innerContainer.push(tw`justify-center`);\n      break;\n\n    case 'end':\n      styles.innerContainer.push(tw`justify-end`);\n      break;\n\n    default:\n    case 'start':\n      styles.innerContainer.push(tw`justify-start`);\n      break;\n  }\n\n  return mapStyles(styles);\n}\n","import { __DEV__, cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport React, { cloneElement, useRef } from 'react';\n\nimport Box from '../../Box';\nimport { useTabContext } from '../context';\nimport useTabListStyles from './styles';\nimport { TabListProps } from './types';\n\nconst TabList = React.forwardRef((props: TabListProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { children, onKeyDown, onClick, styles: stylesProp, ...rest } = props;\n  const {\n    id,\n    index: selectedIndex,\n    manualIndex,\n    onManualTabChange,\n    manual,\n    onChangeTab,\n    onFocusPanel,\n    disableDefaultStyles = false,\n  } = useTabContext();\n  const styles = getStylesObject(useTabListStyles(), disableDefaultStyles);\n  const allNodes = useRef<(HTMLElement | null)[]>([]);\n  const validChildren = cleanChildren(children);\n\n  const focusableIndexes = validChildren\n    .map((child, index) => (child.props.disabled === true ? null : index))\n    .filter((index) => index != null) as number[];\n\n  const enabledSelectedIndex = focusableIndexes.indexOf(selectedIndex);\n  const count = focusableIndexes.length;\n\n  const updateIndex = (index: number) => {\n    const childIndex = focusableIndexes[index];\n\n    allNodes.current[childIndex]?.focus();\n\n    if (onChangeTab) {\n      onChangeTab(childIndex);\n    }\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      const nextIndex = (enabledSelectedIndex + 1) % count;\n      updateIndex(nextIndex);\n    }\n\n    if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      const nextIndex = (enabledSelectedIndex - 1 + count) % count;\n      updateIndex(nextIndex);\n    }\n\n    if (event.key === 'Home') {\n      event.preventDefault();\n      updateIndex(0);\n    }\n\n    if (event.key === 'End') {\n      event.preventDefault();\n      updateIndex(count - 1);\n    }\n\n    if (event.key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (onFocusPanel) {\n        onFocusPanel();\n      }\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  const clones = validChildren.map((child, index) => {\n    const selected = manual ? index === manualIndex : index === selectedIndex;\n\n    const handleClick = (event: React.MouseEvent) => {\n      // Hack for Safari. Buttons don't receive focus on click on Safari\n      // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n      allNodes.current[index]?.focus();\n\n      onManualTabChange(index);\n      onChangeTab(index);\n\n      if (child.props.onClick) {\n        child.props.onClick(event);\n      }\n    };\n\n    return cloneElement(child, {\n      ref: (node: HTMLElement | null) => {\n        allNodes.current[index] = node;\n        return node;\n      },\n      selected,\n      onClick: handleClick,\n      id: `${id}-${index}`,\n    });\n  });\n\n  return (\n    <Box css={styles.container}>\n      <Box ref={ref} role=\"tablist\" onKeyDown={handleKeyDown} css={styles.innerContainer} {...rest}>\n        {clones}\n      </Box>\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  TabList.displayName = 'TabList';\n}\n\nexport default TabList;\nexport type { TabListProps };\n","import { __DEV__, assignRef } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\n\nimport Box from '../../Box';\nimport { useTabContext } from '../context';\nimport { TabPanelProps } from './types';\n\nconst TabPanel = React.forwardRef((props: TabPanelProps, ref: React.Ref<HTMLDivElement>) => {\n  const { children, selected, selectedPanelRef, id, styles: stylesProp, ...rest } = props;\n  const { alwaysRenderChildren } = useTabContext();\n\n  return (\n    <Box\n      ref={(node: HTMLDivElement) => {\n        if (selected && selectedPanelRef) {\n          assignRef(selectedPanelRef, node);\n        }\n        assignRef(ref, node);\n      }}\n      role=\"tabpanel\"\n      tabIndex={-1}\n      aria-labelledby={`tab:${id}`}\n      hidden={!selected}\n      id={`panel:${id}`}\n      css={stylesProp}\n      {...rest}\n    >\n      {(alwaysRenderChildren || selected) && children}\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  TabPanel.displayName = 'TabPanel';\n}\n\nexport default TabPanel;\nexport type { TabPanelProps };\n","import { __DEV__, cleanChildren } from '@sajari/react-sdk-utils';\nimport React, { cloneElement } from 'react';\n\nimport Box from '../../Box';\nimport { useTabContext } from '../context';\nimport { TabPanelsProps } from './types';\n\nconst TabPanels = React.forwardRef((props: TabPanelsProps, ref?: React.Ref<HTMLDivElement>) => {\n  const { children, styles: stylesProp, ...rest } = props;\n  const { index: selectedIndex, selectedPanelRef, id, manual, manualIndex } = useTabContext();\n  const validChildren = cleanChildren(children);\n\n  const clones = validChildren.map((child, index) =>\n    cloneElement(child, {\n      selected: manual ? index === manualIndex : index === selectedIndex,\n      selectedPanelRef,\n      id: `${id}-${index}`,\n    }),\n  );\n\n  return (\n    <Box tabIndex={-1} ref={ref} css={stylesProp} {...rest}>\n      {clones}\n    </Box>\n  );\n});\n\nif (__DEV__) {\n  TabPanels.displayName = 'TabPanels';\n}\n\nexport default TabPanels;\nexport type { TabPanelsProps };\n","import { useId } from '@react-aria/utils';\nimport React, { useRef, useState } from 'react';\n\nimport Box from '../Box';\nimport TabContextProvider from './context';\nimport { TabsProps } from './types';\n\nconst Tabs = React.forwardRef((props: TabsProps, ref?: React.Ref<HTMLDivElement>) => {\n  const {\n    children,\n    onChange,\n    index: controlledIndex,\n    defaultIndex,\n    manual,\n    align = 'start',\n    fitted,\n    alwaysRenderChildren,\n    disableDefaultStyles,\n    styles: stylesProp,\n    ...rest\n  } = props;\n\n  const { current: controlled } = useRef(typeof controlledIndex !== 'undefined');\n  const selectedPanelRef = useRef<HTMLElement>(null);\n\n  const getInitialIndex = () => {\n    if (!manual) {\n      return defaultIndex || 0;\n    }\n    return controlledIndex || defaultIndex || 0;\n  };\n\n  const [selectedIndex, setSelectedIndex] = useState(getInitialIndex);\n\n  const getActualIdx = () => {\n    if (manual) {\n      return selectedIndex;\n    }\n    return controlled && typeof controlledIndex === 'number' ? controlledIndex : selectedIndex;\n  };\n\n  const [manualIndex, setManualIndex] = useState(controlledIndex || defaultIndex || 0);\n  const actualIdx = getActualIdx();\n  const manualIdx = controlled ? controlledIndex : manualIndex;\n\n  const onChangeTab = (index: number) => {\n    if (!controlled) {\n      setSelectedIndex(index);\n    }\n\n    if (controlled && manual) {\n      setSelectedIndex(index);\n    }\n\n    if (!manual) {\n      if (onChange) {\n        onChange(index);\n      }\n    }\n  };\n\n  const onManualTabChange = (index: number) => {\n    if (!controlled) {\n      setManualIndex(index);\n    }\n\n    if (manual) {\n      if (onChange) {\n        onChange(index);\n      }\n    }\n  };\n\n  const onFocusPanel = () => {\n    if (selectedPanelRef.current) {\n      selectedPanelRef.current.focus();\n    }\n  };\n\n  const id = useId();\n\n  const context = {\n    id,\n    index: actualIdx,\n    manualIndex: manualIdx,\n    onManualTabChange,\n    manual,\n    onChangeTab,\n    selectedPanelRef,\n    onFocusPanel,\n    align,\n    fitted,\n    alwaysRenderChildren,\n    disableDefaultStyles,\n  };\n\n  return (\n    <TabContextProvider value={context}>\n      <Box ref={ref} css={stylesProp} {...rest}>\n        {children}\n      </Box>\n    </TabContextProvider>\n  );\n});\n\nTabs.displayName = 'Tabs';\n\nexport default Tabs;\nexport type { TabsProps };\n\nexport type { TabProps } from './Tab';\nexport { default as Tab } from './Tab';\nexport type { TabListProps } from './TabList';\nexport { default as TabList } from './TabList';\nexport type { TabPanelProps } from './TabPanel';\nexport { default as TabPanel } from './TabPanel';\nexport type { TabPanelsProps } from './TabPanels';\nexport { default as TabPanels } from './TabPanels';\n"],"names":["BoxComponent","props","ref","as","Type","children","rest","_jsx","filterProps","Box","forwardRefWithAs","useAspectRatioStyles","ratio","styles","css","push","Component","disableDefaultStyles","stylesProp","child","Children","only","isValidElement","getStylesObject","container","cloneElement","AspectRatio","useBorderRadius","rounded","useDropdownItemStyles","params","highlighted","theme","useTheme","inferStylesObjectKeys","root","label","color","primary","text","active","mapStyles","useDropdownStyles","shown","heading","items","footer","footerItem","footerItems","footerIcon","footerEscHint","poweredBy","useFirstRender","firstRender","useRef","useEffect","current","useRingStyles","visible","disabled","invalid","base","borderColor","toString","borderRadius","Color","useFocusRingStyles","useFocusRing","isFocusVisible","focusProps","focusRingStyles","useFontSize","size","useInputStyles","indeterminate","readOnly","type","undefined","fill","encodeURIComponent","hex","includes","useJustifyContent","align","useSpacing","spacing","inline","useVoiceInput","onResult","useState","supported","setSupported","setActive","result","setResult","recognitionRef","isSSR","window","hasOwnProperty","SpeechRecognition","webkitSpeechRecognition","start","useCallback","recognition","stop","continuous","interimResults","onresult","event","r","results","transcript","onerror","useButtonStyles","fullWidth","appearance","loading","pressed","focused","hovered","isLink","focusRingProps","returnStyles","val","Button","React","forwardRef","onClick","className","stylesProps","pressedClassName","setFocused","buttonRef","ownRef","mergeRefs","useButton","isDisabled","elementType","onPress","buttonProps","isPressed","useHover","hoverProps","isHovered","useFocus","onFocus","onBlur","containerStyles","customProps","mergeProps","classnames","useButtonGroupStyles","attached","StyledBox","shouldForwardProp","prop","ButtonGroup","validChildren","cleanChildren","clones","map","__DEV__","displayName","useLabelStyles","visuallyHidden","sizeStyles","Label","useCheckboxStyles","fontSize","inputStyles","componentWrapper","inputWrapper","indeterminateInner","backgroundColor","input","Checkbox","id","useId","name","value","defaultChecked","checked","onChange","ariaLabel","ariaLabelledBy","labelClassName","privateChecked","setPrivateChecked","controlled","internalChecked","checkboxStyles","internalChange","target","comp","_jsxs","mapTruncateValue","truncate","isNumber","useTextStyles","TextComponent","Text","useCheckboxGroupStyles","spacingStyles","CheckboxGroup","defaultValue","valueProp","values","setValues","internalValues","newValues","filter","v","fallbackName","internalName","index","key","labelId","useLinkStyles","Link","usePoweredByStyles","logo","PoweredBy","LogoSajariColor","LogoSajariMono","createContext","strict","ComboboxContextProvider","useComboboxContext","selected","useCoreDropdownItemStyles","item","highlight","iconEnter","DropdownItem","typedInputValue","getItemProps","showDropdownTips","itemToString","onSelect","customClassNames","dropdownItemClassName","dropdownSelectedItemClassName","dropdownHighlightItemClassName","stringItem","renderContent","startsWith","React.Fragment","replace","_createElement","IconEnterKey","useHeadingStyles","options","mapElementToSize","element","HeadingComponent","Heading","useHasImageLoaded","src","onLoad","onError","hasLoaded","setHasLoaded","image","Image","addEventListener","call","useObjectFit","objectFit","isSecondImage","useImageStyles","hover","secondImage","useImageProvider","provider","width","height","images","imagesParam","isArray","Boolean","i","url","URL","pathname","split","reverse","extension","pathnameWithoutExtension","join","NativeImage","htmlWidth","htmlHeight","alt","srcProp","hoverSrcProp","hoverSrc","onMouseEnterExternal","onMouseEnter","onMouseLeaveExternal","onMouseLeave","aspectRatio","containerClassName","setHover","e","imageProps","imageContainer","textContainer","DropdownResult","resultImageContainerClassName","resultTextContainerClassName","resultClassName","selectedResultClassName","title","description","Dropdown","mode","open","inputValue","highlightedIndex","getMenuProps","showPoweredBy","renderItem","dropdownClassName","dropdownListClassName","dropdownFooterClassName","length","listRender","IconUpKey","IconDownKey","useTypeaheadStyles","hidden","trimPrefix","str","prefix","slice","Typeahead","completion","typeaheadClassName","typeaheadValue","hiddenText","substring","useVoiceStyles","Voice","onVoiceInput","IconMic","IconEmptyMic","useComboboxStyles","voiceEnabled","iconContainerStyles","inputContainer","iconContainerLeft","iconContainerRight","iconSpinner","Combobox","ComboboxInner","placeholder","enterKeyHint","onKeyDown","enableVoice","captureVoiceInput","itemToUrl","inputClassName","inputContainerClassName","inputElement","setTypedInputValue","voiceSupported","setValue","setContainer","useCombobox","onInputValueChange","changes","stateReducer","state","stateChangeTypes","InputKeyDownArrowDown","selectedItem","InputKeyDownArrowUp","ItemMouseMove","InputKeyDownEscape","isOpen","InputKeyDownEnter","ItemClick","InputChange","getLabelProps","getInputProps","getComboboxProps","setInputValue","closeMenu","context","handleVoiceInput","comboboxStyles","inputProps","dir","autoCapitalize","autoComplete","autoCorrect","spellCheck","inputMode","nativeEvent","preventDownshiftDefault","selectionStart","location","href","isFunction","onInput","renderInAttachMode","InputComponent","createElement","Array","from","attributes","reduce","acc","attr","nodeName","nodeValue","ContainerComponent","style","position","remove","ReactDOM","createPortal","parentElement","htmlFor","IconSmallSearch","IconSearch","IconSpinner","focusableElements","focusableElSelector","getFocusables","keyboardOnly","elements","querySelectorAll","focusableEl","getComputedStyle","display","getAttribute","FocusLock","initialFocusRef","finalFocusRef","contentRef","restoreFocus","autoFocus","onActivation","focus","focusables","onDeactivation","returnFocus","AriaHidden","refModal","shouldHide","undo","hideOthers","ModalContextProvider","useModalContext","useModalBodyStyles","padded","ModalBody","bodyId","useModalCloseButtonStyles","icon","ModalCloseButton","onClose","callAllHandlers","IconClose","useModalFooterStyles","ModalFooter","fullWidthSizes","toArray","useModalHeader","ModalHeader","useModalHeaderStyles","modals","modalManager","add","newModal","oldModal","modal","isTopModal","useModalManager","useModalTitleStyles","ModalTitle","titleId","Portal","animateOverlayIn","keyframes","animateOverlayOut","animateModalIn","animateModalOut","getModalSize","useModalStyles","animationDuration","modalAnimationIn","modalAnimationOut","overlayAnimationIn","overlayAnimationOut","center","sizeStyle","overlay","overlayInner","content","useScrollLock","showPortal","blockScroll","oldRef","disableBodyScroll","enableBodyScroll","Modal","closeOnEsc","closeOnOverlayClick","role","ariaDescribedby","ariaLabelledby","modalId","onEscKeyDown","trapFocus","returnFocusOnClose","onOverlayClick","onAnimationEnd","modalClassName","modalContainerClassName","overlayClassName","overlayOpenClassName","modalOpenClassName","rootClassName","useInert","refShouldClose","refContainer","document","setShowPortal","handleKeydown","keyCode","handleOpen","body","contains","appendChild","handleClose","removeChild","removeEventListener","handleClickOverlay","handleModalEvent","handleAnimationEnd","containerModal","usePaginationStyles","justifyContentStyles","spacerStyles","spacerEllipsis","compactStatus","compactStatusCount","defaultI18n","previous","next","page","Pagination","useResizeObserver","language","totalResults","resultsPerPage","pageCount","i18nProp","i18n","buttonClassName","activeClassName","nextClassName","prevClassName","spacerEllipsisClassName","statusClassName","scrollTarget","scrollToTop","compact","smoothscroll","polyfill","scrollOptions","behavior","isString","querySelector","scrollIntoView","scrollTo","top","count","Math","ceil","changeHandler","exitEarly","clamp","renderButtons","limit","middle","offset","max","_","Number","unshift","lastIndex","number","template","toLocaleString","hasPrevious","hasNext","IconChevronLeft","IconChevronRight","useRadioStyles","Radio","radioStyles","useRadioGroupStyles","RadioGroup","internalValue","rootRef","internalOnChange","useImperativeHandle","useFillStyles","isSingleHandle","Fill","useHandleStyles","colorShadow","boxShadow","alpha","hsl","touchAction","Handle","fillStyles","useRangeInputStyles","step","charLength","Input","min","useTextField","labelProps","useTrackStyles","Track","wrapper","ticks","tickItem","bottom","RangeInput","format","currency","fixedPoint","noop","steps","leftInputFunc","leftInput","rightInputFunc","rightInput","showInputs","tick","fillClassName","handleClassName","handleActiveClassName","trackClassName","leftRef","rightRef","trackRef","formatLabel","formatted","formatNumber","toFixed","getDecimalPlaces","formatInputValue","mapRange","roundToStep","mapRangeInput","String","ticksProp","inputValues","setInputValues","range","setRange","low","high","mapSetRange","newValue","fireOnChange","newRange","useRanger","stepSize","tickSize","onDrag","getTrackProps","handles","segments","handleRangeInputChange","left","isNullOrUndefined","handleSwitchRange","handleSegmentClick","clientRect","getBoundingClientRect","percent","clientX","closest","handleInputChange","l","handleInputKeyDown","leftInputProps","rightInputProps","getProps","override","tickValue","getTickProps","tickProps","tickStyles","getSegmentProps","handleValue","getHandleProps","ItemType","RatingMaxmiumExceededError","Error","toRatingArray","isHalf","round","floor","Filled","HalfFilled","Empty","useRatingItemStyles","half","flipped","firstHalf","secondHalf","RatingItem","character","characterNode","Rating","IconSmallStar","direction","unit","activeHalfRatingItemClassName","activeRatingItemClassName","ratingItemClassName","isNaN","arr","ResizeObserver","onResize","SelectContextProvider","useSelectContext","getToggleButtonProps","selectedItems","autofocus","buttonStyles","find","JSON","stringify","useOptionStyles","fontSizeStyles","option","Option","idx","findIndex","optionStyles","optionClassName","IconSmallCheck","useCoreDropdownStyles","dropdownStyles","useSelectStyles","Select","multiple","selectStyles","actionAndChanges","useSelect","MenuKeyDownEnter","MenuKeyDownSpaceButton","out","optionProps","mapValues","setSelectedItems","setSelected","first","initialHighlightedIndex","onSelectedItemChange","selectedValue","renderInputs","Spinner","SSRProvider","colors","bg","colorKeys","SwatchContextProvider","useSwatchContext","useColorStyles","border","borderRadiusStyles","iconCheck","StyledLabel","textColor","FunctionalColor","ColorClass","darken","string","isLight","lightness","checkedClassName","toggle","toggleState","useToggleState","useSwitch","colorStyles","IconCheck","setState","White","overridingProps","Silver","Black","Pink","Magenta","Red","Beige","Orange","Brown","Yellow","Green","Azure","Aqua","Teal","Turquoise","Blue","ElectricBlue","Lilac","Purple","Violet","Swatch","checkedColors","colorCheckedClassName","colorClassName","c","TabContextProvider","useTabContext","useTabStyles","fitted","Tab","selectedClassName","useTabListStyles","innerContainer","TabList","selectedIndex","manualIndex","onManualTabChange","manual","onChangeTab","onFocusPanel","allNodes","focusableIndexes","enabledSelectedIndex","indexOf","updateIndex","childIndex","handleKeyDown","preventDefault","nextIndex","handleClick","node","TabPanel","selectedPanelRef","alwaysRenderChildren","assignRef","TabPanels","Tabs","controlledIndex","defaultIndex","getInitialIndex","setSelectedIndex","getActualIdx","setManualIndex","actualIdx","manualIdx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAA+CC,GAA/C;kBAC6BD,MAAxCE;MAAIC,8BAAO;MAAOC,WAAsBJ,MAAtBI;MAAaC,qCAASL;;AAEhD,SACEM,eAAC,IAAD;AAAM,IAAA,GAAG,EAAEL;AAAX,KAAoBM,yBAAW,CAACF,IAAD,CAA/B;AAAA,cACGD;AADH,KADF;AAKD,CARD;;AAUA,IAAMI,GAAG,gBAAGC,8BAAgB,CAA2BV,YAA3B,CAA5B;;SCZgBW,qBAAqBV;MAC3BW,QAAUX,MAAVW;AACR,MAAMC,MAAM,GAAyB,EAArC;;AAEA,MAAI,CAACD,KAAL,EAAY;AACV,wBAAOE,QAAG,CAACD,MAAD,y3BAAV;AACD;;AAEDA,EAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAG6CH,KAH7C,SAIE,0EAJF;AAOA,sBAAOE,QAAG,CAACD,MAAD,y3BAAV;AACD;;ACZD,IAAMG,SAAS,GAAG,SAAZA,SAAY,CAACf,KAAD,EAAuDC,GAAvD;kBAC4FD,MAApGE;MAAAA,4BAAK;qBAA+FF,MAAxFW;MAAAA,kCAAQ,KAAK;MAAGP,WAAwEJ,MAAxEI;8BAAwEJ,MAA9DgB;MAAAA,0DAAuB;MAAeC,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;AAC5G,MAAIkB,KAAJ;;AAEA,MAAId,QAAJ,EAAc;AACZc,IAAAA,KAAK,GAAGC,cAAQ,CAACC,IAAT,CAAchB,QAAd,CAAR;;AAEA,QAAI,eAACiB,oBAAc,CAACH,KAAD,CAAnB,EAA4B;AAC1B,aAAO,IAAP;AACD;AACF;;AAED,MAAMN,MAAM,GAAGU,6BAAe,CAAC;AAAEC,IAAAA,SAAS,EAAEb,oBAAoB,cAAMV,KAAN;AAAaW,MAAAA,KAAK,EAALA;AAAb;AAAjC,GAAD,EAA2DK,oBAA3D,CAA9B;AAEA,SACEV,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,EAAE,EAAEC;AAAnB,KAA2BG,IAA3B;AAAiC,IAAA,GAAG,oBAAE,CAACO,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,i/CAApC;AAAA,cACGC,KAAK,gBAAGM,kBAAY,CAACN,KAAD,CAAf,GAAyB;AADjC,KADF;AAKD,CAnBD;;AAqBA,IAAMO,WAAW,gBAAGhB,8BAAgB,CAAmCM,SAAnC,CAApC;;SCrBwBW,gBAAgB1B;MAC9B2B,UAAY3B,MAAZ2B;AACR,MAAMf,MAAM,GAAc,EAA1B;;AAEA,UAAQe,OAAR;AACE,SAAK,MAAL;AACEf,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AACF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AACF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AACF,SAAK,MAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AACF;AACA,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;AAhBJ;;AAmBA,sBAAOD,QAAG,CAACD,MAAD,ivCAAV;AACD;;SC1BegB,sBAAsBC;MAC5BC,cAAgBD,OAAhBC;AACR,MAAMC,KAAK,GAAGC,sBAAQ,EAAtB;AAEA,MAAMpB,MAAM,GAAGqB,mCAAqB,CAAC;AACnCC,IAAAA,IAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD6B;AAInCC,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJ4B,GAAD,CAApC;;AAOA,MAAIL,WAAJ,EAAiB;AACflB,IAAAA,MAAM,CAACsB,IAAP,CAAYpB,IAAZ,aAA2BiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBC,IAA/C,sBAAoEP,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBE,MAAxF;AACA3B,IAAAA,MAAM,CAACuB,KAAP,CAAarB,IAAb,aAA4BiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBC,IAAhD;AACD,GAHD,MAGO;AACL1B,IAAAA,MAAM,CAACsB,IAAP,CAAYpB,IAAZ;AAAA;AAAA;AAAA;AACD;;AAED,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;SCnBe6B;wBAAoBC;MAAAA,gCAAQ;AAC1C,MAAM9B,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAET,CAACmB,KAAD;AAAA;AAAA,UAFS,CADE;AAKbC,IAAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALI;AAMbC,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANM;AAObC,IAAAA,MAAM,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPK;AAUbC,IAAAA,UAAU,EAAE;AAAA;AAAA;AAAA,MAVC;AAWbC,IAAAA,WAAW,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXA;AAYbC,IAAAA,UAAU,EAAE;AAAA;AAAA;AAAA,MAZC;AAabC,IAAAA,aAAa,EAAE;AAAA;AAAA;AAAA,MAbF;AAcbC,IAAAA,SAAS,EAAE;AAAA;AAAA;AAdE,GAAf;AAiBA,SAAOV,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;SCxBuBuC;AACtB,MAAMC,WAAW,GAAGC,YAAM,CAAC,IAAD,CAA1B;AAEAC,EAAAA,eAAS,CAAC;AACR,QAAIF,WAAW,CAACG,OAAhB,EAAyB;AACvBH,MAAAA,WAAW,CAACG,OAAZ,GAAsB,KAAtB;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,SAAOH,WAAW,CAACG,OAAnB;AACD;;SCAuBC,cAAcxD;AACpC,MAAM+B,KAAK,GAAGC,sBAAQ,EAAtB;;aACgGhC,gBAAAA,QAAS;0BAAjGyD;MAAAA,oCAAU;MAAMC,gBAAAA;MAAUC,eAAAA;0BAAShC;MAAAA,oCAAU;wBAAMS;MAAAA,gCAAQL,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB;;AACvF,MAAMhD,MAAM,GAAyB,EAArC;;AAEA,MAAI6C,OAAJ,EAAa;AACX,QAAII,WAAW,GAAGzB,KAAlB;;AAEA,QAAIsB,QAAJ,EAAc;AACZG,MAAAA,WAAW,GAAG,UAAyBC,QAAzB,EAAd;AACD,KAFD,MAEO,IAAIH,OAAJ,EAAa;AAClBE,MAAAA,WAAW,GAAG,UAAwBC,QAAxB,EAAd;AACD;;AAED,QAAIC,YAAJ;;AAEA,YAAQpC,OAAR;AACE,WAAK,IAAL;AACEoC,QAAAA,YAAY;AAAA;AAAA;AAAA;AAAA,SAAZ;AACA;;AACF,WAAK,IAAL;AACEA,QAAAA,YAAY;AAAA;AAAA;AAAA;AAAA,SAAZ;AACA;;AACF,WAAK,MAAL;AACEA,QAAAA,YAAY;AAAA;AAAA;AAAA;AAAA,SAAZ;AACA;;AACF,WAAK,MAAL;AACEA,QAAAA,YAAY;AAAA;AAAA;AAAA;AAAA,SAAZ;AACA;;AACF,WAAK,IAAL;AACA;AACEA,QAAAA,YAAY;AAAA;AAAA;AAAA;AAAA,SAAZ;AAfJ;;AAkBAnD,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qGAKsB,IAAIkD,UAAJ,CAAUH,WAAV,CALtB,mBAOEE,YAPF;AAAA;AAAA;AAAA;AAUD;;AAED,SAAOnD,MAAP;AACD;;SCrDuBqD,mBAAmBjE;sBACFkE,kBAAY;MAA3CC,+BAAAA;MAAgBC,2BAAAA;;AACxB,SAAO;AAAEC,IAAAA,eAAe,EAAEb,aAAa;AAAGC,MAAAA,OAAO,EAAEU;AAAZ,OAA+BnE,KAA/B,EAAhC;AAAyEoE,IAAAA,UAAU,EAAVA;AAAzE,GAAP;AACD;;SCAuBE,YAAYtE;MAC1BuE,OAASvE,MAATuE;AACR,MAAM3D,MAAM,GAAc,EAA1B;;AAEA,UAAQ2D,IAAR;AACE,SAAK,IAAL;AACE3D,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,KAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,KAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,KAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,MAAL;AACA,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;AAhCJ;;AAsCA,sBAAOD,QAAG,CAACD,MAAD,qlDAAV;AACD;;SCpCuB4D,eAAexE;MAC7B0D,WAA2D1D,MAA3D0D;MAAUe,gBAAiDzE,MAAjDyE;MAAed,UAAkC3D,MAAlC2D;MAASe,WAAyB1E,MAAzB0E;MAAUH,OAAevE,MAAfuE;MAAMI,OAAS3E,MAAT2E;;4BAClBV,kBAAkB,CAAC;AACzDP,IAAAA,QAAQ,EAARA,QADyD;AAEzDC,IAAAA,OAAO,EAAPA,OAFyD;AAGzDhC,IAAAA,OAAO,EAAEgD,IAAI,KAAK,OAAT,GAAmB,MAAnB,GAA4BC;AAHoB,GAAD;MAAlDP,sCAAAA;MAAiBD,iCAAAA;;AAKzB,MAAMrC,KAAK,GAAGC,sBAAQ,EAAtB;AACA,MAAM6C,IAAI,GAAGC,kBAAkB,CAAC,IAAId,UAAJ,CAAUjC,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBC,IAA9B,EAAoCyC,GAApC,EAAD,CAA/B;AACA,MAAMnE,MAAM,GAAyB,EAArC;AAEAA,EAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,MAAI,CAAC,CAAC,OAAD,EAAU,UAAV,EAAsBkE,QAAtB,CAA+BL,IAA/B,CAAL,EAA2C;AACzC,YAAQJ,IAAR;AACE,WAAK,IAAL;AACE3D,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEF,WAAK,IAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEF;AACA,WAAK,IAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAZJ;AAcD;;AAGDF,EAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,MAAI4C,QAAQ,IAAIgB,QAAhB,EAA0B;AACxB9D,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AAED,MAAI4C,QAAJ,EAAc;AACZ9C,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,QAAI,CAAC,OAAD,EAAU,UAAV,EAAsBkE,QAAtB,CAA+BL,IAA/B,CAAJ,EAA0C;AACxC/D,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AAED,MAAI6C,OAAJ,EAAa;AACX/C,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,QAAI,CAAC,OAAD,EAAU,UAAV,EAAsBkE,QAAtB,CAA+BL,IAA/B,CAAJ,EAA0C;AACxC/D,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AAED,MAAI,CAAC,OAAD,EAAU,UAAV,EAAsBkE,QAAtB,CAA+BL,IAA/B,CAAJ,EAA0C;AACxC/D,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAsFiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA1G;;AAEA,QAAIe,IAAI,KAAK,UAAb,EAAyB;AACvB,UAAIF,aAAJ,EAAmB;AACjB7D,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA,kCAAyDiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA7E;AACD,OAFD,MAEO;AACLhD,QAAAA,MAAM,CAACE,IAAP,uFAE6D+D,IAF7D;AAKD;AACF,KAVD,MAUO;AACLjE,MAAAA,MAAM,CAACE,IAAP,yGAEiF+D,IAFjF;AAKD;AACF;;AAED,MAAIF,IAAI,KAAK,QAAb,EAAuB;AACrB/D,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,SAAO;AAAEF,IAAAA,MAAM,eAAEC,QAAG,CAACD,MAAD,08JAAb;AAAuByD,IAAAA,eAAe,EAAfA,eAAvB;AAAwCD,IAAAA,UAAU,EAAVA;AAAxC,GAAP;AACD;;SC1FuBa;MAAoBC,aAAAA;AAC1C,MAAMtE,MAAM,GAAc,EAA1B;;AAEA,UAAQsE,KAAR;AACE,SAAK,MAAL;AACEtE,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF,SAAK,QAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;;AAEF;AACA,SAAK,OAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACA;AAZJ;;AAeA,sBAAOD,QAAG,CAACD,MAAD,i/BAAV;AACD;;SClBuBuE;0BAAaC;MAAAA,oCAAU;yBAAKC;MAAAA,kCAAS;AAC3D,MAAMzE,MAAM,GAAc,EAA1B;;AAEA,MAAIyE,MAAJ,EAAY;AACV,YAAQD,OAAR;AACE,WAAK,GAAL;AACExE,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAxBJ;AA4BD,GA7BD,MA6BO;AACL,YAAQsE,OAAR;AACE,WAAK,GAAL;AACExE,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACF,WAAK,GAAL;AACEF,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAxBJ;AA4BD;;AAED,sBAAOD,QAAG,CAACD,MAAD,y6FAAV;AACD;;SCpEuB0E,cAAcC;kBACFC,cAAQ,CAA2B,KAA3B;MAAnCC;MAAWC;;mBACUF,cAAQ,CAAC,KAAD;MAA7BjD;MAAQoD;;mBACaH,cAAQ,CAAC,EAAD;MAA7BI;MAAQC;;AACf,MAAMC,cAAc,GAAGzC,YAAM,EAA7B;AAEAC,EAAAA,eAAS,CAAC;AACR,QAAIyC,mBAAK,EAAT,EAAa;AACX;AACD;;AAED,QAAIC,MAAM,CAACC,cAAP,CAAsB,mBAAtB,CAAJ,EAAgD;AAC9CP,MAAAA,YAAY,CAAC,QAAD,CAAZ;AACD,KAFD,MAEO,IAAIM,MAAM,CAACC,cAAP,CAAsB,yBAAtB,CAAJ,EAAsD;AAC3DP,MAAAA,YAAY,CAAC,QAAD,CAAZ;AACD;AACF,GAVQ,EAUN,EAVM,CAAT;AAYApC,EAAAA,eAAS,CAAC;AACR,QAAImC,SAAJ,EAAe;AACb,UAAIA,SAAS,KAAK,QAAlB,EAA4B;AAC1BK,QAAAA,cAAc,CAACvC,OAAf,GAAyB,IAAIyC,MAAM,CAACE,iBAAX,EAAzB;AACD,OAFD,MAEO;AAELJ,QAAAA,cAAc,CAACvC,OAAf,GAAyB,IAAKyC,MAAc,CAACG,uBAApB,EAAzB;AACD;AACF;AACF,GATQ,EASN,CAACV,SAAD,CATM,CAAT;AAWA,MAAMW,KAAK,GAAGC,iBAAW,CAAC;AACxB,QAAI,CAACZ,SAAD,IAAc,CAACK,cAAc,CAACvC,OAAlC,EAA2C;AACzC;AACD;;AAED,QAAM+C,WAAW,GAAGR,cAAc,CAACvC,OAAnC;;AAEA,QAAIhB,MAAJ,EAAY;AACVoD,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAW,MAAAA,WAAW,CAACC,IAAZ;AACA;AACD;;AAEDD,IAAAA,WAAW,CAACE,UAAZ,GAAyB,KAAzB;AACAF,IAAAA,WAAW,CAACG,cAAZ,GAA6B,KAA7B;AACAH,IAAAA,WAAW,CAACF,KAAZ;;AAEAE,IAAAA,WAAW,CAACI,QAAZ,GAAuB,UAACC,KAAD;AACrBhB,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAW,MAAAA,WAAW,CAACC,IAAZ;AACA,UAAMK,CAAC,GAAGD,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoBC,UAA9B;AACAjB,MAAAA,SAAS,CAACe,CAAD,CAAT;AACArB,MAAAA,QAAQ,QAAR,YAAAA,QAAQ,CAAGqB,CAAH,CAAR;AACD,KAND;;AAQAN,IAAAA,WAAW,CAACS,OAAZ,GAAsB;AACpBpB,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAW,MAAAA,WAAW,CAACC,IAAZ;AACD,KAHD;;AAKAZ,IAAAA,SAAS,CAAC,IAAD,CAAT;AACD,GA/BwB,EA+BtB,CAACpD,MAAD,EAASkD,SAAT,EAAoBF,QAApB,CA/BsB,CAAzB;AAiCA,SAAO;AACLE,IAAAA,SAAS,EAAEA,SAAS,KAAK,KADpB;AAELG,IAAAA,MAAM,EAANA,MAFK;AAGLrD,IAAAA,MAAM,EAANA,MAHK;AAIL6D,IAAAA,KAAK,EAALA;AAJK,GAAP;AAMD;;AC7DD,IAAMY,eAAe,GAAG,SAAlBA,eAAkB,CAAChH,KAAD;MACduE,OAAuFvE,MAAvFuE;MAAM0C,YAAiFjH,MAAjFiH;MAAWC,aAAsElH,MAAtEkH;MAAY9B,UAA0DpF,MAA1DoF;MAAS1B,WAAiD1D,MAAjD0D;MAAUyD,UAAuCnH,MAAvCmH;MAASC,UAA8BpH,MAA9BoH;MAASC,UAAqBrH,MAArBqH;MAASC,UAAYtH,MAAZsH;AACnF,MAAMvF,KAAK,GAAGC,sBAAQ,EAAtB;AACA,MAAMuF,MAAM,GAAI,CAAC,MAAD,EAAS,aAAT,EAA4DvC,QAA5D,CAAqEkC,UAArE,CAAhB;AACA,MAAMtG,MAAM,GAAyB,EAArC;;4BACwDqD,kBAAkB;MAAtDuD,qCAAZpD;MAA4BC,sCAAAA;;AACpC,MAAMoD,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD;AAAA,WAAyB;AAAE9G,MAAAA,MAAM,EAAE,cAACC,QAAG,CAAC6G,GAAD,8nOAAJ,EAAWrD,eAAX,CAAV;AAAuCmD,MAAAA,cAAc,EAAdA;AAAvC,KAAzB;AAAA,GAArB;;AAEA5G,EAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,MAAI,CAACyG,MAAL,EAAa;AACX3G,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AACD;;AAEDF,EAAAA,MAAM,CAACE,IAAP,CAAYmG,SAAS;AAAA;AAAA;AAAA;AAAA,GAArB;;AAEA,UAAQ1C,IAAR;AACE,SAAK,IAAL;AACE,UAAI,CAACgD,MAAL,EAAa;AACX3G,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AACD,UAAIsE,OAAO,KAAK,MAAhB,EAAwB;AACtB,YAAIA,OAAO,KAAK,SAAhB,EAA2B;AACzBxE,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AACD;;AAEF,SAAK,IAAL;AACE,UAAI,CAACyG,MAAL,EAAa;AACX3G,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AACD,UAAIsE,OAAO,KAAK,MAAhB,EAAwB;AACtB,YAAIA,OAAO,KAAK,SAAhB,EAA2B;AACzBxE,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AACD;;AAEF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;;AAEA,UAAIsE,OAAO,KAAK,MAAhB,EAAwB;AACtB,YAAIA,OAAO,KAAK,SAAhB,EAA2B;AACzBxE,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AACD;;AAEF,SAAK,IAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;;AAEA,UAAIsE,OAAO,KAAK,MAAhB,EAAwB;AACtB,YAAIA,OAAO,KAAK,SAAhB,EAA2B;AACzBxE,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AACD;;AAEF;AACA,SAAK,IAAL;AACE,UAAI,CAACyG,MAAL,EAAa;AACX3G,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AACD,UAAIsE,OAAO,KAAK,MAAhB,EAAwB;AACtB,YAAIA,OAAO,KAAK,SAAhB,EAA2B;AACzBxE,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD,SAFD,MAEO;AACLF,UAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;AACF;;AACD;AA/DJ;;AAkEA,MAAI4C,QAAJ,EAAc;AACZ9C,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;;AAEA,YAAQoG,UAAR;AACE,WAAK,SAAL;AACA,WAAK,WAAL;AACEtG,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJJ;;AAUA,WAAO2G,YAAY,CAAC7G,MAAD,CAAnB;AACD;;AAED,MAAIwE,OAAO,KAAK,MAAhB,EAAwB;AACtBxE,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AAED,UAAQoG,UAAR;AAEE,SAAK,SAAL;AACEtG,MAAAA,MAAM,CAACE,IAAP,aAAsBiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBC,IAA1C;;AAEA,UAAI+E,OAAO,IAAID,OAAf,EAAwB;AACtBxG,QAAAA,MAAM,CAACE,IAAP,kBAA2BiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBE,MAA/C;AACD,OAFD,MAEO,IAAI+E,OAAJ,EAAa;AAClB1G,QAAAA,MAAM,CAACE,IAAP,kBAA2BiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBE,MAA/C;AACD,OAFM,MAEA;AACL3B,QAAAA,MAAM,CAACE,IAAP,kBAA2BiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA/C;AACD;;AACD;;AAEF,SAAK,SAAL;AACA,SAAK,WAAL;AACEhD,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEEoG,UAAU,KAAK,WAAf,eAAuCnF,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA3D;AAAA;AAAA;AAAA,OAFF;;AAKA,UAAIwD,OAAJ,EAAa;AACXxG,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AACD;;AACD;;AAEF,SAAK,MAAL;AACEF,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiG;AAC/FsB,QAAAA,KAAK,EAAEgF,OAAO,GAAGrF,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBE,MAAvB,GAAgCR,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB;AAD6B,OAAjG;;AAIA,UAAI,CAACuD,OAAD,IAAY,CAACC,OAAjB,EAA0B;AACxBxG,QAAAA,MAAM,CAACE,IAAP,gCAAyCiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBE,MAA7D;AACD;;AACD;;AAEF,SAAK,aAAL;AACE3B,MAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEEsG,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFT;;AAKA,UAAI,CAACD,OAAD,IAAY,CAACC,OAAjB,EAA0B;AACxBxG,QAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;;AACD;AA7CJ;;AAmDA,SAAO2G,YAAY,CAAC7G,MAAD,CAAnB;AACD,CA5JD;;ACFA,IAAM+G,MAAM,gBAAGC,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAqBC,GAArB;;;uBAiB1BD,MAdFmH;MAAAA,sCAAU;kBAcRnH,MAbFE;MAAAA,4BAAK;0BAaHF,MAZFkH;MAAAA,4CAAa;oBAYXlH,MAXFuE;MAAAA,gCAAO;uBAWLvE,MAVFoF;MAAAA,sCAAU;MACV1B,WASE1D,MATF0D;yBASE1D,MARFiH;MAAAA,0CAAY;MACZa,UAOE9H,MAPF8H;MACA1H,WAMEJ,MANFI;MACA2H,YAKE/H,MALF+H;MACQC,cAINhI,MAJFY;8BAIEZ,MAHFiI;MAAAA,sDAAmB;8BAGjBjI,MAFFgB;MAAAA,0DAAuB;MACpBX,qCACDL;;wBAE0B4H,cAAK,CAACpC,QAAN,CAAe,KAAf;MAAvB6B;MAASa;;AAChB,MAAMC,SAAS,GAAG9E,YAAM,CAAqB,IAArB,CAAxB;AACA,MAAM+E,MAAM,GAAGC,uBAAS,CAACF,SAAD,EAAYlI,GAAZ,CAAxB;;mBAE4CqI,gBAAS,cAC9CjI,IAD8C;AACxCkI,IAAAA,UAAU,EAAE7E,QAD4B;AAClB8E,IAAAA,WAAW,EAAEtI,EADK;AACDuI,IAAAA,OAAO,EAAEX;AADR,MAEnDK,SAFmD;MAA7CO,yBAAAA;MAAwBtB,qBAAXuB;;kBAIsBC,qBAAQ,CAAC;AAClDL,IAAAA,UAAU,EAAE7E;AADsC,GAAD;MAA3CmF,uBAAAA;MAAuBvB,oBAAXwB;;kBAGGC,qBAAQ,CAAC;AAC9BR,IAAAA,UAAU,EAAE7E,QADkB;AAE9BsF,IAAAA,OAAO,EAAE;AAAA,aAAMd,UAAU,CAAC,IAAD,CAAhB;AAAA,KAFqB;AAG9Be,IAAAA,MAAM,EAAE;AAAA,aAAMf,UAAU,CAAC,KAAD,CAAhB;AAAA;AAHsB,GAAD;MAAvB9D,uBAAAA;;yBAM4C4C,eAAe,CAAC;AAClEI,IAAAA,OAAO,EAAPA,OADkE;AAElEF,IAAAA,UAAU,EAAVA,UAFkE;AAGlExD,IAAAA,QAAQ,EAARA,QAHkE;AAIlEuD,IAAAA,SAAS,EAATA,SAJkE;AAKlEE,IAAAA,OAAO,EAAPA,OALkE;AAMlE5C,IAAAA,IAAI,EAAJA,IANkE;AAOlEa,IAAAA,OAAO,EAAPA,OAPkE;AAQlEiC,IAAAA,OAAO,EAAPA,OARkE;AASlEC,IAAAA,OAAO,EAAPA;AATkE,GAAD;MAAnD4B,mCAARtI;MAAyB4G,kCAAAA;;AAYjC,MAAM2B,WAAW,GAAGC,gBAAU,CAACV,WAAD,EAActE,UAAd,EAA0ByE,UAA1B,EAAsCrB,cAAtC,CAA9B;AACA,MAAM5G,MAAM,GAAGU,6BAAe,CAAC;AAAEC,IAAAA,SAAS,EAAE2H;AAAb,GAAD,EAAiClI,oBAAjC,CAA9B;AAEA,SACEV,eAAC,GAAD;AACE,IAAA,EAAE,EAAEJ,EADN;AAEE,IAAA,GAAG,EAAEkI;AAFP,KAGMe,WAHN;AAIE,IAAA,GAAG,oBAAE,CAACvI,MAAM,CAACW,SAAR,EAAmByG,WAAnB,CAAF,02FAJL;AAKE,IAAA,SAAS,EAAEqB,UAAU,CAACtB,SAAD,iCAClBE,gBADkB,IACCb,OADD,eALvB;AAAA,cASGhH;AATH,KADF;AAaD,CAhEc,CAAf;;SCLgBkJ;MAAuBC,gBAAAA;MAAUlE,cAAAA;AAC/C,MAAMzE,MAAM,GAAG;AAAA;AAAA,KAAkB,CAAC2I,QAAD;AAAA;AAAA,MAA+B3E,SAAjD,CAAf;AAEAhE,EAAAA,MAAM,CAACE,IAAP,CAAYuE,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAEA,MAAIkE,QAAJ,EAAc;AACZ3I,IAAAA,MAAM,CAACE,IAAP,CAAYuE,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAlB;AACD;;AAED,sBAAOxE,QAAG,CAACD,MAAD,y0BAAV;AACD;;ACJD,IAAM4I,SAAS,uCAAehJ,GAAZ;AAAmBiJ,EAAAA,iBAAiB,EAAE,2BAACC,IAAD;AAAA,WAAUA,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,QAA1C;AAAA,GAAtC;AAAA;AAAA;AAAA,EAAH,+BAKP,UAAC1J,KAAD;AAAA,SACAA,KAAK,CAACuJ,QAAN,GACIvJ,KAAK,CAACqF,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ,KADA;AAAA,CALO,qBAcP,UAACrF,KAAD;AAAA,SACAA,KAAK,CAACuJ,QAAN,GACIvJ,KAAK,CAACqF,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ,KADA;AAAA,CAdO,+CAuBP,UAACrF,KAAD;AAAA,SAAYA,KAAK,CAACuJ,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA,QAAZ;AAAA,CAvBO,u9FAAf;;AA8BA,IAAMI,WAAW,gBAAG/B,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAA0BC,GAA1B;wBAU/BD,MARFuJ;MAAAA,wCAAW;MACXtC,YAOEjH,MAPFiH;sBAOEjH,MANFqF;MAAAA,oCAAS;MACTjF,WAKEJ,MALFI;kBAKEJ,MAJFE;MAAAA,4BAAK;8BAIHF,MAHFgB;MAAAA,0DAAuB;MACfC,aAENjB,MAFFY;MACGP,qCACDL;;AACJ,MAAMY,MAAM,GAAGU,6BAAe,CAAC;AAAEC,IAAAA,SAAS,EAAE+H,oBAAoB,CAAC;AAAEC,MAAAA,QAAQ,EAARA,QAAF;AAAYlE,MAAAA,MAAM,EAANA;AAAZ,KAAD;AAAjC,GAAD,EAA4DrE,oBAA5D,CAA9B;AACA,MAAM4I,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AAGA,MAAM0J,MAAM,GAAGF,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD;AAAA,wBAC/BM,kBAAY,CAACN,KAAD;AACV+F,MAAAA,SAAS,EAATA,SADU;AAEVjG,MAAAA,oBAAoB,EAApBA;AAFU,OAGPE,KAAK,CAAClB,KAHC,EADmB;AAAA,GAAlB,CAAf;;AAQA,MAAIgB,oBAAJ,EAA0B;AACxB,WACEV,eAAC,GAAD;AAAK,MAAA,EAAE,EAAEJ,EAAT;AAAa,MAAA,GAAG,EAAED,GAAlB;AAAuB,MAAA,GAAG,EAAEgB;AAA5B,OAA4CZ,IAA5C;AAAA,gBACGyJ;AADH,OADF;AAKD;;AAED,SACExJ,eAAC,SAAD;AAAW,IAAA,QAAQ,EAAEiJ,QAArB;AAA+B,IAAA,MAAM,EAAElE,MAAvC;AAA+C,IAAA,EAAE,EAAEnF,EAAnD;AAAuD,IAAA,GAAG,EAAED,GAA5D;AAAiE,IAAA,GAAG,oBAAE,CAACW,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAApE,KAA0GZ,IAA1G;AAAA,cACGyJ;AADH,KADF;AAKD,CApCmB,CAApB;;AAsCA,IAAIE,qBAAJ,EAAa;AACXL,EAAAA,WAAW,CAACM,WAAZ,GAA0B,aAA1B;AACD;;SC5EuBC;MAAiBC,sBAAAA;MAAgB5F,YAAAA;AACvD,MAAM3D,MAAM,GAAGqB,mCAAqB,CAAC;AACnCV,IAAAA,SAAS,EAAE;AADwB,GAAD,CAApC;;AAIA,MAAI4I,cAAJ,EAAoB;AAClBvJ,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GAFD,MAEO;AACL,QAAMsJ,UAAU,GAAG9F,WAAW,CAAC;AAAEC,MAAAA,IAAI,EAAJA;AAAF,KAAD,CAA9B;AACA3D,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuEsJ,UAAvE;AACD;;AAED,SAAO5H,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACVD,IAAMyJ,KAAK,gBAAGzC,gBAAA,CAAiB,UAAC5H,KAAD,EAAoBC,GAApB;8BACyDD,MAA9EgB;MAAAA,0DAAuB;MAAOmJ,iBAAgDnK,MAAhDmK;MAAwBlJ,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;AACtF,MAAMY,MAAM,GAAGU,6BAAe,CAAC4I,cAAc,CAAClK,KAAD,CAAf,EAAwBgB,oBAAoB,IAAI,CAACmJ,cAAjD,CAA9B;AAEA,SAAO7J,eAAC,GAAD;AAAK,IAAA,EAAE,EAAC;AAAR,KAAoBD,IAApB;AAA0B,IAAA,GAAG,EAAEJ,GAA/B;AAAoC,IAAA,GAAG,oBAAE,CAACW,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAvC,KAAP;AACD,CALa,CAAd;;AAOA,IAAI+I,qBAAJ,EAAa;AACXK,EAAAA,KAAK,CAACJ,WAAN,GAAoB,OAApB;AACD;;SCZeK,kBAAkBtK;AAChC,MAAM+B,KAAK,GAAGC,sBAAQ,EAAtB;uBAC6DhC,MAArD2D;MAAAA,sCAAU;6BAA2C3D,MAApCyE;MAAAA,kDAAgB;MAAO8F,WAAavK,MAAbuK;AAChD,MAAMH,UAAU,GAAG9F,WAAW,CAAC;AAAEC,IAAAA,IAAI,EAAEgG;AAAR,GAAD,CAA9B;;wBAE6D/F,cAAc;AACzEG,IAAAA,IAAI,EAAE,UADmE;AAEzEF,IAAAA,aAAa,EAAbA;AAFyE,KAGtEzE,KAHsE;MAA3DwK,8BAAR5J;MAAqByD,kCAAAA;MAAiBD,6BAAAA;;AAM9C,MAAMxD,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,MADE;AAEbkJ,IAAAA,gBAAgB,EAAE;AAAA;AAAA;AAAA;AAAA,MAFL;AAGbC,IAAAA,YAAY,EAAE;AAAA;AAAA;AAAA,OAAoBrG,eAApB,CAHD;AAIblC,IAAAA,KAAK,EAAE;AAAA;AAAA,OAAWiI,UAAX,CAJM;AAKb3F,IAAAA,aAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF;AAMbkG,IAAAA,kBAAkB,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC;AAAEC,MAAAA,eAAe,EAAE7I,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBC;AAAvC,KAApC,CANP;AAObuI,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBL,WAApB;AAPM,GAAf;;AAUA,MAAI7G,OAAJ,EAAa;AACX/C,IAAAA,MAAM,CAACuB,KAAP,CAAarB,IAAb;AAAA;AAAA;AAAA;AACD;;AAED,SAAO;AAAEF,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;ACvBD,IAAM0G,QAAQ,gBAAGlD,gBAAA,CAAiB,UAAC5H,KAAD,EAAuBC,GAAvB;;;kBAqB5BD,MAnBF+K;MAAAA,0CAAiBC,WAAK;MACtBC,OAkBEjL,MAlBFiL;MACAC,QAiBElL,MAjBFkL;MACAC,iBAgBEnL,MAhBFmL;MACAC,UAeEpL,MAfFoL;MACA3G,gBAcEzE,MAdFyE;MACAf,WAaE1D,MAbF0D;MACAC,UAYE3D,MAZF2D;MACAe,WAWE1E,MAXF0E;MACA2G,WAUErL,MAVFqL;MACApC,SASEjJ,MATFiJ;MACAD,UAQEhJ,MARFgJ;MACcsC,YAOZtL,MAPF;MACmBuL,iBAMjBvL,MANF;MACAI,WAKEJ,MALFI;MACAoL,iBAIExL,MAJFwL;MACQvK,aAGNjB,MAHFY;8BAGEZ,MAFFgB;MAAAA,0DAAuB;MACpBX,qCACDL;;wBAEwC4H,cAAA,CAAeuD,cAAf,WAAeA,cAAf,GAAiC,KAAjC;MAArCM;MAAgBC;;sBACS9D,YAAA,CAAa,OAAOwD,OAAP,KAAmB,WAAhC;MAAfO,2BAATpI;;AACR,MAAMqI,eAAe,WAAID,UAAU,GAAGP,OAAH,GAAaK,cAA3B,mBAA8C,KAAnE;;2BAC+CnB,iBAAiB,CAACtK,KAAD;MAAhD6L,oCAARjL;MAAwBwD,gCAAAA;;AAChC,MAAMxD,MAAM,GAAGU,6BAAe,CAACuK,cAAD,EAAiB7K,oBAAjB,CAA9B;;AAEA,MAAM8K,cAAc,GAAG,SAAjBA,cAAiB,CAACnF,KAAD;AACrB,QAAI,CAACgF,UAAL,EAAiB;AACfD,MAAAA,iBAAiB,CAAC/E,KAAK,CAACoF,MAAN,CAAaX,OAAd,CAAjB;AACD;;AACD,QAAIC,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC1E,KAAD,CAAR;AACD;AACF,GAPD;;AASA,MAAMqF,IAAI,GACRC,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAAC6J,gBAAR,EAA0B,CAACrK,QAAD,IAAaa,UAAvC,CAAF;AAAR,KAAmE,CAACb,QAAD,GAAYC,IAAZ,GAAmB,EAAtF;AAAA,yBAEE4L,gBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAErL,MAAM,CAAC8J,YAA3B;AAAA,iBACGjG,aAAa,IACZnE,eAAC,GAAD;AAAK,QAAA,GAAG,EAAEM,MAAM,CAAC6D,aAAjB;AAAA,kBACEnE,eAAC,GAAD;AAAK,UAAA,GAAG,EAAEM,MAAM,CAAC+J;AAAjB;AADF,QAFJ,EAMErK;AACE,QAAA,GAAG,EAAEL,GADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,EAAE,EAAE8K,EAHN;AAIE,QAAA,IAAI,EAAEE,IAJR;AAKE,QAAA,KAAK,EAAEC,KALT;AAME,QAAA,OAAO,EAAEU,eANX;AAOE,QAAA,QAAQ,EAAElI,QAPZ;AAQE,QAAA,QAAQ,EAAEgB,QARZ;AASE,QAAA,QAAQ,EAAEoH,cATZ;AAUE,QAAA,MAAM,EAAE7C,MAVV;AAWE,QAAA,OAAO,EAAED,OAXX;AAYE,wBAAcrF,OAZhB;AAaE,sBAAY2H,SAbd;AAcE,2BAAiBC,cAdnB;AAeE,wBAAcK,eAfhB;AAgBE,QAAA,GAAG,EAAEhL,MAAM,CAACiK;AAhBd,SAiBMzG,UAjBN,EANF;AAAA,MAFF;AAAA,KADF;;AAgCA,MAAI,CAAChE,QAAL,EAAe;AACb,WAAO4L,IAAP;AACD;;AAED,SACEC,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAR,KAA8CZ,IAA9C;AAAA,eACG2L,IADH,EAGE1L,eAAC,KAAD;AAAO,MAAA,OAAO,EAAEyK,EAAhB;AAAoB,MAAA,GAAG,EAAEnK,MAAM,CAACuB,KAAhC;AAAuC,MAAA,SAAS,EAAEqJ,cAAlD;AAAA,gBACGpL;AADH,MAHF;AAAA,KADF;AASD,CAnFgB,CAAjB;;AAqFA,IAAI4J,qBAAJ,EAAa;AACXc,EAAAA,QAAQ,CAACb,WAAT,GAAuB,UAAvB;AACD;;SC7FeiC,iBAAiBC;AAC/B,MAAI,CAACA,QAAL,EAAe;AACb;AACD;;AAED,MAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACrB;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,MAAIC,sBAAQ,CAACD,QAAD,CAAZ,EAAwB;AACtB,YAAQA,QAAR;AACE,WAAK,CAAL;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEF,WAAK,CAAL;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEF,WAAK,CAAL;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEF,WAAK,CAAL;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEF;AACE;AAdJ;AAgBD;;AAED;AACD;;SCnBuBE;MAAgBnM,UAAAA;MAAIiM,gBAAAA;MAAU5H,YAAAA;AACpD,MAAM6F,UAAU,GAAG9F,WAAW,CAAC;AAAEC,IAAAA,IAAI,EAAJA;AAAF,GAAD,CAA9B;AAEA,MAAM3D,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,OAAc2K,gBAAgB,CAACC,QAAD,CAA9B,EAA0C/B,UAA1C;AADE,GAAf;;AAIA,UAAQlK,EAAR;AACE,SAAK,OAAL;AACEU,MAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AACA;;AAEF,SAAK,KAAL;AACA,SAAK,MAAL;AACEF,MAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AAAA;AACA;;AAEF,SAAK,MAAL;AACEF,MAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAZJ;;AAkBA,MAAIZ,EAAE,KAAK,MAAX,EAAmB;AACjBU,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AACD;;AAED,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;AClCD,IAAM0L,aAAa,GAAG,SAAhBA,aAAgB,CAACtM,KAAD,EAAgDC,GAAhD;kBAC4ED,MAAxFE;MAAAA,4BAAK;MAAKiM,WAA8EnM,MAA9EmM;8BAA8EnM,MAApEgB;MAAAA,0DAAuB;MAAOuD,OAAsCvE,MAAtCuE;MAActD,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;AAChG,MAAMY,MAAM,GAAGU,6BAAe,CAAC+K,aAAa,CAAC;AAAEnM,IAAAA,EAAE,EAAFA,EAAF;AAAMiM,IAAAA,QAAQ,EAARA,QAAN;AAAgB5H,IAAAA,IAAI,EAAJA;AAAhB,GAAD,CAAd,EAAwCvD,oBAAxC,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,EAAE,EAAEC,EAAnB;AAAuB,IAAA,GAAG,oBAAE,CAACU,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAA1B,KAAgEZ,IAAhE,EAAP;AACD,CALD;;AAOA,IAAMkM,IAAI,gBAAG9L,8BAAgB,CAA4B6L,aAA5B,CAA7B;;SCVgBE,uBAAuBxM;MAC7BqF,SAAyCrF,MAAzCqF;uBAAyCrF,MAAjCoF;MAAAA,sCAAUC,MAAM,GAAG,GAAH,GAAS;AACzC,MAAMoH,aAAa,GAAGtH,UAAU,CAAC;AAAEC,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,MAAM,EAANA;AAAX,GAAD,CAAhC;AACA,MAAMzE,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA,OAAW8D,MAAM;AAAA;AAAA;AAAA;AAAA,KAAjB,EAAiDoH,aAAjD;AADE,GAAf;AAIA,SAAOjK,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;;;;;;;;;;ACFD,IAAM8L,aAAa,GAAG,SAAhBA,aAAgB,CAAC1M,KAAD;MAElBqL,WAUErL,MAVFqL;MACAJ,OASEjL,MATFiL;qBASEjL,MARFmC;MAAAA,kCAAQ8I;MACR0B,eAOE3M,MAPF2M;MACOC,YAML5M,MANFkL;MACA9K,WAKEJ,MALFI;MACQa,aAINjB,MAJFY;8BAIEZ,MAHFgB;MAAAA,0DAAuB;MACJuK,iBAEjBvL,MAFF;MACGK,qCACDL;;kBAEwBwF,cAAQ,CAACmH,YAAY,IAAI,EAAjB;MAA7BE;MAAQC;;gBACiBzJ,YAAM,CAAC,OAAOuJ,SAAP,KAAqB,WAAtB;MAArBjB,qBAATpI;;AACR,MAAMwJ,cAAc,GAAG,CAACpB,UAAU,GAAGiB,SAAH,GAAeC,MAA1B,KAAqC,EAA5D;AACA,MAAMjM,MAAM,GAAGU,6BAAe,CAACkL,sBAAsB,CAACxM,KAAD,CAAvB,EAAgCgB,oBAAhC,CAA9B;;AAEA,MAAM8K,cAAc,GAAG,SAAjBA,cAAiB,CAACnF,KAAD;wBACMA,KAAK,CAACoF;QAAzBX,wBAAAA;QAASF,sBAAAA;AACjB,QAAI8B,SAAJ;;AAEA,QAAI5B,OAAJ,EAAa;AACX4B,MAAAA,SAAS,aAAOD,cAAP,GAAuB7B,KAAvB,EAAT;AACD,KAFD,MAEO;AACL8B,MAAAA,SAAS,GAAGD,cAAc,CAACE,MAAf,CAAsB,UAACC,CAAD;AAAA,eAAOA,CAAC,KAAKhC,KAAb;AAAA,OAAtB,CAAZ;AACD;;AACD,QAAI,CAACS,UAAL,EAAiB;AACfmB,MAAAA,SAAS,CAACE,SAAD,CAAT;AACD;;AACD,QAAI3B,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC2B,SAAD,CAAR;AACD;AACF,GAfD;;AAkBA,MAAMG,YAAY,iBAAenC,WAAK,EAAtC;AACA,MAAMoC,YAAY,GAAGnC,IAAI,IAAIkC,YAA7B;AACA,MAAMvD,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AAEA,MAAM0J,MAAM,GAAGF,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD,EAAQmM,KAAR;AAC/B,QAAMjC,OAAO,GAAG2B,cAAc,CAAC/H,QAAf,CAAwB9D,KAAK,CAAClB,KAAN,CAAYkL,KAApC,CAAhB;AAGA,wBAAO1J,kBAAY,CAACN,KAAD,EAAQ;AACzBoM,MAAAA,GAAG,EAAKF,YAAL,SAAqBC,KADC;AAEzBpC,MAAAA,IAAI,EAAKmC,YAAL,SAAqBC,KAFA;AAGzBhC,MAAAA,QAAQ,EAAES,cAHe;AAIzBV,MAAAA,OAAO,EAAPA,OAJyB;AAKzBpK,MAAAA,oBAAoB,EAApBA;AALyB,KAAR,CAAnB;AAOD,GAXc,CAAf;AAaA,MAAMuM,OAAO,oBAAkBvC,WAAK,EAApC;AAEA,SACEiB,gBAAC,GAAD,eAAS5L,IAAT;AAAe,IAAA,IAAI,EAAC,OAApB;AAA4B,uBAAiBkL,cAAjB,WAAiBA,cAAjB,GAAmCgC,OAA/D;AAAwE,IAAA,GAAG,oBAAE,CAAC3M,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,qvGAA3E;AAAA,eACGkB,KAAK,IAAI,CAACoJ,cAAV,IACCjL,eAAC,IAAD;AAAM,MAAA,EAAE,EAAEiN,OAAV;AAAmB,MAAA,GAAG,MAAtB;AAAA,gBACGpL;AADH,MAFJ,EAOG2H,MAPH;AAAA,KADF;AAWD,CAnED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SCPwB0D;AACtB,MAAMzL,KAAK,GAAGC,sBAAQ,EAAtB;;4BACwDiC,kBAAkB;MAAlEI,sCAAAA;MAA6BmD,qCAAZpD;;AAEzB,MAAMxD,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA,OAET8C,eAFS,iCAGoBtC,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAHxC;AADE,GAAf;AAQA,SAAO;AAAEhD,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6B4G,IAAAA,cAAc,EAAdA;AAA7B,GAAP;AACD;;ACTD,IAAMiG,IAAI,gBAAG7F,gBAAA,CAAiB,UAAC5H,KAAD,EAAmBC,GAAnB;8BAC0CD,MAA9DgB;MAAAA,0DAAuB;MAAeC,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;uBACnCwN,aAAa;MAAxC5M,wBAAAA;MAAQ4G,gCAAAA;;AAEhB,SACElH,iCACM8I,gBAAU,CAAC/I,IAAD,EAAOmH,cAAP,CADhB;AAEE,IAAA,GAAG,EAAEvH,GAFP;AAGE,IAAA,GAAG,oBAAE,CAACqB,6BAAe,CAACV,MAAM,CAACW,SAAR,EAAmBP,oBAAnB,CAAhB,EAA0DC,UAA1D,CAAF;AAHL,KADF;AAOD,CAXY,CAAb;;AAaA,IAAI+I,qBAAJ,EAAa;AACXyD,EAAAA,IAAI,CAACxD,WAAL,GAAmB,MAAnB;AACD;;SCrBuByD;AACtB,MAAM9M,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE;AAEboM,IAAAA,IAAI,EAAE;AAAA;AAAA;AAAA,MAFO;AAGbxL,IAAAA,KAAK,EAAE;AAAA;AAAA;AAHM,GAAf;AAMA,SAAOK,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACFD,IAAMgN,SAAS,gBAAGhG,gBAAA,CAAiB,UAAC5H,KAAD,EAAwBC,GAAxB;MACzBiH,aAAelH,MAAfkH;AACR,MAAMtG,MAAM,GAAG8M,kBAAkB,EAAjC;AAEA,SACEzB,gBAAC,IAAD;AACE,IAAA,IAAI,EAAC,qFADP;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,GAAG,EAAEhM,GAHP;AAIE,IAAA,GAAG,oBAAE,CAACW,MAAM,CAACW,SAAR,CAAF;AAJL,KAKMvB,KALN;AAAA,eAOEM,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAEM,MAAM,CAACuB,KAA3B;AAAA;AAAA,MAPF,EAUG+E,UAAU,KAAK,OAAf,GAAyB5G,eAACuN,cAAD;AAAiB,MAAA,GAAG,EAAEjN,MAAM,CAAC+M;AAA7B,MAAzB,GAAiErN,eAACwN,aAAD;AAAgB,MAAA,GAAG,EAAElN,MAAM,CAAC+M;AAA5B,MAVpE;AAAA,KADF;AAcD,CAlBiB,CAAlB;;AAoBA,IAAI3D,qBAAJ,EAAa;AACX4D,EAAAA,SAAS,CAAC3D,WAAV,GAAwB,WAAxB;AACD;;kCCJqD8D,2BAAa,CAAuB;AACxFC,EAAAA,MAAM,EAAE,IADgF;AAExF/C,EAAAA,IAAI,EAAE;AAFkF,CAAvB;IAA5DgD;IAAyBC;;SCrBhBtM,wBAAsB5B;MAC5BmO,WAAanO,MAAbmO;;8BACgBC,qBAAyB,CAAC;AAAEtM,IAAAA,WAAW,EAAEqM;AAAf,GAAD;MAAzCjM,6BAAAA;MAAMC,8BAAAA;;AACd,MAAMvB,MAAM,GAAGqB,mCAAqB,CAAC;AACnCoM,IAAAA,IAAI,EAAE,CAACnM,IAAD,CAD6B;AAEnCoM,IAAAA,SAAS,EAAE;AAAA;AAAA,MAFwB;AAGnCnM,IAAAA,KAAK,EAAE,CAACA,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA,MAH4B;AAInCoM,IAAAA,SAAS,EAAE;AAAA;AAAA;AAJwB,GAAD,CAApC;;AAOA,MAAIJ,QAAJ,EAAc;AACZvN,IAAAA,MAAM,CAACuB,KAAP,CAAarB,IAAb;AAAA;AAAA;AACD,GAFD,MAEO;AACLF,IAAAA,MAAM,CAAC0N,SAAP,CAAiBxN,IAAjB;AAAA;AAAA;AAAA;AACAF,IAAAA,MAAM,CAACuB,KAAP,CAAarB,IAAb;AAAA;AAAA;AACD;;AAED,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACdD,IAAM4N,YAAY,GAAG,SAAfA,YAAe,CAACxO,KAAD;;;MACXkL,QAA+ClL,MAA/CkL;MAAOmC,QAAwCrN,MAAxCqN;MAAOc,WAAiCnO,MAAjCmO;MAAUG,YAAuBtO,MAAvBsO;MAAcjO,qCAASL;;4BAanDkO,kBAAkB;MAXpBO,sCAAAA;MACAC,mCAAAA;MACAC,uCAAAA;MACAC,mCAAAA;MACAC,+BAAAA;kDACA7N;MAAAA,0DAAuB;kDACvB8N;qDACEC;MAAAA,4DAAwB;qDACxBC;MAAAA,oEAAgC;qDAChCC;MAAAA,qEAAiC;;AAGrC,MAAMC,UAAU,GAAGN,YAAY,CAAC1D,KAAD,CAA/B;AACA,MAAMtK,MAAM,GAAGU,6BAAe,CAACM,uBAAqB,CAAC5B,KAAD,CAAtB,EAA+BgB,oBAA/B,CAA9B;;AAIA,MAAMmO,aAAa,GAAG,SAAhBA,aAAgB;AACpB,QAAIV,eAAe,IAAIS,UAAU,CAACE,UAAX,CAAsBX,eAAtB,CAAvB,EAA+D;AAC7D,aACExC,gBAACoD,cAAD;AAAA,mBACGZ,eADH,EAEEnO,eAAC,GAAD;AAAK,UAAA,EAAE,EAAC,MAAR;AAAe,UAAA,GAAG,EAAEM,MAAM,CAAC0N,SAA3B;AAAA,oBACGY,UAAU,CAACI,OAAX,CAAmBb,eAAnB,EAAoC,EAApC;AADH,UAFF;AAAA,QADF;AAQD;;AAED,WAAOS,UAAP;AACD,GAbD;;AAeA,SACEK,mBAAC,GAAD;AACE,IAAA,EAAE,EAAC;AADL,KAEMb,YAAY,CAAC;AACfrB,IAAAA,KAAK,EAALA,KADe;AAEfgB,IAAAA,IAAI,EAAEnD,KAFS;AAGfpD,IAAAA,OAAO,EAAE;AACP,UAAI+G,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAAC3D,KAAD,CAAR;AACD;AACF;AAPc,GAAD,CAFlB;AAWE,IAAA,GAAG,EAAKgE,UAAL,SAAmB7B,KAXxB;AAYE,IAAA,GAAG,EAAEzM,MAAM,CAACyN,IAZd;AAaE,IAAA,SAAS,EAAEhF,UAAU,CAAC0F,qBAAD,iCAClBC,6BADkB,IACcb,QADd,cAElBc,8BAFkB,IAEeX,SAFf;AAbvB,KAiBMjO,IAjBN,GAmBEC,eAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA,cAAgB6O,aAAa;AAA7B,IAnBF,EAqBGR,gBAAgB,IACf1C,gBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,GAAG,EAAErL,MAAM,CAACuB,KAA3B;AAAA,yBAEE7B,eAACkP,WAAD;AAAc,MAAA,GAAG,EAAE5O,MAAM,CAAC2N;AAA1B,MAFF;AAAA,IAtBJ,CADF;AA8BD,CAjED;;SCGwBkB,iBAAiBC;MAC/BnL,OAA2BmL,QAA3BnL;0BAA2BmL,QAArBvD;MAAAA,0CAAW;AACzB,MAAM/B,UAAU,GAAG9F,WAAW,CAAC;AAAEC,IAAAA,IAAI,EAAJA;AAAF,GAAD,CAA9B;AAEA,MAAM3D,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,OAET2K,gBAAgB,CAACC,QAAD,CAFP,EAGT5H,IAAI,KAAK,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHS,EAIT6F,UAJS;AADE,GAAf;;AASA,MAAI7F,IAAI,KAAK,IAAb,EAAmB;AACjB3D,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AAAA;AACD,GAFD,MAEO;AACLF,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AAAA;AACD;;AAED,MAAIyD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA1B,IAAkCA,IAAI,KAAK,MAA/C,EAAuD;AACrD3D,IAAAA,MAAM,CAACW,SAAP,CAAiBT,IAAjB;AAAA;AAAA;AACD;;AAED,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;AC3BD,IAAM+O,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,OAAD;AACvB,UAAQA,OAAR;AACE,SAAK,IAAL;AACE,aAAO,IAAP;;AACF,SAAK,IAAL;AACE,aAAO,IAAP;;AACF,SAAK,IAAL;AACE,aAAO,MAAP;;AACF,SAAK,IAAL;AACE,aAAO,IAAP;;AACF,SAAK,IAAL;AACE,aAAO,IAAP;;AACF,SAAK,IAAL;AACE,aAAO,KAAP;;AACF;AACE,aAAO,MAAP;AAdJ;AAgBD,CAjBD;;AAmBA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC7P,KAAD,EAAmDC,GAAnD;kBAQnBD,MANFE;MAAAA,4BAAK;oBAMHF,MALFuE;MAAAA,gCAAOoL,gBAAgB,CAACzP,EAAD;MACvBiM,WAIEnM,MAJFmM;8BAIEnM,MAHFgB;MAAAA,0DAAuB;MACfC,AACLZ,qCACDL;;AACJ,MAAMY,MAAM,GAAGU,6BAAe,CAACmO,gBAAgB,CAAC;AAAElL,IAAAA,IAAI,EAAJA,IAAF;AAAQrE,IAAAA,EAAE,EAAFA,EAAR;AAAYiM,IAAAA,QAAQ,EAARA;AAAZ,GAAD,CAAjB,EAA2CnL,oBAA3C,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,EAAE,EAAEC,EAAnB;AAAuB,IAAA,GAAG,oBAAE,CAACU,MAAM,CAACW,SAAR,CAAF;AAA1B,KAAoDlB,IAApD,EAAP;AACD,CAZD;;AAcA,IAAMyP,OAAO,gBAAGrP,8BAAgB,CAA+BoP,gBAA/B,CAAhC;;SC9BgBE,kBAAkB/P;MACxBgQ,MAAyBhQ,MAAzBgQ;MAAKC,SAAoBjQ,MAApBiQ;MAAQC,UAAYlQ,MAAZkQ;AACrB,MAAMjQ,GAAG,GAAGoD,YAAM,CAAC,IAAD,CAAlB;;kBACkCmC,cAAQ,CAAC,KAAD;MAAnC2K;MAAWC;;AAElB9M,EAAAA,eAAS,CAAC;AACR,QAAI,CAAC0M,GAAD,IAAQjK,mBAAK,EAAjB,EAAqB;AACnB;AACD;;AAED,QAAMsK,KAAK,GAAG,IAAIrK,MAAM,CAACsK,KAAX,EAAd;AAEAD,IAAAA,KAAK,CAACE,gBAAN,CAAuB,MAAvB,EAA+B,UAAC5J,KAAD;AAC7B,UAAI1G,GAAG,CAACsD,OAAR,EAAiB;AACf6M,QAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,YAAIH,MAAJ,EAAY;AACVA,UAAAA,MAAM,CAACO,IAAP,CAAYH,KAAZ,EAAmB1J,KAAnB;AACD;AACF;AACF,KARD;AAUA0J,IAAAA,KAAK,CAACE,gBAAN,CAAuB,OAAvB,EAAgC,UAAC5J,KAAD;AAC9B,UAAI1G,GAAG,CAACsD,OAAR,EAAiB;AACf6M,QAAAA,YAAY,CAAC,KAAD,CAAZ;;AAEA,YAAIF,OAAJ,EAAa;AACXA,UAAAA,OAAO,CAACM,IAAR,CAAaH,KAAb,EAAoB1J,KAApB;AACD;AACF;AACF,KARD;AAUA0J,IAAAA,KAAK,CAACL,GAAN,GAAYA,GAAZ;AACD,GA5BQ,EA4BN,CAACA,GAAD,EAAMC,MAAN,EAAcC,OAAd,CA5BM,CAAT;AA+BA5M,EAAAA,eAAS,CAAC;AACR,WAAO;AACLrD,MAAAA,GAAG,CAACsD,OAAJ,GAAc,KAAd;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAMA,SAAO4M,SAAP;AACD;;AClDD,SAASM,YAAT,CAAsBC,SAAtB,EAA0DC,aAA1D;MAA0DA;AAAAA,IAAAA,gBAAgB;;;AACxE,UAAQD,SAAR;AACE,SAAK,SAAL;AACE;AAAA;AAAA;;AAEF,SAAK,OAAL;AACE;AAAA;AAAA;;AAEF,SAAK,MAAL;AACE;AAAA;AAAA;;AAEF,SAAK,YAAL;AACE;AAAA;AAAA;;AAEF,SAAK,MAAL;AACE;AAAA;AAAA;;AAEF;AACE,aAAOC,aAAa;AAAA;AAAA,UAAsB,EAA1C;AAjBJ;AAmBD;;AAED,SAAgBC,eAAe5Q;AAC7B,MAAMmQ,SAAS,GAAGJ,iBAAiB,CAAC/P,KAAD,CAAnC;MACQ6Q,QAAqB7Q,MAArB6Q;MAAOH,YAAc1Q,MAAd0Q;AACf,MAAM9P,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,OAA0B,CAAC4O,SAAD;AAAA;AAAA;AAAA,QAA+B,EAAzD,CADE;AAEbE,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA,OAELF,SAAS,IAAI,CAACU,KAAd;AAAA;AAAA;AAAA;AAAA,KAFK,EAGL;AAAE9M,MAAAA,YAAY,EAAE;AAAhB,KAHK,EAIL0M,YAAY,CAACC,SAAD,CAJP,CAFM;AAQbI,IAAAA,WAAW,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEXX,SAAS,IAAIU,KAAb;AAAA;AAAA;AAAA;AAAA,KAFW,EAGX;AAAE9M,MAAAA,YAAY,EAAE;AAAhB,KAHW,EAIX0M,YAAY,CAACC,SAAD,EAAY,IAAZ,CAJD;AARA,GAAf;AAgBA,SAAOlO,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;SCrCuBmQ,iBAAiBlP;MAC/BmP,WAAsDnP,OAAtDmP;MAAUC,QAA4CpP,OAA5CoP;MAAOC,SAAqCrP,OAArCqP;uBAAqCrP,OAA7BsP;MAAQC,0CAAc;AACvD,MAAMD,MAAM,GAAGE,qBAAO,CAACD,WAAD,CAAP,GAAwBA,WAAW,CAACnE,MAAZ,CAAmBqE,OAAnB,CAAxB,GAAwE,CAACF,WAAD,CAAvF;;AACA,MAAI,CAACJ,QAAL,EAAe;AACb,WAAOG,MAAP;AACD;;AAED,UAAQH,QAAR;AACE,SAAK,SAAL;AACE,aAAOG,MAAM,CAACpH,GAAP,CAAW,UAACwH,CAAD;AAChB,YAAMC,GAAG,GAAG,IAAIC,GAAJ,CAAQF,CAAR,CAAZ;YACQG,WAAaF,IAAbE;;oCACqBA,QAAQ,CAACC,KAAT,CAAe,GAAf,EAAoBC,OAApB;YAAtBC;YAAcxR;;AACrB,YAAMyR,wBAAwB,GAAGzR,IAAI,CAAC0R,IAAL,EAAjC;;AACA,YAAId,KAAK,IAAIC,MAAb,EAAqB;AACnBM,UAAAA,GAAG,CAACE,QAAJ,GAAkBI,wBAAlB,SAA8Cb,KAA9C,SAAuDC,MAAvD;AACD,SAFD,MAEO,IAAID,KAAJ,EAAW;AAChBO,UAAAA,GAAG,CAACE,QAAJ,GAAkBI,wBAAlB,SAA8Cb,KAA9C;AACD,SAFM,MAEA,IAAIC,MAAJ,EAAY;AACjBM,UAAAA,GAAG,CAACE,QAAJ,GAAkBI,wBAAlB,UAA+Cb,KAA/C;AACD;;AACDO,QAAAA,GAAG,CAACE,QAAJ,GAAkBF,GAAG,CAACE,QAAtB,SAAkCG,SAAlC;AACA,eAAOL,GAAG,CAAC1N,QAAJ,EAAP;AACD,OAdM,CAAP;;AAeF;AACE,aAAOqN,MAAP;AAlBJ;AAoBD;;ACtBD,IAAMa,WAAW,gBAAGpK,gBAAA,CAAiB,UAAC5H,KAAD,EAA0BC,GAA1B;MAC3BgS,YAA+DjS,MAA/DiS;MAAWC,aAAoDlS,MAApDkS;mBAAoDlS,MAAxCmS;MAAAA,8BAAM;uBAAkCnS,MAA9BmH;MAAAA,sCAAU;MAAW9G,qCAASL;;AAEvE,SAAOM;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,KAAK,EAAEgS,SAAtB;AAAiC,IAAA,MAAM,EAAEC,UAAzC;AAAqD,IAAA,GAAG,EAAEC,GAA1D;AAA+D,IAAA,OAAO,EAAEhL;AAAxE,KAAqF9G,IAArF,EAAP;AACD,CAJmB,CAApB;AAMA,IAAMiQ,KAAK,gBAAG1I,gBAAA,CAAiB,UAAC5H,KAAD,EAAoBC,GAApB;MAEtBmS,UAiBHpS,MAjBFgQ;MACUqC,eAgBRrS,MAhBFsS;MACApC,UAeElQ,MAfFkQ;MACAD,SAcEjQ,MAdFiQ;MACcsC,uBAaZvS,MAbFwS;MACcC,uBAYZzS,MAZF0S;MACAT,YAWEjS,MAXFiS;MACAC,aAUElS,MAVFkS;MACAS,cASE3S,MATF2S;MACAjC,AAEAkC,qBAME5S,MANF4S;8BAME5S,MALFgB;MAAAA,0DAAuB;MACvBiQ,QAIEjR,MAJFiR;MACAC,SAGElR,MAHFkR;MACAF,WAEEhR,MAFFgR;MACG3Q,qCACDL;;wBACsB4H,cAAA,CAAe,KAAf;MAAnBiJ;MAAOgC;;0BACU9B,gBAAgB,CAAC;AAAEC,IAAAA,QAAQ,EAARA,QAAF;AAAYG,IAAAA,MAAM,EAAE,CAACiB,OAAD,EAAUC,YAAV,CAApB;AAA6CpB,IAAAA,KAAK,EAALA,KAA7C;AAAoDC,IAAAA,MAAM,EAANA;AAApD,GAAD;MAAjClB;MAAKsC;;AAEZ,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACM,CAAD;AACnB,QAAIR,QAAJ,EAAc;AACZO,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;;AACDN,IAAAA,oBAAoB,QAApB,YAAAA,oBAAoB,CAAGO,CAAH,CAApB;AACD,GALD;;AAOA,MAAMJ,YAAY,GAAG,SAAfA,YAAe,CAACI,CAAD;AACnB,QAAIR,QAAJ,EAAc;AACZO,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;;AACDJ,IAAAA,oBAAoB,QAApB,YAAAA,oBAAoB,CAAGK,CAAH,CAApB;AACD,GALD;;AAOA,MAAMC,UAAU,GAAG;AACjB/C,IAAAA,GAAG,EAAHA,GADiB;AAEjBC,IAAAA,MAAM,EAANA,MAFiB;AAGjBC,IAAAA,OAAO,EAAPA,OAHiB;AAIjB+B,IAAAA,SAAS,EAATA,SAJiB;AAKjBC,IAAAA,UAAU,EAAVA,UALiB;AAMjBM,IAAAA,YAAY,EAAZA,YANiB;AAOjBE,IAAAA,YAAY,EAAZA;AAPiB,GAAnB;AAUA,MAAM9R,MAAM,GAAGU,6BAAe,CAACsP,cAAc,cAAM5Q,KAAN;AAAa6Q,IAAAA,KAAK,EAALA;AAAb,KAAf,EAAsC7P,oBAAtC,CAA9B;;AACA,MAAMqP,KAAK,GAAG/P,eAAC,GAAD;AAAK,IAAA,EAAE,EAAE0R,WAAT;AAAsB,IAAA,GAAG,EAAE/R,GAA3B;AAAgC,IAAA,GAAG,EAAEW,MAAM,CAACyP;AAA5C,KAAuD0C,UAAvD,EAAuE1S,IAAvE,EAAd;;AACA,MAAMyQ,WAAW,gBAAGlJ,kBAAA,CAAmByI,KAAnB,EAA0B;AAAEL,IAAAA,GAAG,EAAEsC,QAAP;AAAiBzR,IAAAA,GAAG,EAAED,MAAM,CAACkQ;AAA7B,GAA1B,CAApB;AAEA,SACExQ,eAAC,WAAD;AAAa,IAAA,KAAK,EAAEqS,WAAF,WAAEA,WAAF,GAAiB,IAAnC;AAAyC,IAAA,GAAG,EAAE/R,MAAM,CAACW,SAArD;AAAgE,IAAA,SAAS,EAAEqR,kBAA3E;AAAA,cACE3G;AAAA,iBACG+D,GAAG,GAAGK,KAAH,GAAW,IADjB,EAEGiC,QAAQ,GAAGxB,WAAH,GAAiB,IAF5B;AAAA;AADF,IADF;AAQD,CA3Da,CAAd;;AA6DA,IAAI9G,qBAAJ,EAAa;AACXsG,EAAAA,KAAK,CAACrG,WAAN,GAAoB,OAApB;AACD;;SChFerI,wBAAsB5B;MAC5BmO,WAAanO,MAAbmO;AACR,MAAMvN,MAAM,GAAGqB,mCAAqB,CAAC;AACnCoM,IAAAA,IAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD6B;AAInC2E,IAAAA,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,MAJmB;AAKnCC,IAAAA,aAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALoB,GAAD,CAApC;;AAQA,MAAI9E,QAAJ,EAAc;AACZvN,IAAAA,MAAM,CAACyN,IAAP,CAAYvN,IAAZ;AAAA;AAAA;AAAA;AACD;;AAED,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACRD,IAAMsS,cAAc,GAAG,SAAjBA,cAAiB,CAAClT,KAAD;;;MACbkL,QAAoClL,MAApCkL;MAAOmC,QAA6BrN,MAA7BqN;MAAOc,WAAsBnO,MAAtBmO;MAAa9N,qCAASL;;4BAUxCkO,kBAAkB;MARpBQ,mCAAAA;kDACA1N;MAAAA,0DAAuB;kDACvB8N;qDACEqE;MAAAA,oEAAgC;qDAChCC;MAAAA,mEAA+B;qDAC/BC;MAAAA,sDAAkB;qDAClBC;MAAAA,8DAA0B;;AAG9B,MAAM1S,MAAM,GAAGU,6BAAe,CAACM,uBAAqB,CAAC5B,KAAD,CAAtB,EAA+BgB,oBAA/B,CAA9B;AAEA,SACEV,eAAC,GAAD;AACE,IAAA,EAAE,EAAC;AADL,KAEMoO,YAAY,CAAC;AACfrB,IAAAA,KAAK,EAALA,KADe;AAEfgB,IAAAA,IAAI,EAAEnD;AAFS,GAAD,CAFlB;AAME,IAAA,SAAS,EAAE7B,UAAU,CAACgK,eAAD,iCAAqBC,uBAArB,IAA+CnF,QAA/C;AANvB,KAOM9N,IAPN;AAAA,cASE4L,gBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,IAAI,EAAEf,KAAK,CAACsG,GAAxB;AAA6B,MAAA,OAAO,EAAEtG,KAAK,CAACpD,OAA5C;AAAqD,MAAA,aAAa,EAAEoD,KAAK,CAACpD,OAA1E;AAAmF,MAAA,GAAG,EAAElH,MAAM,CAACyN,IAA/F;AAAA,iBACE/N,eAAC,GAAD;AAAK,QAAA,GAAG,EAAEM,MAAM,CAACoS,cAAjB;AAAiC,QAAA,SAAS,EAAEG,6BAA5C;AAAA,kBACE7S,eAAC,KAAD;AAAO,UAAA,GAAG,EAAE4K,KAAK,CAACmF,KAAlB;AAAyB,UAAA,WAAW,EAAE,CAAtC;AAAyC,UAAA,SAAS,EAAC;AAAnD;AADF,QADF,EAKEpE,gBAAC,GAAD;AAAK,QAAA,GAAG,EAAErL,MAAM,CAACqS,aAAjB;AAAgC,QAAA,SAAS,EAAEG,4BAA3C;AAAA,mBACE9S,eAAC,OAAD;AAAS,UAAA,EAAE,EAAC,IAAZ;AAAiB,UAAA,IAAI,EAAC,IAAtB;AAAA,oBACG4K,KAAK,CAACqI;AADT,UADF,EAIEjT,eAAC,IAAD;AAAM,UAAA,QAAQ,MAAd;AAAA,oBAAgB4K,KAAK,CAACsI;AAAtB,UAJF;AAAA,QALF;AAAA;AATF,KADF;AAwBD,CAtCD;;ACEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;4BAeXvF,kBAAkB;MAbpBwF,2BAAAA;MACAC,2BAAAA;kDACA/Q;MAAAA,2CAAQ;MACRgR,iCAAAA;MACAC,uCAAAA;MACAC,mCAAAA;MACAnF,uCAAAA;MACAoF,oCAAAA;MACAC,iCAAAA;MACApF,mCAAAA;MACAF,mCAAAA;kDACA1N;MAAAA,0DAAuB;kDACvB8N;MAAoBmF,0CAAAA;MAAmBC,8CAAAA;MAAuBC,gDAAAA;;AAEhE,MAAMzR,KAAK,GAAG,CAACgR,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,aAAhC,KAAkDC,IAAlD,IAA0D/Q,KAAK,CAACwR,MAAN,GAAe,CAAvF;AACA,MAAMxT,MAAM,GAAGU,6BAAe,CAACmB,iBAAiB,CAAC;AAAEC,IAAAA,KAAK,EAALA;AAAF,GAAD,CAAlB,EAA+B1B,oBAA/B,CAA9B;AACA,MAAMmB,KAAK,GAAGuR,IAAI,KAAK,SAAT,GAAqB,SAArB,GAAiC,aAA/C;AACA,MAAIW,UAAU,GAAoB,IAAlC;;AAEA,MAAIL,UAAJ,EAAgB;AACdK,IAAAA,UAAU,GAAGzR,KAAK,CAACmH,GAAN,CAAU,UAACsE,IAAD,EAAOhB,KAAP;AACrB,UAAMc,QAAQ,GAAG0F,gBAAgB,KAAKxG,KAAtC;AACA,UAAM6B,UAAU,GAAGN,YAAY,CAACP,IAAD,CAA/B;AACA,UAAMC,SAAS,GAAGsF,UAAU,CAACQ,MAAX,GAAoB,CAApB,IAAyBlF,UAAU,CAACE,UAAX,CAAsBwE,UAAtB,CAA3C;AAEA,aACEtT,eAAC+O,cAAD;AAAA,kBACG2E,UAAU,CAAC;AAAE3F,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,SAAS,EAATA,SAAR;AAAmBH,UAAAA,QAAQ,EAARA,QAAnB;AAA6BO,UAAAA,YAAY,EAAZA,YAA7B;AAA2CrB,UAAAA,KAAK,EAALA;AAA3C,SAAD;AADb,SAAwB6B,UAAxB,SAAsC7B,KAAtC,CADF;AAKD,KAVY,CAAb;AAWD,GAZD,MAYO,IAAIqG,IAAI,KAAK,SAAb,EAAwB;AAC7BW,IAAAA,UAAU,GAAIzR,KAAsB,CAACmH,GAAvB,CAA2B,UAACsE,IAAD,EAAOhB,KAAP;AACvC,UAAMc,QAAQ,GAAG0F,gBAAgB,KAAKxG,KAAtC;AAEA,aAAO/M,eAAC,cAAD;AAAgB,QAAA,KAAK,EAAE+N,IAAvB;AAA6B,QAAA,QAAQ,EAAEF,QAAvC;AAAiD,QAAA,KAAK,EAAEd;AAAxD,SAAuEgB,IAAI,CAACkF,KAA5E,SAAqFlG,KAArF,CAAP;AACD,KAJa,CAAd;AAKD,GANM,MAMA;AACLgH,IAAAA,UAAU,GAAIzR,KAAkB,CAACmH,GAAnB,CAAuB,UAACsE,IAAD,EAAOhB,KAAP;AACnC,UAAMc,QAAQ,GAAG0F,gBAAgB,KAAKxG,KAAtC;AACA,UAAM6B,UAAU,GAAGN,YAAY,CAACP,IAAD,CAA/B;AACA,UAAMC,SAAS,GAAGsF,UAAU,CAACQ,MAAX,GAAoB,CAApB,IAAyBlF,UAAU,CAACE,UAAX,CAAsBwE,UAAtB,CAA3C;AAEA,aACEtT,eAAC,YAAD;AACE,QAAA,KAAK,EAAE+N,IADT;AAEE,QAAA,SAAS,EAAEC,SAFb;AAGE,QAAA,QAAQ,EAAEH,QAHZ;AAIE,QAAA,KAAK,EAAEd;AAJT,SAKU6B,UALV,SAKwB7B,KALxB,CADF;AASD,KAda,CAAd;AAeD;;AAED,SACEpB,gBAAC,GAAD;AAAK,IAAA,GAAG,EAAErL,MAAM,CAACW,SAAjB;AAA4B,IAAA,SAAS,EAAE0S,iBAAvC;AAAA,eACE3T,eAAC,IAAD;AAAM,MAAA,EAAE,EAAC,IAAT;AAAc,MAAA,GAAG,EAAEM,MAAM,CAAC+B,OAA1B;AAAA,gBACGR;AADH,MADF,EAKE7B,kCAAQwT,YAAY,EAApB;AAAwB,MAAA,GAAG,EAAElT,MAAM,CAACgC,KAApC;AAA2C,MAAA,SAAS,EAAEsR,qBAAtD;AAAA,gBACGG;AADH,OALF,EASG,CAAC1F,gBAAgB,IAAIoF,aAArB,KACC9H,gBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,QAAR;AAAiB,MAAA,GAAG,EAAErL,MAAM,CAACiC,MAA7B;AAAqC,MAAA,SAAS,EAAEsR,uBAAhD;AAAA,iBACGxF,gBAAgB,IACf1C,gBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,MAAR;AAAe,QAAA,GAAG,EAAErL,MAAM,CAACmC,WAA3B;AAAA,mBACEkJ,gBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,MAAR;AAAe,UAAA,GAAG,EAAErL,MAAM,CAACkC,UAA3B;AAAA,qBACExC,eAACgU,QAAD;AAAW,YAAA,GAAG,EAAE1T,MAAM,CAACoC;AAAvB,YADF,EAEE1C,eAACiU,UAAD;AAAa,YAAA,GAAG,EAAE3T,MAAM,CAACoC;AAAzB,YAFF;AAAA,UADF,EAOEiJ,gBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,MAAR;AAAe,UAAA,GAAG,EAAErL,MAAM,CAACkC,UAA3B;AAAA,qBACExC,eAACkP,WAAD;AAAc,YAAA,GAAG,EAAE5O,MAAM,CAACoC;AAA1B,YADF;AAAA,UAPF,EAYEiJ,gBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,MAAR;AAAe,UAAA,GAAG,EAAErL,MAAM,CAACkC,UAA3B;AAAA,qBACExC,eAAC,GAAD;AAAK,YAAA,EAAE,EAAC,MAAR;AAAe,YAAA,GAAG,EAAEM,MAAM,CAACqC,aAA3B;AAAA;AAAA,YADF;AAAA,UAZF;AAAA,QAFJ,EAuBG8Q,aAAa,IAAIzT,eAAC,SAAD;AAAW,QAAA,GAAG,EAAEM,MAAM,CAACsC;AAAvB,QAvBpB;AAAA,MAVJ;AAAA,IADF;AAuCD,CAhGD;;SCXgBsR;AACd,MAAM5T,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,MADE;AAEbkT,IAAAA,MAAM,EAAE;AAAA;AAAA;AAFK,GAAf;AAKA,SAAOjS,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;SCHe8T,WAAWC,KAAaC;AACtC,MAAID,GAAG,KAAK/P,SAAR,IAAqBgQ,MAAM,KAAK,EAApC,EAAwC;AACtC,WAAO,EAAP;AACD;;AACD,MAAID,GAAG,CAACvF,UAAJ,CAAewF,MAAf,CAAJ,EAA4B;AAC1B,WAAOD,GAAG,CAACE,KAAJ,CAAUD,MAAM,CAACR,MAAjB,CAAP;AACD;;AACD,SAAO,EAAP;AACD;;AAED,IAAMU,SAAS,GAAG,SAAZA,SAAY;4BAOZ5G,kBAAkB;MALpBwF,2BAAAA;MACAqB,iCAAAA;MACAnB,iCAAAA;kDACA5S;MAAAA,0DAAuB;kDACvB8N,iBAAoBkG;MAAAA,wDAAqB;;AAE3C,MAAMpU,MAAM,GAAGU,6BAAe,CAACkT,kBAAkB,EAAnB,EAAuBxT,oBAAvB,CAA9B;AACA,MAAIiU,cAAc,GAAG,EAArB;AACA,MAAIC,UAAU,GAAG,SAAjB;;AAEA,MAAIxB,IAAI,KAAK,WAAT,IAAwBqB,UAA5B,EAAwC;AACtCE,IAAAA,cAAc,GAAGP,UAAU,CAACK,UAAD,EAAanB,UAAb,CAA3B;AACAsB,IAAAA,UAAU,GAAGH,UAAU,CAACI,SAAX,CAAqB,CAArB,EAAwBJ,UAAU,CAACX,MAAX,GAAoBa,cAAc,CAACb,MAA3D,CAAb;AACD;;AAED,SACEnI,gBAAC,GAAD;AAAK,IAAA,GAAG,EAAErL,MAAM,CAACW,SAAjB;AAA4B,IAAA,SAAS,EAAEyT,kBAAvC;AAAA,eACE1U,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAEM,MAAM,CAAC6T,MAA3B;AAAA,gBACGS;AADH,MADF,EAIGD,cAJH;AAAA,IADF;AAQD,CAzBD;;SCVwBG;MAAiB7S,cAAAA;AACvC,MAAM3B,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAETgB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFG;AADE,GAAf;AAOA,SAAOC,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACND,IAAMyU,KAAK,GAAG,SAARA,KAAQ;MAAGjV,gBAAAA;MAAUkV,oBAAAA;MAAiBjV;;uBACLiF,aAAa,CAACgQ,YAAD;MAA1C/S,wBAAAA;MAAQ6D,uBAAAA;MAAOX,2BAAAA;;4BACkByI,kBAAkB;kDAAnDlN;MAAAA,0DAAuB;;AAE/B,MAAI,CAACyE,SAAL,EAAgB;AACd,WAAO,IAAP;AACD;;AAED,MAAIrF,QAAQ,IAAI,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC9C,WAAOA,QAAQ,CAAC;AAAE0H,MAAAA,OAAO,EAAE1B,KAAX;AAAkB7D,MAAAA,MAAM,EAANA;AAAlB,KAAD,CAAf;AACD;;AAED,MAAM3B,MAAM,GAAGU,6BAAe,CAAC8T,cAAc,CAAC;AAAE7S,IAAAA,MAAM,EAANA;AAAF,GAAD,CAAf,EAA6BvB,oBAA7B,CAA9B;AAEA,SACEV,eAAC,GAAD;AAAK,IAAA,EAAE,EAAC,QAAR;AAAiB,IAAA,IAAI,EAAC,QAAtB;AAA+B,IAAA,GAAG,EAAEM,MAAM,CAACW,SAA3C;AAAsD,IAAA,OAAO,EAAE6E,KAA/D;AAAsE,kBAAW;AAAjF,KAAuG/F,IAAvG;AAAA,cACGkC,MAAM,GAAGjC,eAACiV,MAAD,KAAH,GAAiBjV,eAACkV,WAAD;AAD1B,KADF;AAKD,CAnBD;;SCGgBC,kBAAkBzV;MACxBuE,OAAgCvE,MAAhCuE;MAAMmR,eAA0B1V,MAA1B0V;MAAcvO,UAAYnH,MAAZmH;;4BACYlD,kBAAkB;MAAlDG,iCAAAA;MAAYC,sCAAAA;;AACpB,MAAM6E,eAAe,GAAc,EAAnC;AACA,MAAMyM,mBAAmB,GAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvC;;AAEA,UAAQpR,IAAR;AACE,SAAK,IAAL;AACE2E,MAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,UAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAC3BxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD,OAFD,MAEO,IAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAClCxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD;;AAED6U,MAAAA,mBAAmB,CAAC7U,IAApB;AAAA;AAAA;AAAA;AACA;;AAEF,SAAK,IAAL;AACEoI,MAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,UAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAC3BxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD,OAFD,MAEO,IAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAClCxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD;;AAED6U,MAAAA,mBAAmB,CAAC7U,IAApB;AAAA;AAAA;AAAA;AACA;;AAEF,SAAK,IAAL;AACA;AACEoI,MAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;;AAEA,UAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAC3BxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD,OAFD,MAEO,IAAIqG,OAAO,IAAIuO,YAAf,EAA6B;AAClCxM,QAAAA,eAAe,CAACpI,IAAhB;AAAA;AAAA;AACD;;AAED6U,MAAAA,mBAAmB,CAAC7U,IAApB;AAAA;AAAA;AAAA;AACA;AApCJ;;AAuCA,MAAMF,MAAM,GAAGqB,mCAAqB,CAAC;AACnCV,IAAAA,SAAS,EAAE;AAAA;AAAA,MADwB;AAEnCqU,IAAAA,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAGTvR,eAHS,EAIT6E,eAJS,CAFqB;AAQnC2M,IAAAA,iBAAiB,YAAMF,mBAAN;AAAA;AAAA,OARkB;AASnCG,IAAAA,kBAAkB,YAAMH,mBAAN;AAAA;AAAA,OATiB;AAUnC9K,IAAAA,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAGA3B,eAHA,yVAV8B;AA2BnC6M,IAAAA,WAAW,EAAE;AA3BsB,GAAD,CAApC;;AA8BA,MAAIxR,IAAI,KAAK,IAAb,EAAmB;AACjB3D,IAAAA,MAAM,CAACmV,WAAP,CAAmBjV,IAAnB;AAAA;AAAA;AAAA;AACD;;AAED,SAAO;AAAEF,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;;;;;;;;;;AC1ED,IAAM4R,QAAQ,gBAAGpO,cAAK,CAACC,UAAN,CAAiB,SAASoO,aAAT,CAA0BjW,KAA1B,EAAmDC,GAAnD;oBAiC5BD,MA/BF0T;MAAAA,gCAAO;MACPvR,QA8BEnC,MA9BFmC;2BA8BEnC,MA7BFkW;MAAAA,8CAAc;4BA6BZlW,MA5BFmW;MAAAA,gDAAe;kBA4BbnW,MA3BF+K;MAAAA,0CAAiBC,WAAK;MACtBrH,UA0BE3D,MA1BF2D;wBA0BE3D,MAzBFqL;MAAAA,wCAAW;yBAyBTrL,MAxBFoW;MAAAA,2CAAY;4BAwBVpW,MAvBFsV;MAAAA,gDAAe;2BAuBbtV,MAtBFqW;MAAAA,8CAAc;8BAsBZrW,MArBFsW;MAAAA,uDAAoB;uBAqBlBtW,MApBFmH;MAAAA,sCAAU;qBAoBRnH,MAnBFkL;MAAO0B,sCAAY;qBAmBjB5M,MAlBF4C;MAAAA,kCAAQ;0BAkBN5C,MAjBF+U;MAAAA,4CAAa;oBAiBX/U,MAhBFuE;MAAAA,gCAAO;8BAgBLvE,MAfF2O;MAAAA,sDAAmB;6BAejB3O,MAdF+T;MAAAA,kDAAgB;4BAcd/T,MAbF4O;MAAAA,gDAAe8E,IAAI,KAAK,SAAT,GACX,UAACrF,IAAD;AAAA,WAAeA,IAA+B,CAACkF,KAA/C;AAAA,GADW,GAEX,UAAClF,IAAD;AAAA,WAAcA,IAAd;AAAA;yBAWFrO,MAVFuW;MAAAA,0CAAY,UAAClI,IAAD;AAAA,WAAeA,IAA+B,CAACmD,GAA/C;AAAA;MACZwC,aASEhU,MATFgU;MACAnF,WAQE7O,MARF6O;8BAQE7O,MAPFgB;MAAAA,0DAAuB;MACvB+G,YAME/H,MANF+H;MACQ9G,aAKNjB,MALFY;MACA4V,iBAIExW,MAJFwW;MACAC,0BAGEzW,MAHFyW;MACAC,eAEE1W,MAFF0W;MACGrW,qCACDL;;kBAC0CwF,cAAQ,CAACoH,SAAS,CAAC9I,QAAV,EAAD;MAA/C2K;MAAiBkI;;uBACcrR,aAAa;MAAhCsR,gCAAXnR;;mBACkBD,cAAQ,CAACoH,SAAS,CAAC9I,QAAV,EAAD;MAA3BoH;MAAO2L;;mBACoBrR,cAAQ;MAAnCjE;MAAWuV;;AAElBxT,EAAAA,eAAS,CAAC;AACRuT,IAAAA,QAAQ,CAACjK,SAAS,CAAC9I,QAAV,EAAD,CAAR;AACD,GAFQ,EAEN,CAAC8I,SAAD,CAFM,CAAT;;qBAgBImK,qBAAW,CAAI;AACjBnU,IAAAA,KAAK,EAALA,KADiB;AAEjBgM,IAAAA,YAAY,EAAZA,YAFiB;AAGjBgF,IAAAA,UAAU,EAAE1I,KAHK;AAIjB8L,IAAAA,kBAAkB,EAAE,4BAACC,OAAD;;;AAClBJ,MAAAA,QAAQ,wBAACI,OAAO,CAACrD,UAAT,kCAAuB,EAAvB,CAAR;AACD,KANgB;AAOjBsD,IAAAA,YAAY,EAAE,sBAACC,KAAD;UAAUF,eAAAA;UAAStS,YAAAA;;AAC/B,UAAI+O,IAAI,KAAK,aAAb,EAA4B;AAC1B,gBAAQ/O,IAAR;AACE,eAAKoS,qBAAW,CAACK,gBAAZ,CAA6BC,qBAAlC;AACE,gBAAIF,KAAK,CAACtD,gBAAN,KAA2B,CAACjR,KAAK,IAAI,EAAV,EAAcwR,MAAd,GAAuB,CAAtD,EAAyD;AACvD,kCACK6C,OADL;AAEErD,gBAAAA,UAAU,EAAEnF,eAFd;AAGEoF,gBAAAA,gBAAgB,EAAEjP;AAHpB;AAKD;;AAED,gBAAIqS,OAAO,CAACpD,gBAAR,KAA6BjP,SAAjC,EAA4C;AAC1C,kBAAMyJ,IAAI,GAAG,CAACzL,KAAK,IAAI,EAAV,EAAcqU,OAAO,CAACpD,gBAAtB,CAAb;AACA,kBAAM3E,UAAU,GAAGN,YAAY,CAACP,IAAD,CAA/B;;AAEA,kBAAI,OAAOa,UAAP,KAAsB,QAA1B,EAAoC;AAClC,uBAAO+H,OAAP;AACD;;AAED,kCACKA,OADL;AAEErD,gBAAAA,UAAU,EAAE1E,UAFd;AAGEoI,gBAAAA,YAAY,EAAEjJ;AAHhB;AAKD;;AAED,mBAAO4I,OAAP;;AAEF,eAAKF,qBAAW,CAACK,gBAAZ,CAA6BG,mBAAlC;AACE,gBAAIJ,KAAK,CAACtD,gBAAN,KAA2B,CAA/B,EAAkC;AAChC,kCACKoD,OADL;AAEErD,gBAAAA,UAAU,EAAEnF,eAFd;AAGEoF,gBAAAA,gBAAgB,EAAEjP;AAHpB;AAKD;;AAED,gBAAIqS,OAAO,CAACpD,gBAAR,KAA6BjP,SAAjC,EAA4C;AAC1C,kBAAMyJ,KAAI,GAAG,CAACzL,KAAK,IAAI,EAAV,EAAcqU,OAAO,CAACpD,gBAAtB,CAAb;;AACA,kBAAM3E,WAAU,GAAGN,YAAY,CAACP,KAAD,CAA/B;;AAEA,kBAAI,OAAOa,WAAP,KAAsB,QAA1B,EAAoC;AAClC,uBAAO+H,OAAP;AACD;;AAED,kCACKA,OADL;AAEErD,gBAAAA,UAAU,EAAE1E,WAFd;AAGEoI,gBAAAA,YAAY,EAAEjJ;AAHhB;AAKD;;AAED,mBAAO4I,OAAP;;AAEF,eAAKF,qBAAW,CAACK,gBAAZ,CAA6BI,aAAlC;AACE,gBAAIP,OAAO,CAACpD,gBAAR,KAA6BjP,SAAjC,EAA4C;AAC1C,kBAAMyJ,MAAI,GAAG,CAACzL,KAAK,IAAI,EAAV,EAAcqU,OAAO,CAACpD,gBAAtB,CAAb;;AACA,kBAAM3E,YAAU,GAAGN,YAAY,CAACP,MAAD,CAA/B;;AAEA,kBAAI,OAAOa,YAAP,KAAsB,QAA1B,EAAoC;AAClC,uBAAO+H,OAAP;AACD;;AAED,kCACKA,OADL;AAEErD,gBAAAA,UAAU,EAAE1E,YAFd;AAGEoI,gBAAAA,YAAY,EAAEjJ;AAHhB;AAKD;;AACD,mBAAO4I,OAAP;;AAEF,eAAKF,qBAAW,CAACK,gBAAZ,CAA6BK,kBAAlC;AACE,gBAAIN,KAAK,CAACO,MAAV,EAAkB;AAChB,kCACKT,OADL;AAEES,gBAAAA,MAAM,EAAE,IAFV;AAGE9D,gBAAAA,UAAU,EAAEnF;AAHd;AAKD;;AACD,mBAAOwI,OAAP;;AAEF,eAAKF,qBAAW,CAACK,gBAAZ,CAA6BO,iBAAlC;AACE,gCACKV,OADL;AAEES,cAAAA,MAAM,EAAE;AAFV;;AAKF;AACE,mBAAOT,OAAP;AAvFJ;AAyFD;;AAED,UAAIvD,IAAI,KAAK,SAAb,EAAwB;AACtB,gBAAQ/O,IAAR;AACE,eAAKoS,qBAAW,CAACK,gBAAZ,CAA6BO,iBAAlC;AACE,gCACKV,OADL;AAEErD,cAAAA,UAAU,EAAE;AAFd;;AAKF,eAAKmD,qBAAW,CAACK,gBAAZ,CAA6BQ,SAAlC;AACE,gCACKX,OADL;AAEErD,cAAAA,UAAU,EAAE;AAFd;;AAKF,eAAKmD,qBAAW,CAACK,gBAAZ,CAA6BS,WAAlC;AACE,gBAAIZ,OAAO,CAACrD,UAAR,KAAuB,EAA3B,EAA+B;AAC7B,kCACKqD,OADL;AAEES,gBAAAA,MAAM,EAAE;AAFV;AAID;;AACD,mBAAOT,OAAP;;AAEF;AACE,mBAAOA,OAAP;AAvBJ;AAyBD;;AAED,aAAOA,OAAP;AACD;AAjIgB,GAAJ;MAXLtD,oBAAR+D;MACAI,6BAAAA;MACAhE,4BAAAA;MACApF,4BAAAA;MACAqJ,6BAAAA;MACAC,gCAAAA;MACAV,4BAAAA;MACAzD,gCAAAA;MACAD,0BAAAA;MACAqE,6BAAAA;MACAC,yBAAAA;;AAqIF,MAAMC,OAAO,GAAG;AACdzE,IAAAA,IAAI,EAAJA,IADc;AAEdE,IAAAA,UAAU,EAAVA,UAFc;AAGdD,IAAAA,IAAI,EAAJA,IAHc;AAId/Q,IAAAA,KAAK,EAALA,KAJc;AAKdmS,IAAAA,UAAU,EAAVA,UALc;AAMduC,IAAAA,YAAY,EAAZA,YANc;AAOdzD,IAAAA,gBAAgB,EAAhBA,gBAPc;AAQdC,IAAAA,YAAY,EAAZA,YARc;AASdpF,IAAAA,YAAY,EAAZA,YATc;AAUdC,IAAAA,gBAAgB,EAAhBA,gBAVc;AAWdoF,IAAAA,aAAa,EAAbA,aAXc;AAYdtF,IAAAA,eAAe,EAAfA,eAZc;AAaduF,IAAAA,UAAU,EAAVA,UAbc;AAcdnF,IAAAA,QAAQ,EAARA,QAdc;AAedD,IAAAA,YAAY,EAAZA,YAfc;AAgBd2H,IAAAA,SAAS,EAATA,SAhBc;AAiBdvV,IAAAA,oBAAoB,EAApBA,oBAjBc;AAkBd8N,IAAAA,gBAAgB,EAAEzO;AAlBJ,GAAhB;;AAqBA,MAAM+X,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACvN,KAAD;AACvB,QAAIyL,iBAAJ,EAAuB;AACrB2B,MAAAA,aAAa,CAACpN,KAAD,CAAb;AACA8L,MAAAA,kBAAkB,CAAC9L,KAAD,CAAlB;AACD;;AACDyK,IAAAA,YAAY,CAACzK,KAAD,CAAZ;AACD,GAND;;2BAQ+C4K,iBAAiB,CAAC;AAC/DlR,IAAAA,IAAI,EAAJA,IAD+D;AAE/DmR,IAAAA,YAAY,EAAEW,WAAW,IAAIO,cAFkC;AAG/DzP,IAAAA,OAAO,EAAPA;AAH+D,GAAD;MAAhDkR,oCAARzX;MAAwBwD,gCAAAA;;AAMhC,MAAMxD,MAAM,GAAGU,6BAAe,CAAC+W,cAAD,EAAiBrX,oBAAjB,CAA9B;AAEA,MAAMsX,UAAU,GAAGP,aAAa,CAAC;AAC/BhN,IAAAA,EAAE,EAAFA,EAD+B;AAE/BhD,IAAAA,SAAS,EAAEyO,cAFoB;AAG/B7R,IAAAA,IAAI,EAAE,QAHyB;AAI/B4T,IAAAA,GAAG,EAAE,MAJ0B;AAK/BrC,IAAAA,WAAW,EAAXA,WAL+B;AAM/B,oBAAgBvS,OANe;AAO/B6U,IAAAA,cAAc,EAAE,KAPe;AAQ/BC,IAAAA,YAAY,EAAE,KARiB;AAS/BC,IAAAA,WAAW,EAAE,KATkB;AAU/BC,IAAAA,UAAU,EAAE,OAVmB;AAW/BC,IAAAA,SAAS,EAAE,QAXoB;AAY/BxC,IAAAA,SAAS,EAAE,mBAACtD,CAAD;AAGT,UAAIA,CAAC,CAACxF,GAAF,KAAU,OAAV,IAAqBuG,gBAAgB,KAAK,CAAC,CAA/C,EAAkD;AAE/Cf,QAAAA,CAAC,CAAC+F,WAAF,CAAsBC,uBAAtB,GAAgD,IAAhD;;AAED,YAAIpF,IAAI,KAAK,aAAb,EAA4B;AAC1BwE,UAAAA,SAAS;AACV;AACF;;AAED,UAAIxE,IAAI,KAAK,SAAT,IAAsBZ,CAAC,CAACxF,GAAF,KAAU,OAAhC,IAA2CuG,gBAAgB,GAAG,CAAC,CAAnE,EAAsE;AACpE8C,QAAAA,kBAAkB,CAAC/H,YAAY,CAAChM,KAAK,CAACiR,gBAAD,CAAN,CAAb,CAAlB;AACD;;AAED,UAAIH,IAAI,KAAK,WAAT,IAAwBZ,CAAC,CAACxF,GAAF,KAAU,YAAtC,EAAoD;AAClD,YAAKwF,CAAC,CAAC/G,MAAF,CAA8BgN,cAA9B,KAAiDnF,UAAU,CAACQ,MAAjE,EAAyE;AACvE,cAAIW,UAAU,CAAC3F,UAAX,CAAsBwE,UAAtB,CAAJ,EAAuC;AACrCqE,YAAAA,aAAa,CAAClD,UAAD,CAAb;AACA4B,YAAAA,kBAAkB,CAAC5B,UAAD,CAAlB;AACD;AACF;AACF;;AAED,UAAIjC,CAAC,CAACxF,GAAF,KAAU,OAAV,IAAqBuG,gBAAgB,GAAG,CAAC,CAA7C,EAAgD;AAC9C,YAAMxF,IAAI,GAAG,CAACzL,KAAK,IAAI,EAAV,EAAciR,gBAAd,CAAb;;AACA,YAAIH,IAAI,KAAK,SAAT,IAAsB6C,SAAtB,IAAmC,CAACvC,UAAxC,EAAoD;AAClD,cAAMxC,GAAG,GAAG+E,SAAS,CAAClI,IAAD,CAArB;;AAEA,cAAImD,GAAJ,EAAS;AACPxL,YAAAA,MAAM,CAACgT,QAAP,CAAgBC,IAAhB,GAAuBzH,GAAvB;AACD;;AAED,cAAM5L,MAAM,GAAIyI,IAAhB;;AACA,cAAI6K,wBAAU,CAACtT,MAAM,CAACkC,OAAR,CAAd,EAAgC;AAC9BlC,YAAAA,MAAM,CAACkC,OAAP;AACD;AACF;;AACD,YAAI+G,QAAJ,EAAc;AACZA,UAAAA,QAAQ,CAACR,IAAD,CAAR;AACD;AACF;;AAED+H,MAAAA,UAAS,CAACtD,CAAD,CAAT;AACD,KAzD8B;AA0D/BqG,IAAAA,OAAO,EAAE,iBAACrG,CAAD;AACPzH,MAAAA,QAAQ,CAACyH,CAAC,CAAC/G,MAAF,CAASb,KAAV,CAAR;AACAyL,MAAAA,kBAAkB,CAAC7D,CAAC,CAAC/G,MAAF,CAASb,KAAV,CAAlB;AACD,KA7D8B;AA8D/BG,IAAAA,QAAQ,EAAE,kBAACyH,CAAD;AACR+D,MAAAA,QAAQ,CAAC/D,CAAC,CAAC/G,MAAF,CAASb,KAAV,CAAR;AACD;AAhE8B,GAAD,CAAhC;;AAmEA,MAAMkO,kBAAkB,GAAG,SAArBA,kBAAqB,CAACvO,KAAD;AACzB,QAAI9E,mBAAK,EAAT,EAAa;AACX,aAAO,IAAP;AACD;;AACD,QAAIxE,SAAS,IAAIsJ,KAAjB,EAAwB;AACtB,UAAMwO,cAAc,gBAAGzR,cAAK,CAAC0R,aAAN,CAAoB,OAApB,eAClBhB,UADkB,EAElBiB,KAAK,CAACC,IAAN,CAAW3O,KAAK,CAAC4O,UAAjB,EAA6BC,MAA7B,CAAoC,UAACC,GAAD,EAAMC,IAAN;AAAA;;AAAA,4BAAqBD,GAArB,6BAA2BC,IAAI,CAACC,QAAhC,IAA2CD,IAAI,CAACE,SAAhD;AAAA,OAApC,EAAkG,EAAlG,CAFkB,EAAvB;AAIA,UAAMC,kBAAkB,gBAAGnS,cAAK,CAAC0R,aAAN,CACzB,KADyB,eAGpBtB,gBAAgB,EAHI;AAIvBgC,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAE;AADL;AAJgB,UAQzB,CAACZ,cAAD,EAAiB/Y,eAAC,QAAD,KAAjB,CARyB,CAA3B;AAUAuK,MAAAA,KAAK,CAACqP,MAAN;AACA,0BAAOC,QAAQ,CAACC,YAAT,CAAsBL,kBAAtB,EAA0CxY,SAA1C,CAAP;AACD;;AACD,WAAO,IAAP;AACD,GAvBD;;AAyBA+B,EAAAA,eAAS,CAAC;AACR,QAAIoT,YAAJ,oBAAIA,YAAY,CAAEnT,OAAlB,EAA2B;AACzBuT,MAAAA,YAAY,CAACJ,YAAY,CAACnT,OAAb,CAAqB8W,aAAtB,CAAZ;AACD;AACF,GAJQ,EAIN,CAAC3D,YAAD,CAJM,CAAT;AAMA,SACEpW,eAAC,uBAAD;AAAyB,IAAA,KAAK,EAAE6X,OAAhC;AAAA,cACG,CAAAzB,YAAY,QAAZ,YAAAA,YAAY,CAAEnT,OAAd,IACC6V,kBAAkB,CAAC1C,YAAY,CAACnT,OAAd,CADnB,GAGC0I,gBAAC,GAAD;AAAK,MAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,whhBAAR;AAA0C,MAAA,SAAS,EAAE8G,SAArD;AAAA,iBACEkE,gBAAC,GAAD;AAAK,QAAA,GAAG,EAAErL,MAAM,CAACgV;AAAjB,SAAqCoC,gBAAgB,EAArD;AAAA,mBACE1X,eAAC,GAAD;AAAK,UAAA,EAAE,EAAC,OAAR;AAAgB,UAAA,GAAG;AAAnB,WAAsCwX,aAAa,CAAC;AAAEwC,UAAAA,OAAO,EAAEvP;AAAX,SAAD,CAAnD;AAAA,oBACG5I,KADH,WACGA,KADH,GACY+T;AADZ,WADF,EAKE5V,eAAC,GAAD;AAAK,UAAA,GAAG,EAAEM,MAAM,CAACiV,iBAAjB;AAAoC,UAAA,SAAS,EAAEY,uBAA/C;AAAA,oBACGlS,IAAI,KAAK,IAAT,GAAgBjE,eAACia,cAAD,KAAhB,GAAsCja,eAACka,SAAD;AADzC,UALF,EASEla,eAAC,SAAD,KATF,EAWEA,eAAC,GAAD;AACE,UAAA,GAAG,EAAEL,GADP;AAEE,UAAA,EAAE,EAAC,OAFL;AAGE,UAAA,GAAG,EAAEW,MAAM,CAACiK;AAHd,WAIMzB,gBAAU,CAACkP,UAAD,EAAalU,UAAb,CAJhB;AAKE,UAAA,YAAY,EAAE+R;AALhB,WAMM9V,IANN,EAXF,EAoBGgW,WAAW,IAAIlP,OAAf,GACC8E,gBAAC,GAAD;AAAK,UAAA,GAAG,EAAErL,MAAM,CAACkV,kBAAjB;AAAA,qBACG3O,OAAO,IAAI7G,eAACma,UAAD;AAAa,YAAA,GAAG,EAAE7Z,MAAM,CAACmV;AAAzB,YADd,EAEGM,WAAW,IAAI/V,eAAC,KAAD;AAAO,YAAA,YAAY,EAAE8X;AAArB,YAFlB;AAAA,UADD,GAKG,IAzBN;AAAA,SADF,EA6BE9X,eAAC,QAAD,KA7BF;AAAA;AAJJ,IADF;AAuCD,CAzWgB,CAAjB;;AA2WA,IAAI0J,qBAAJ,EAAa;AACXgM,EAAAA,QAAQ,CAAC/L,WAAT,GAAuB,UAAvB;AACD;;AChYD,IAAMyQ,iBAAiB,GAAG,CACxB,SADwB,EAExB,YAFwB,EAGxB,wBAHwB,EAIxB,OAJwB,EAKxB,QALwB,EAMxB,uBANwB,EAOxB,QAPwB,EAQxB,wBARwB,EASxB,0BATwB,EAUxB,kCAVwB,EAWxB,oBAXwB,CAA1B;AAcA,IAAMC,mBAAmB,gBAAGD,iBAAiB,CAAC3I,IAAlB,EAA5B;AAEA,SAAgB6I,cAAchL,SAA6BiL;MAAAA;AAAAA,IAAAA,eAAe;;;AACxE,MAAIjL,OAAO,KAAK,IAAhB,EAAsB;AACpB,WAAO,EAAP;AACD;;AAED,MAAIkL,QAAQ,GAAGvB,KAAK,CAACC,IAAN,CAAW5J,OAAO,CAACmL,gBAAR,CAAyBJ,mBAAzB,CAAX,CAAf;AAGAG,EAAAA,QAAQ,GAAGA,QAAQ,CAAC7N,MAAT,CAAgB,UAAC+N,WAAD;AAAA,WAAiBhV,MAAM,CAACiV,gBAAP,CAAwBD,WAAxB,EAAqCE,OAArC,KAAiD,MAAlE;AAAA,GAAhB,CAAX;;AAEA,MAAIL,YAAY,KAAK,IAArB,EAA2B;AACzBC,IAAAA,QAAQ,GAAGA,QAAQ,CAAC7N,MAAT,CAAgB,UAAC+N,WAAD;AAAA,aAAiBA,WAAW,CAACG,YAAZ,CAAyB,UAAzB,MAAyC,IAA1D;AAAA,KAAhB,CAAX;AACD;;AAED,SAAOL,QAAP;AACD;;ACrBD,SAASM,SAAT,CAAmBpb,KAAnB;MACUqb,kBAAmGrb,MAAnGqb;MAAiBC,gBAAkFtb,MAAlFsb;MAAeC,aAAmEvb,MAAnEub;MAAYC,eAAuDxb,MAAvDwb;MAAcpb,WAAyCJ,MAAzCI;MAAUsD,WAA+B1D,MAA/B0D;yBAA+B1D,MAArByb;MAAAA,0CAAY;AAElG,MAAMC,YAAY,GAAG9T,cAAK,CAACvB,WAAN,CAAkB;AACrC,QAAIgV,eAAJ,oBAAIA,eAAe,CAAE9X,OAArB,EAA8B;AAC5B8X,MAAAA,eAAe,CAAC9X,OAAhB,CAAwBoY,KAAxB;AACD,KAFD,MAEO;AACL,UAAI,EAACJ,UAAD,oBAACA,UAAU,CAAEhY,OAAb,CAAJ,EAA0B;AACxB;AACD;;AACD,UAAMqY,UAAU,GAAGhB,aAAa,CAACW,UAAU,CAAChY,OAAZ,CAAhC;;AACA,UAAIgY,UAAU,CAAChY,OAAX,IAAsB,CAACqY,UAAU,CAACxH,MAAtC,EAA8C;AAAA;;AAC5C,+BAAAmH,UAAU,CAAChY,OAAX,yCAAoBoY,KAApB;AACD;AACF;AACF,GAZoB,EAYlB,CAACN,eAAD,EAAkBE,UAAlB,CAZkB,CAArB;AAcA,MAAMM,cAAc,GAAGjU,cAAK,CAACvB,WAAN,CAAkB;;;AACvCiV,IAAAA,aAAa,QAAb,qCAAAA,aAAa,CAAE/X,OAAf,2CAAwBoY,KAAxB;AACD,GAFsB,EAEpB,CAACL,aAAD,CAFoB,CAAvB;AAIA,MAAMQ,WAAW,GAAGN,YAAY,IAAI,CAACF,aAArC;AAEA,SACEhb,eAAC,cAAD;AACE,IAAA,SAAS,EAAEmb,SADb;AAEE,IAAA,QAAQ,EAAE/X,QAFZ;AAGE,IAAA,YAAY,EAAEgY,YAHhB;AAIE,IAAA,cAAc,EAAEG,cAJlB;AAKE,IAAA,WAAW,EAAEC,WALf;AAAA,cAOG1b;AAPH,IADF;AAWD;;SChCe2b;MAAaC,gBAAAA;MAAUC,kBAAAA;AACrCrU,EAAAA,cAAK,CAACtE,SAAN,CAAgB;AACd,QAAI,CAAC0Y,QAAQ,CAACzY,OAAd,EAAuB;AAEvB,QAAI2Y,IAAI,GAAgB,IAAxB;;AAEA,QAAID,UAAU,IAAID,QAAQ,CAACzY,OAA3B,EAAoC;AAClC2Y,MAAAA,IAAI,GAAGC,qBAAU,CAACH,QAAQ,CAACzY,OAAV,CAAjB;AACD;;AAGD,WAAO;AACL,UAAI0Y,UAAJ,EAAgB;AACdC,QAAAA,IAAI,QAAJ,YAAAA,IAAI;AACL;AACF,KAJD;AAKD,GAfD,EAeG,CAACD,UAAD,EAAaD,QAAb,CAfH;AAiBA,SAAO,IAAP;AACD;;oCClB+CjO,2BAAa,CAAoB;AAC/EC,EAAAA,MAAM,EAAE,IADuE;AAE/E/C,EAAAA,IAAI,EAAE;AAFyE,CAApB;IAAtDmR;IAAsBC;;SCRLC,mBAAmBtc;sBACfA,MAAlBuc;MAAAA,oCAAS;AACjB,MAAM3b,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,OAAoCgb,MAAM;AAAA;AAAA,KAA1C;AADE,GAAf;AAIA,SAAO/Z,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACJD,IAAM4b,SAAS,gBAAG5U,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAwBC,GAAxB;MACjBgB,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;yBACSqc,eAAe;+CAAxDrb;MAAAA,0DAAuB;MAAOyb,0BAAAA;;AACtC,MAAM7b,MAAM,GAAGU,6BAAe,CAACgb,kBAAkB,CAACtc,KAAD,CAAnB,EAA4BgB,oBAA5B,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,EAAE,EAAEwc,MAAnB;AAA2B,IAAA,GAAG,oBAAE,CAAC7b,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAA9B,KAAoEZ,IAApE,EAAP;AACD,CANiB,CAAlB;;AAQA,IAAI2J,qBAAJ,EAAa;AACXwS,EAAAA,SAAS,CAACvS,WAAV,GAAwB,WAAxB;AACD;;SCfuByS;AACtB,MAAM9b,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE;AAIbob,IAAAA,IAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJO,GAAf;AAOA,SAAOna,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACJD,IAAMgc,gBAAgB,gBAAGhV,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAA+BC,GAA/B;yBACUoc,eAAe;MAAzDQ,2BAAAA;+CAAS7b;MAAAA,0DAAuB;;MAChC8G,UAA0D9H,MAA1D8H;qBAA0D9H,MAAjDmC;MAAAA,kCAAQ;MAAiBlB,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;AAClE,MAAMY,MAAM,GAAGU,6BAAe,CAACob,yBAAyB,EAA1B,EAA8B1b,oBAA9B,CAA9B;AAEA,SACEiL;AACE,IAAA,GAAG,EAAEhM,GADP;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE6c,6BAAe,CAAChV,OAAD,EAAU+U,OAAV,CAH1B;AAIE,kBAAY1a,KAJd;AAKE,IAAA,GAAG,oBAAE,CAACvB,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AALL,KAMMZ,IANN;AAAA,yBASEC,eAACyc,QAAD;AAAW,MAAA,GAAG,EAAEnc,MAAM,CAAC+b;AAAvB,MATF;AAAA,KADF;AAaD,CAlBwB,CAAzB;;AAoBA,IAAI3S,qBAAJ,EAAa;AACX4S,EAAAA,gBAAgB,CAAC3S,WAAjB,GAA+B,kBAA/B;AACD;;SC3BuB+S;AACtB,MAAMpc,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADE,GAAf;AAIA,SAAOiB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACAD,IAAMqc,WAAW,gBAAGrV,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAA0BC,GAA1B;MACnBgB,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;yBACCqc,eAAe;+CAAhDrb;MAAAA,0DAAuB;;AAC/B,MAAMJ,MAAM,GAAGU,6BAAe,CAAC0b,oBAAoB,EAArB,EAAyBhc,oBAAzB,CAA9B;MACQZ,WAAaJ,MAAbI;;0BACgBic,eAAe;gDAA/B9X;MAAAA,0CAAO;;AACf,MAAM2Y,cAAc,GAAqB,CAAC,IAAD,EAAO,IAAP,CAAzC;;AAEA,MAAI/b,cAAQ,CAACgc,OAAT,CAAiB/c,QAAjB,EAA2BgU,MAA3B,KAAsC,CAA1C,EAA6C;AAC3C8I,IAAAA,cAAc,CAACpc,IAAf,CAAoB,IAApB;AACD;;AAED,MAAMmG,SAAS,GAAGiW,cAAc,CAAClY,QAAf,CAAwBT,IAAxB,CAAlB;AAEA,SACEjE,eAAC,WAAD;AACE,IAAA,GAAG,EAAEL,GADP;AAEE,IAAA,SAAS,EAAEgH,SAFb;AAGE,IAAA,GAAG,oBAAE,CAACrG,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,2rDAHL;AAIE,IAAA,oBAAoB,EAAED;AAJxB,KAKMX,IALN,EADF;AASD,CAvBmB,CAApB;;AAyBA,IAAI2J,qBAAJ,EAAa;AACXiT,EAAAA,WAAW,CAAChT,WAAZ,GAA0B,aAA1B;AACD;;SCjCuBmT;AACtB,MAAMxc,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADE,GAAf;AAIA,SAAOiB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACDD,IAAMyc,WAAW,gBAAGzV,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAA0BC,GAA1B;MACnBgB,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;yBACCqc,eAAe;+CAAhDrb;MAAAA,0DAAuB;;AAC/B,MAAMJ,MAAM,GAAGU,6BAAe,CAACgc,cAAoB,EAArB,EAAyBtc,oBAAzB,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL,GAAV;AAAe,IAAA,EAAE,EAAC,QAAlB;AAA2B,IAAA,GAAG,oBAAE,CAACW,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAA9B,KAAoEZ,IAApE,EAAP;AACD,CANmB,CAApB;;AAQA,IAAI2J,qBAAJ,EAAa;AACXqT,EAAAA,WAAW,CAACpT,WAAZ,GAA0B,aAA1B;AACD;;AChBD,IAAIsT,MAAM,GAAmB,EAA7B;AAMA,AAAO,IAAMC,YAAY,GAAG;AAI1BC,EAAAA,GAAG,EAAE,aAACC,QAAD;AACHH,IAAAA,MAAM,CAACzc,IAAP,CAAY4c,QAAZ;AACD,GANyB;AAW1BxD,EAAAA,MAAM,EAAE,gBAACyD,QAAD;AACNJ,IAAAA,MAAM,GAAGA,MAAM,CAACtQ,MAAP,CAAc,UAAC2Q,KAAD;AAAA,aAAWA,KAAK,KAAKD,QAArB;AAAA,KAAd,CAAT;AACD,GAbyB;AAkB1BE,EAAAA,UAAU,EAAE,oBAACD,KAAD;AAAA,WAAyB,CAAC,CAACL,MAAM,CAACnJ,MAAT,IAAmBmJ,MAAM,CAACA,MAAM,CAACnJ,MAAP,GAAgB,CAAjB,CAAN,KAA8BwJ,KAA1E;AAAA;AAlBc,CAArB;AAqBP,SAAgBE,gBAAgB7d,KAAmB0T;AACjDrQ,EAAAA,eAAS,CAAC;AACR,QAAIqQ,IAAJ,EAAU;AACR6J,MAAAA,YAAY,CAACC,GAAb,CAAiBxd,GAAjB;AACD;;AACD,WAAO;AACLud,MAAAA,YAAY,CAACtD,MAAb,CAAoBja,GAApB;AACD,KAFD;AAGD,GAPQ,EAON,CAAC0T,IAAD,EAAO1T,GAAP,CAPM,CAAT;AAQD;;SCnCuB8d;AACtB,MAAMnd,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AADE,GAAf;AAIA,SAAOiB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACDD,IAAMod,UAAU,gBAAGpW,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAyBC,GAAzB;MAClBgB,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;yBACUqc,eAAe;+CAAzDrb;MAAAA,0DAAuB;MAAOid,2BAAAA;;AACtC,MAAMrd,MAAM,GAAGU,6BAAe,CAACyc,mBAAmB,EAApB,EAAwB/c,oBAAxB,CAA9B;AAEA,SAAOV,eAAC,IAAD;AAAM,IAAA,GAAG,EAAEL,GAAX;AAAgB,IAAA,EAAE,EAAEge,OAApB;AAA6B,IAAA,QAAQ,MAArC;AAAsC,IAAA,GAAG,oBAAE,CAACrd,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAzC,KAA+EZ,IAA/E,EAAP;AACD,CANkB,CAAnB;;AAQA,IAAI2J,qBAAJ,EAAa;AACXgU,EAAAA,UAAU,CAAC/T,WAAX,GAAyB,YAAzB;AACD;;ACfD,IAAMiU,MAAM,GAEP,SAFCA,MAED,CAACle,KAAD;AACH,sBAAOma,QAAQ,CAACC,YAAT,CAAsBpa,KAAK,CAACI,QAA5B,EAAsCJ,KAAK,CAAC+L,MAA5C,CAAP;AACD,CAJD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGA,IAAMoS,gBAAgB,gBAAGC,cAAH,iCAAtB;AASA,IAAMC,iBAAiB,gBAAGD,cAAH,kCAAvB;AASA,IAAME,cAAc,gBAAGF,cAAH,kCAApB;AAWA,IAAMG,eAAe,gBAAGH,cAAH,kCAArB;;AAWA,SAASI,YAAT,CAAsBja,IAAtB;AACE,UAAQA,IAAR;AACE,SAAK,IAAL;AACE;AAAA;AAAA;;AACF,SAAK,IAAL;AACE;AAAA;AAAA;;AACF,SAAK,IAAL;AACE;AAAA;AAAA;;AACF,SAAK,IAAL;AACE;AAAA;AAAA;;AACF,SAAK,IAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,KAAL;AACE;AAAA;AAAA;;AACF,SAAK,WAAL;AACE;AAAA;AAAA;;AACF,SAAK,WAAL;AACE;AAAA;AAAA;;AACF,SAAK,WAAL;AACE;AAAA;AAAA;;AACF,SAAK,WAAL;AACE;AAAA;AAAA;;AACF,SAAK,YAAL;AACE;AAAA;AAAA;;AACF;AACE;AAAA;AAAA;AAlCJ;AAoCD;;AAED,SAAgBka,eAAeze;MAE3B2T,OAQE3T,MARF2T;8BAQE3T,MAPF0e;MAAAA,uDAAoB;MACpBC,mBAME3e,MANF2e;MACAC,oBAKE5e,MALF4e;MACAC,qBAIE7e,MAJF6e;MACAC,sBAGE9e,MAHF8e;sBAGE9e,MAFF+e;MAAAA,oCAAS;oBAEP/e,MADFuE;MAAAA,gCAAO;AAGT,MAAMya,SAAS,GAAGR,YAAY,CAACja,IAAD,CAA9B;AAEA,MAAM3D,MAAM,GAAG;AACbqe,IAAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEPtL,IAAI,gBACA9S,QADA,eAEege,kBAFf,WAEeA,kBAFf,GAEqCV,gBAFrC,OAEyDO,iBAFzD,8wJAIA7d,QAJA,eAKeie,mBALf,WAKeA,mBALf,GAKsCT,iBALtC,OAK2DK,iBAL3D,+vJAFG,CADI;AAWbQ,IAAAA,YAAY,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXD;AAYb3d,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEToS,IAAI,gBACA9S,QADA,eAEe8d,gBAFf,WAEeA,gBAFf,GAEmCL,cAFnC,OAEqDI,iBAFrD,gxJAIA7d,QAJA,eAKe+d,iBALf,WAKeA,iBALf,GAKoCL,eALpC,OAKuDG,iBALvD,iwJAFK,CAZE;AAsBbS,IAAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGPJ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,KAHC,EAIPC,SAJO;AAtBI,GAAf;AA8BA,SAAOxc,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;AC/HM,IAAMwe,aAAa,GAAG,SAAhBA,aAAgB,CAC3BpD,QAD2B,EAE3BrI,IAF2B,EAG3B0L,UAH2B,EAI3BC,WAJ2B;AAM3B,MAAMC,MAAM,GAAGlc,YAAM,CAAiB,IAAjB,CAArB;AAEAC,EAAAA,eAAS,CAAC;AACR,QAAIqQ,IAAI,IAAIqI,QAAQ,CAACzY,OAAjB,IAA4B+b,WAAhC,EAA6C;AAC3CC,MAAAA,MAAM,CAAChc,OAAP,GAAiByY,QAAQ,CAACzY,OAA1B;AACAic,MAAAA,gCAAiB,CAACxD,QAAQ,CAACzY,OAAV,CAAjB;AACD;;AACD,WAAO;AACL,UAAIgc,MAAM,CAAChc,OAAX,EAAoB;AAClBkc,QAAAA,+BAAgB,CAACF,MAAM,CAAChc,OAAR,CAAhB;AACAgc,QAAAA,MAAM,CAAChc,OAAP,GAAiB,IAAjB;AACD;AACF,KALD;AAMD,GAXQ,EAWN,CAACoQ,IAAD,EAAO0L,UAAP,EAAmBrD,QAAnB,CAXM,CAAT;AAYD,CApBM;;ACgBP,IAAM0D,KAAK,GAAG,SAARA,KAAQ,CAAC1f,KAAD;MAEV2T,OA6BE3T,MA7BF2T;2BA6BE3T,MA5BFsf;MAAAA,8CAAc;0BA4BZtf,MA3BF2f;MAAAA,4CAAa;8BA2BX3f,MA1BF4f;MAAAA,yDAAsB;MACtBre,YAyBEvB,MAzBFuB;oBAyBEvB,MAxBF6f;MAAAA,gCAAO;MACPC,kBAuBE9f,MAvBF8f;MACAC,iBAsBE/f,MAtBF+f;MACAC,UAqBEhgB,MArBFggB;MACAnD,UAoBE7c,MApBF6c;MACAoD,eAmBEjgB,MAnBFigB;yBAmBEjgB,MAlBFkgB;MAAAA,0CAAY;yBAkBVlgB,MAjBFyb;MAAAA,0CAAY;MACZJ,kBAgBErb,MAhBFqb;MACAC,gBAeEtb,MAfFsb;8BAeEtb,MAdFmgB;MAAAA,wDAAqB;MACrBC,iBAaEpgB,MAbFogB;MACAC,iBAYErgB,MAZFqgB;MACAjgB,WAWEJ,MAXFI;8BAWEJ,MAVFgB;MAAAA,0DAAuB;MACfC,aASNjB,MATFY;MACA0f,iBAQEtgB,MARFsgB;MACAC,0BAOEvgB,MAPFugB;MACAC,mBAMExgB,MANFwgB;MACAC,uBAKEzgB,MALFygB;MACAC,qBAIE1gB,MAJF0gB;oBAIE1gB,MAHFuE;MAAAA,gCAAO;MACPoc,gBAEE3gB,MAFF2gB;wBAEE3gB,MADF4gB;MAAAA,wCAAW;AAEb,MAAM5E,QAAQ,GAAG3Y,YAAM,CAAiB,IAAjB,CAAvB;AACA,MAAMwd,cAAc,GAAGxd,YAAM,CAAiB,IAAjB,CAA7B;AACA,MAAMyd,YAAY,GAAGzd,YAAM,CAAwB,IAAxB,CAA3B;AACA,MAAMzC,MAAM,GAAGU,6BAAe,CAACmd,cAAc,cAAMze,KAAN;AAAauE,IAAAA,IAAI,EAAJA;AAAb,KAAf,EAAqCvD,oBAArC,CAA9B;;AAIA,MAAI8f,YAAY,CAACvd,OAAb,KAAyB,IAAzB,IAAiC,CAACwC,mBAAK,EAA3C,EAA+C;AAC7C+a,IAAAA,YAAY,CAACvd,OAAb,GAAuBwd,QAAQ,CAACzH,aAAT,CAAuB,KAAvB,CAAvB;AACD;;kBAImC9T,cAAQ,CAAC,KAAD;MAArC6Z;MAAY2B;;AAGnBlD,EAAAA,eAAe,CAAC9B,QAAD,EAAWrI,IAAX,CAAf;AAGAyL,EAAAA,aAAa,CAACpD,QAAD,EAAWrI,IAAX,EAAiB0L,UAAjB,EAA6BC,WAA7B,CAAb;;AAEA,MAAM2B,aAAa,GAAG,SAAhBA,aAAgB,CAACta,KAAD;AAEpB,QAAIA,KAAK,CAACua,OAAN,KAAkB,EAAlB,IAAwB,CAAC1D,YAAY,CAACK,UAAb,CAAwB7B,QAAxB,CAA7B,EAAgE;AAC9D;AACD;;AAEDiE,IAAAA,YAAY,QAAZ,YAAAA,YAAY,CAAGtZ,KAAH,CAAZ;;AAEA,QAAIgZ,UAAJ,EAAgB;AACd9C,MAAAA,OAAO;AACR;AACF,GAXD;;AAaA,MAAMsE,UAAU,GAAG,SAAbA,UAAa;AACjB,QAAIL,YAAY,CAACvd,OAAb,IAAwB,CAAChC,SAAzB,IAAsC,CAACwf,QAAQ,CAACK,IAAT,CAAcC,QAAd,CAAuBP,YAAY,CAACvd,OAApC,CAA3C,EAAyF;AACvFwd,MAAAA,QAAQ,CAACK,IAAT,CAAcE,WAAd,CAA0BR,YAAY,CAACvd,OAAvC;AACD;;AAEDwd,IAAAA,QAAQ,CAACxQ,gBAAT,CAA0B,SAA1B,EAAqC0Q,aAArC;AACD,GAND;;AAQA,MAAMM,WAAW,GAAG,SAAdA,WAAc;AAClB,QAAIT,YAAY,CAACvd,OAAb,IAAwB,CAAChC,SAAzB,IAAsCwf,QAAQ,CAACK,IAAT,CAAcC,QAAd,CAAuBP,YAAY,CAACvd,OAApC,CAA1C,EAAwF;AACtFwd,MAAAA,QAAQ,CAACK,IAAT,CAAcI,WAAd,CAA0BV,YAAY,CAACvd,OAAvC;AACD;;AACDwd,IAAAA,QAAQ,CAACU,mBAAT,CAA6B,SAA7B,EAAwCR,aAAxC;AACD,GALD;;AAOA3d,EAAAA,eAAS,CAAC;AACR,WAAO;AACL,UAAI+b,UAAJ,EAAgB;AAEdkC,QAAAA,WAAW;AACZ;AACF,KALD;AAMD,GAPQ,EAON,CAAClC,UAAD,CAPM,CAAT;AASA/b,EAAAA,eAAS,CAAC;AAGR,QAAIqQ,IAAI,IAAI,CAAC0L,UAAb,EAAyB;AACvB2B,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAG,MAAAA,UAAU;AACX;AACF,GAPQ,EAON,CAACxN,IAAD,CAPM,CAAT;;AASA,MAAM+N,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC/a,KAAD;AACzB,QAAIka,cAAc,CAACtd,OAAf,KAA2B,IAA/B,EAAqC;AACnCsd,MAAAA,cAAc,CAACtd,OAAf,GAAyB,IAAzB;AACD;;AAED,QAAI,CAACsd,cAAc,CAACtd,OAApB,EAA6B;AAC3Bsd,MAAAA,cAAc,CAACtd,OAAf,GAAyB,IAAzB;AACA;AACD;;AAED6c,IAAAA,cAAc,QAAd,YAAAA,cAAc,CAAGzZ,KAAH,CAAd;;AAEA,QAAIiZ,mBAAJ,EAAyB;AACvB/C,MAAAA,OAAO;AACR;;AAEDgE,IAAAA,cAAc,CAACtd,OAAf,GAAyB,IAAzB;AACD,GAjBD;;AAmBA,MAAMoe,gBAAgB,GAAG,SAAnBA,gBAAmB;AACvBd,IAAAA,cAAc,CAACtd,OAAf,GAAyB,KAAzB;AACD,GAFD;;AAIA,MAAMqe,kBAAkB,GAAG,SAArBA,kBAAqB;AACzB,QAAI,CAACjO,IAAL,EAAW;AACTqN,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD;;AACDX,IAAAA,cAAc,QAAd,YAAAA,cAAc;AACf,GALD;;AAOA,MAAMwB,cAAc,GAAGtgB,SAAS,IAAIuf,YAAY,CAACvd,OAAjD;AAEA,MAAM4U,OAAO,GAAG;AACd8F,IAAAA,OAAO,EAAE8B,cADK;AAEdtD,IAAAA,MAAM,EAAEqD,eAFM;AAGd9e,IAAAA,oBAAoB,EAApBA,oBAHc;AAIduD,IAAAA,IAAI,EAAJA,IAJc;AAKdsY,IAAAA,OAAO,EAAPA,OALc;AAMdlJ,IAAAA,IAAI,EAAJA;AANc,GAAhB;AASA,SAAO0L,UAAU,IAAIwC,cAAd,GACLvhB,eAAC,MAAD;AAAQ,IAAA,MAAM,EAAEuhB,cAAhB;AAAA,cACEvhB,eAAC,oBAAD;AAAsB,MAAA,KAAK,EAAE6X,OAA7B;AAAA,gBACElM,gBAAC,SAAD;AACE,QAAA,SAAS,EAAEwP,SADb;AAEE,QAAA,QAAQ,EAAE,CAACyE,SAFb;AAGE,QAAA,UAAU,EAAElE,QAHd;AAIE,QAAA,eAAe,EAAEX,eAJnB;AAKE,QAAA,aAAa,EAAEC,aALjB;AAME,QAAA,YAAY,EAAE6E,kBANhB;AAAA,mBAQElU,gBAAC,GAAD;AAAK,UAAA,SAAS,EAAE0U,aAAhB;AAA+B,UAAA,GAAG,EAAE1f,UAApC;AAAA,qBACEX,eAAC,GAAD;AACE,YAAA,SAAS,EAAE+I,UAAU,CAACmX,gBAAD,EAAmB7M,IAAI,GAAG8M,oBAAH,GAA0B,EAAjD,CADvB;AAEE,+BAFF;AAGE,YAAA,GAAG,EAAE7f,MAAM,CAACqe,OAHd;AAAA,sBAKE3e,eAAC,GAAD;AAAK,cAAA,GAAG,EAAEM,MAAM,CAACse;AAAjB;AALF,YADF,EAQE5e,eAAC,GAAD;AACE,YAAA,GAAG,EAAE0b,QADP;AAEE,YAAA,SAAS,EAAEuE,uBAFb;AAGE,YAAA,GAAG,EAAE3f,MAAM,CAACW,SAHd;AAIE,2BAAY,iBAJd;AAKE,YAAA,cAAc,EAAEqgB,kBALlB;AAME,YAAA,OAAO,EAAEF,kBANX;AAAA,sBAQEphB,eAAC,GAAD;AACE,6BAAY,OADd;AAEE,cAAA,SAAS,EAAE+I,UAAU,CAACiX,cAAD,EAAiB3M,IAAI,GAAG+M,kBAAH,GAAwB,EAA7C,CAFvB;AAGE,cAAA,WAAW,EAAEiB,gBAHf;AAIE,cAAA,SAAS,EAAEA,gBAJb;AAKE,cAAA,OAAO,EAAEA,gBALX;AAME,cAAA,EAAE,EAAE3B,OANN;AAOE,cAAA,IAAI,EAAEH,IAPR;AAQE,4BAAW,MARb;AASE,iCAAiBE,cATnB;AAUE,kCAAkBD,eAVpB;AAWE,cAAA,GAAG,EAAElf,MAAM,CAACue,OAXd;AAAA,wBAaG/e;AAbH;AARF,YARF;AAAA,UARF,EAyCEE,eAAC,UAAD;AAAY,UAAA,QAAQ,EAAE0b,QAAtB;AAAgC,UAAA,UAAU,EAAErI,IAAI,IAAIiN;AAApD,UAzCF;AAAA;AADF;AADF,IADK,GAgDH,IAhDJ;AAiDD,CA7LD;;AA+LA,IAAI5W,qBAAJ,EAAa;AACX0V,EAAAA,KAAK,CAACzV,WAAN,GAAoB,OAApB;AACD;;SC9MuB6X,oBAAoB9hB;qBACbA,MAArBkF;MAAAA,kCAAQ;AAChB,MAAM6c,oBAAoB,GAAG9c,iBAAiB,CAAC;AAAEC,IAAAA,KAAK,EAALA;AAAF,GAAD,CAA9C;AACA,MAAM8c,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;AAEA,MAAMphB,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA,OAAWwgB,oBAAX,CADE;AAEbE,IAAAA,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBD,YAAtB,CAFH;AAGbE,IAAAA,aAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBF,YAApB,CAHF;AAIbG,IAAAA,kBAAkB,EAAE;AAAA;AAAA;AAAA;AAJP,GAAf;AAOA,SAAO3f,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACND,IAAMwhB,WAAW,GAAG;AAClBjgB,EAAAA,KAAK,EAAE,YADW;AAElBkgB,EAAAA,QAAQ,EAAE,UAFQ;AAGlBC,EAAAA,IAAI,EAAE,MAHY;AAIlBC,EAAAA,IAAI,EAAE,eAJY;AAKlBhf,EAAAA,OAAO,EAAE;AALS,CAApB;AAQA,IAAMif,UAAU,gBAAG5a,UAAA,CAAW,UAAC5H,KAAD;2BACLyiB,iBAAiB;MAAhCxiB,yBAAAA;MAAKgR,2BAAAA;;MAEXyR,WAmBE1iB,MAnBF0iB;MACAC,eAkBE3iB,MAlBF2iB;MACAC,iBAiBE5iB,MAjBF4iB;MACAL,OAgBEviB,MAhBFuiB;MACAM,YAeE7iB,MAfF6iB;MACAxX,WAcErL,MAdFqL;MACMyX,WAaJ9iB,MAbF+iB;MACAC,kBAYEhjB,MAZFgjB;8BAYEhjB,MAXFijB;MAAAA,qDAAkB;MAClBC,gBAUEljB,MAVFkjB;MACAC,gBASEnjB,MATFmjB;MACAC,0BAQEpjB,MARFojB;MACAC,kBAOErjB,MAPFqjB;MACQpiB,aAMNjB,MANFY;8BAMEZ,MALFgB;MAAAA,0DAAuB;MACvBsiB,eAIEtjB,MAJFsjB;2BAIEtjB,MAHFujB;MAAAA,8CAAc;uBAGZvjB,MAFFwjB;MAAAA,sCAAUvS,KAAK,IAAIA,KAAK,GAAG;MACxB5Q,qCACDL;;AACJ,MAAMoD,WAAW,GAAGD,cAAc,EAAlC;AACA,MAAMvC,MAAM,GAAGU,6BAAe,CAACwgB,mBAAmB,CAAC9hB,KAAD,CAApB,EAA6BgB,oBAA7B,CAA9B;;AACA,MAAM+hB,IAAI,gBAAQX,WAAR,EAAwBU,QAAxB,CAAV;;AAGAlb,EAAAA,eAAA,CAAgB;AACd,QAAI,CAAC7B,mBAAK,EAAV,EAAc;AACZ0d,MAAAA,YAAY,CAACC,QAAb;AACD;AACF,GAJD,EAIG,EAJH;AAOA9b,EAAAA,eAAA,CAAgB;AACd,QAAIxE,WAAW,IAAI2C,mBAAK,EAAxB,EAA4B;AAC1B;AACD;;AAED,QAAM4d,aAAa,GAAoB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAvC;AACA,QAAI7X,MAAM,GAAmB,IAA7B;;AAEA,QAAI8X,sBAAQ,CAACP,YAAD,CAAZ,EAA4B;AAC1BvX,MAAAA,MAAM,GAAGgV,QAAQ,CAAC+C,aAAT,CAAuBR,YAAvB,CAAT;AACD,KAFD,MAEO,IAAIA,YAAJ,EAAkB;AACvBvX,MAAAA,MAAM,GAAGuX,YAAT;AACD;;AAGD,QAAIC,WAAJ,EAAiB;AAAA;;AACf,kBAACxX,MAAD,sBAAWgV,QAAQ,CAACK,IAApB,EAA0B2C,cAA1B,CAAyCJ,aAAzC;AACD;;AAGD,QAAI5X,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACiY,QAAP,cAAqBL,aAArB;AAAoCM,QAAAA,GAAG,EAAE;AAAzC;AACD;AACF,GAvBD,EAuBG,CAAC1B,IAAD,CAvBH;AA0BA,MAAM2B,KAAK,GAAGtc,aAAA,CAAc;AAC1B,QAAI,CAAC+a,YAAD,IAAiB,CAACC,cAAtB,EAAsC;AACpC,aAAOhe,SAAP;AACD;;AAED,QAAI,CAACie,SAAL,EAAgB;AACd,aAAOsB,IAAI,CAACC,IAAL,CAAUzB,YAAY,GAAGC,cAAzB,CAAP;AACD;;AAED,WAAOC,SAAP;AACD,GAVa,EAUX,CAACA,SAAD,EAAYF,YAAZ,EAA0BC,cAA1B,CAVW,CAAd;AAYA,MAAMyB,aAAa,GAAGzc,iBAAA,CACpB,UAAC0c,SAAD,EAAqBvY,MAArB;AAAA,WAAwC;AACtC,UAAIA,MAAM,KAAKwW,IAAX,IAAmB+B,SAAvB,EAAkC;AAChC;AACD;;AAEDjZ,MAAAA,QAAQ,CAACkZ,mBAAK,CAACxY,MAAD,EAAS,CAAT,EAAYmY,KAAZ,CAAN,CAAR;AACD,KAND;AAAA,GADoB,EAQpB,CAAC7Y,QAAD,EAAWkX,IAAX,EAAiB2B,KAAjB,CARoB,CAAtB;;AAWA,MAAMM,aAAa,GAAG,SAAhBA,aAAgB;AACpB,QAAMC,KAAK,GAAG,CAAd;AACA,QAAMC,MAAM,GAAGP,IAAI,CAACC,IAAL,CAAUK,KAAK,GAAG,CAAlB,CAAf;AACA,QAAIE,MAAM,GAAG,CAAb;;AAEA,QAAI,CAACT,KAAL,EAAY;AACV,aAAO,IAAP;AACD;;AAED,QAAIA,KAAK,GAAGO,KAAZ,EAAmB;AACjB,UAAIlC,IAAI,GAAGkC,KAAX,EAAkB;AAChBE,QAAAA,MAAM,GAAG,CAAT;AACD,OAFD,MAEO;AACL,YAAMC,GAAG,GAAGV,KAAK,GAAGO,KAApB;AACAE,QAAAA,MAAM,GAAGJ,mBAAK,CAAChC,IAAI,GAAGqC,GAAP,GAAaA,GAAb,GAAmBrC,IAAI,GAAGmC,MAA3B,EAAmC,CAAnC,EAAsCE,GAAtC,CAAd;AACD;AACF;;AAED,QAAMhiB,KAAK,GAAyB2W,KAAK,CAACC,IAAN,CAAWD,KAAK,CAACgL,mBAAK,CAACL,KAAD,EAAQ,CAAR,EAAWO,KAAX,CAAN,CAAhB,EAA0C1a,GAA1C,CAClC,UAAC8a,CAAD,EAAIxX,KAAJ;AAAA,aAAcyX,MAAM,CAACzX,KAAD,CAAN,GAAgBsX,MAA9B;AAAA,KADkC,CAApC;;AAIA,QAAIT,KAAK,GAAGO,KAAZ,EAAmB;AAEjB,UAAIE,MAAM,GAAG,CAAb,EAAgB;AACd/hB,QAAAA,KAAK,CAACmiB,OAAN,CAAc,CAAd,EAAiB,IAAjB;AACD;;AAGD,UAAMC,SAAS,GAAGd,KAAK,GAAG,CAA1B;;AAEA,UAAI,CAACthB,KAAK,CAACoC,QAAN,CAAeggB,SAAf,CAAD,IAA8Bd,KAAK,GAAGO,KAAK,GAAG,CAAlD,EAAqD;AACnD7hB,QAAAA,KAAK,CAAC9B,IAAN,CAAW,IAAX,EAAiBkkB,SAAjB;AACD;AACF;;AAED,WAAOpiB,KAAK,CAACmH,GAAN,CAAU,UAACsE,IAAD,EAAOhB,KAAP;;;AACf,UAAIgB,IAAI,KAAK,IAAb,EAAmB;AACjB,eACE/N,eAAC,GAAD;AACE,UAAA,EAAE,EAAC,MADL;AAGE,UAAA,GAAG,EAAEM,MAAM,CAACqhB,cAHd;AAIE,UAAA,SAAS,EAAEmB,uBAJb;AAAA;AAAA,gCAE0B/V,KAF1B,CADF;AAUD;;AAED,UAAM4X,MAAM,GAAG5W,IAAI,GAAG,CAAtB;AACA,UAAM9L,MAAM,GAAG0iB,MAAM,KAAK1C,IAA1B;AACA,UAAM2C,QAAQ,GAAG3iB,MAAM,GAAGwgB,IAAI,CAACxf,OAAR,GAAkBwf,IAAI,CAACR,IAA9C;AACA,UAAMjX,SAAS,GAAG4N,wBAAU,CAACgM,QAAD,CAAV,GAAuBA,QAAQ,CAAC;AAAE3C,QAAAA,IAAI,EAAE0C;AAAR,OAAD,CAA/B,GAAoDC,QAAtE;AAEA,aACE5kB,eAAC,MAAD;AAEE,QAAA,UAAU,EAAEiC,MAAM,GAAG,SAAH,GAAeqC,SAFnC;AAGE,wBAAcrC,MAAM,GAAG,MAAH,GAAYqC,SAHlC;AAIE,sBAAY0G,SAJd;AAKE,QAAA,OAAO,EAAE+Y,aAAa,CAAC,KAAD,EAAQY,MAAR,CALxB;AAME,QAAA,SAAS,EAAE5b,UAAU,CAAC2Z,eAAD,iCAAqBC,eAArB,IAAuC1gB,MAAvC,eANvB;AAAA,kBAQG0iB,MAAM,CAACE,cAAP,CAAsBzC,QAAtB;AARH,SACOrU,IADP,CADF;AAYD,KA/BM,CAAP;AAgCD,GApED;;AAsEA,MAAI,CAAC6V,KAAD,IAAUA,KAAK,IAAI,CAAvB,EAA0B;AACxB,WAAO,IAAP;AACD;;AAED,MAAMkB,WAAW,GAAG7C,IAAI,GAAG,CAA3B;AACA,MAAM8C,OAAO,GAAG9C,IAAI,GAAG2B,KAAvB;AAEA,SACEjY,gBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,KAAhB;AAAsB,IAAA,GAAG,EAAEhM,GAA3B;AAAgC,kBAAY8iB,IAAI,CAAC5gB,KAAjD;AAAwD,IAAA,QAAQ,MAAhE;AAAiE,IAAA,GAAG,oBAAE,CAACvB,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAApE,KAA0GZ,IAA1G;AAAA,eACE4L,gBAAC,MAAD;AACE,MAAA,OAAO,EAAC,SADV;AAEE,MAAA,QAAQ,EAAE,CAACmZ,WAFb;AAGE,MAAA,OAAO,EAAEf,aAAa,CAAC,CAACe,WAAF,EAAe7C,IAAI,GAAG,CAAtB,CAHxB;AAIE,oBAAYQ,IAAI,CAACV,QAJnB;AAKE,MAAA,SAAS,EAAEhZ,UAAU,CAAC8Z,aAAD,EAAgBH,eAAhB,CALvB;AAME,MAAA,GAAG,EAAC,MANN;AAAA,2BAUE1iB,eAACglB,cAAD,KAVF;AAAA,OAOM,MAPN,CADF,EAcG9B,OAAO,GACNvX,gBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAErL,MAAM,CAACshB,aAA3B;AAA0C,MAAA,SAAS,EAAEmB,eAArD;AAAA,iBACGd,IAAI,CAAC4C,cAAL,CAAoBzC,QAApB,CADH,EAEEpiB,eAAC,GAAD;AAAK,QAAA,EAAE,EAAC,MAAR;AAAe,QAAA,GAAG,EAAEM,MAAM,CAACuhB,kBAA3B;AAAA,0BAAsD+B,KAAK,CAACiB,cAAN,CAAqBzC,QAArB;AAAtD,QAFF;AAAA,OAA0E,QAA1E,CADM,GAMN8B,aAAa,EApBjB,EAuBEvY,gBAAC,MAAD;AACE,MAAA,OAAO,EAAC,SADV;AAEE,MAAA,QAAQ,EAAE,CAACoZ,OAFb;AAGE,MAAA,OAAO,EAAEhB,aAAa,CAAC,CAACgB,OAAF,EAAW9C,IAAI,GAAG,CAAlB,CAHxB;AAIE,oBAAYQ,IAAI,CAACT,IAJnB;AAKE,MAAA,SAAS,EAAEjZ,UAAU,CAAC6Z,aAAD,EAAgBF,eAAhB,CALvB;AAME,MAAA,GAAG,EAAC,MANN;AAAA,2BAUE1iB,eAACilB,eAAD,KAVF;AAAA,OAOM,MAPN,CAvBF;AAAA,KADF;AAsCD,CAvMkB,CAAnB;;SCfwBC,eAAexlB;uBACCA,MAA9B2D;MAAAA,sCAAU;MAAO4G,WAAavK,MAAbuK;AACzB,MAAMH,UAAU,GAAG9F,WAAW,CAAC;AAAEC,IAAAA,IAAI,EAAEgG;AAAR,GAAD,CAA9B;;wBAE6D/F,cAAc;AACzEG,IAAAA,IAAI,EAAE;AADmE,KAEtE3E,KAFsE;MAA3DwK,8BAAR5J;MAAqByD,kCAAAA;MAAiBD,6BAAAA;;AAK9C,MAAMxD,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,MADE;AAEbY,IAAAA,KAAK,EAAE;AAAA;AAAA,OAAWiI,UAAX,CAFM;AAGbK,IAAAA,gBAAgB,EAAE;AAAA;AAAA;AAAA,MAHL;AAIbC,IAAAA,YAAY,EAAE;AAAA;AAAA;AAAA,OAAoBrG,eAApB,CAJD;AAKbwG,IAAAA,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBL,WAAjB,CAAD;AALM,GAAf;;AAQA,MAAI7G,OAAJ,EAAa;AACX/C,IAAAA,MAAM,CAACuB,KAAP,CAAarB,IAAb;AAAA;AAAA;AAAA;AACD;;AAED,SAAO;AAAEF,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;ACjBD,IAAMqhB,KAAK,gBAAG7d,gBAAA,CAAiB,UAAC5H,KAAD,EAAoBC,GAApB;;;kBAqBzBD,MAnBF+K;MAAAA,uCAAcC,WAAK;MACnBC,OAkBEjL,MAlBFiL;MACAC,QAiBElL,MAjBFkL;MACA9I,AACA+I,iBAeEnL,MAfFmL;MACAC,UAcEpL,MAdFoL;MACA1H,WAaE1D,MAbF0D;MACAC,UAYE3D,MAZF2D;MACAe,WAWE1E,MAXF0E;MACA2G,WAUErL,MAVFqL;MACApC,SASEjJ,MATFiJ;MACAD,UAQEhJ,MARFgJ;MACcsC,YAOZtL,MAPF;MACmBuL,iBAMjBvL,MANF;MACAI,WAKEJ,MALFI;MACAoL,iBAIExL,MAJFwL;MACQvK,aAGNjB,MAHFY;8BAGEZ,MAFFgB;MAAAA,0DAAuB;MACpBX,qCACDL;;wBAEwC4H,cAAA,CAAeuD,cAAf,WAAeA,cAAf,GAAiC,KAAjC;MAArCM;MAAgBC;;sBACS9D,YAAA,CAAa,OAAOwD,OAAP,KAAmB,WAAhC;MAAfO,2BAATpI;;AACR,MAAMqI,eAAe,WAAID,UAAU,GAAGP,OAAH,GAAaK,cAA3B,mBAA8C,KAAnE;;wBAC4C+Z,cAAc,CAACxlB,KAAD;MAA1C0lB,8BAAR9kB;MAAqBwD,6BAAAA;;AAC7B,MAAMxD,MAAM,GAAGU,6BAAe,CAACokB,WAAD,EAAc1kB,oBAAd,CAA9B;;AAEA,MAAM8K,cAAc,GAAG,SAAjBA,cAAiB,CAACnF,KAAD;AACrB,QAAI,CAACgF,UAAL,EAAiB;AACfD,MAAAA,iBAAiB,CAAC/E,KAAK,CAACoF,MAAN,CAAaX,OAAd,CAAjB;AACD;;AACD,QAAIC,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC1E,KAAD,CAAR;AACD;AACF,GAPD;;AASA,MAAMqF,IAAI,GACRC,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAAC6J,gBAAR,EAA0B,CAACrK,QAAD,IAAaa,UAAvC,CAAF;AAAR,KAAmE,CAACb,QAAD,GAAYC,IAAZ,GAAmB,EAAtF;AAAA,yBAEEC,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAEM,MAAM,CAAC8J,YAA3B;AAAA,gBACEpK;AACE,QAAA,GAAG,EAAEL,GADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,EAAE,EAAE8K,EAHN;AAIE,QAAA,IAAI,EAAEE,IAJR;AAKE,QAAA,KAAK,EAAEC,KALT;AAME,QAAA,QAAQ,EAAEY,cANZ;AAOE,QAAA,MAAM,EAAE7C,MAPV;AAQE,QAAA,OAAO,EAAED,OARX;AASE,QAAA,OAAO,EAAE4C,eATX;AAUE,QAAA,QAAQ,EAAElI,QAVZ;AAWE,QAAA,QAAQ,EAAEgB,QAXZ;AAYE,sBAAY4G,SAZd;AAaE,2BAAiBC,cAbnB;AAcE,wBAAc5H,OAdhB;AAeE,wBAAciI,eAfhB;AAgBE,QAAA,GAAG,EAAEhL,MAAM,CAACiK;AAhBd,SAiBMzG,UAjBN;AADF,MAFF;AAAA,KADF;;AA2BA,MAAI,CAAChE,QAAL,EAAe;AACb,WAAO4L,IAAP;AACD;;AAED,SACEC,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAR,KAA8CZ,IAA9C;AAAA,eACG2L,IADH,EAGE1L,eAAC,KAAD;AAAO,MAAA,OAAO,EAAEyK,EAAhB;AAAoB,MAAA,GAAG,EAAEnK,MAAM,CAACuB,KAAhC;AAAuC,MAAA,SAAS,EAAEqJ,cAAlD;AAAA,gBACGpL;AADH,MAHF;AAAA,KADF;AASD,CA9Ea,CAAd;;AAgFA,IAAI4J,qBAAJ,EAAa;AACXyb,EAAAA,KAAK,CAACxb,WAAN,GAAoB,OAApB;AACD;;SCvFuB0b,oBAAoB3lB;sBACeA,MAAjDqF;MAAAA,oCAAS;uBAAwCrF,MAAjCoF;MAAAA,sCAAUC,MAAM,GAAG,GAAH,GAAS;AACjD,MAAMoH,aAAa,GAAGtH,UAAU,CAAC;AAAEC,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,MAAM,EAANA;AAAX,GAAD,CAAhC;AACA,MAAMzE,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA,OAAW8D,MAAM;AAAA;AAAA;AAAA;AAAA,KAAjB,EAAiDoH,aAAjD;AADE,GAAf;AAIA,SAAOjK,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;;;;;;;;;;ACJD,IAAMglB,UAAU,gBAAG/d,gBAAU,CAAC,UAAC7H,KAAD,EAAyBC,GAAzB;MAE1BoL,WAWErL,MAXFqL;MACAJ,OAUEjL,MAVFiL;qBAUEjL,MATFmC;MAAAA,kCAAQ8I;MACR0B,eAQE3M,MARF2M;MACOC,YAOL5M,MAPFkL;MACA7F,AACAjF,WAKEJ,MALFI;MACQa,aAINjB,MAJFY;8BAIEZ,MAHFgB;MAAAA,0DAAuB;MACJuK,iBAEjBvL,MAFF;MACGK,qCACDL;;gBAC4BqD,YAAM,CAAC,OAAOuJ,SAAP,KAAqB,WAAtB;MAArBjB,qBAATpI;;kBACkBiC,cAAQ,CAACmH,YAAY,IAAI,IAAjB;MAA3BzB;MAAO2L;;AACd,MAAMgP,aAAa,GAAGla,UAAU,GAAGiB,SAAH,GAAe1B,KAA/C;AACA,MAAM4a,OAAO,GAAGziB,YAAM,CAAwB,IAAxB,CAAtB;AACA,MAAMzC,MAAM,GAAGU,6BAAe,CAACqkB,mBAAmB,CAAC3lB,KAAD,CAApB,EAA6BgB,oBAA7B,CAA9B;;AAEA,MAAM+kB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACpf,KAAD;AACvB,QAAI,CAACgF,UAAL,EAAiB;AACfkL,MAAAA,QAAQ,CAAClQ,KAAK,CAACoF,MAAN,CAAab,KAAd,CAAR;AACD;;AACD,QAAIG,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC1E,KAAD,EAAQA,KAAK,CAACoF,MAAN,CAAab,KAArB,CAAR;AACD;AACF,GAPD;;AAUA,MAAMiC,YAAY,cAAYnC,WAAK,EAAnC;AACA,MAAMoC,YAAY,GAAGnC,IAAI,IAAIkC,YAA7B;AACA,MAAMvD,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AAEA,MAAM0J,MAAM,GAAGF,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD,EAAQmM,KAAR;AAC/B,QAAMjC,OAAO,GAAGlK,KAAK,CAAClB,KAAN,CAAYkL,KAAZ,KAAsB2a,aAAtC;AAGA,wBAAOrkB,kBAAY,CAACN,KAAD,EAAQ;AACzBoM,MAAAA,GAAG,EAAKF,YAAL,SAAqBC,KADC;AAEzBpC,MAAAA,IAAI,EAAEmC,YAFmB;AAGzB/B,MAAAA,QAAQ,EAAE0a,gBAHe;AAIzB3a,MAAAA,OAAO,EAAPA,OAJyB;AAKzBpK,MAAAA,oBAAoB,EAApBA;AALyB,KAAR,CAAnB;AAOD,GAXc,CAAf;AAaA,MAAMuM,OAAO,GAAGpL,KAAK,oBAAkB6I,WAAK,EAAvB,GAA8BpG,SAAnD;AAGAohB,EAAAA,yBAAmB,CACjB/lB,GADiB,EAEjB;AAAA,WAAO;AACL0b,MAAAA,KAAK,EAAE;;;AACL,YAAI9Q,KAAK,GAAGib,OAAH,wCAAGA,OAAO,CAAEviB,OAAZ,qBAAG,iBAAkBugB,aAAlB,CAAgD,8BAAhD,CAAZ;;AAEA,YAAI,CAACjZ,KAAL,EAAY;AAAA;;AACVA,UAAAA,KAAK,GAAGib,OAAH,yCAAGA,OAAO,CAAEviB,OAAZ,qBAAG,kBAAkBugB,aAAlB,CAAgC,sBAAhC,CAAR;AACD;;AAED,YAAIjZ,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAAC8Q,KAAN;AACD;AACF;AAXI,KAAP;AAAA,GAFiB,EAejB,EAfiB,CAAnB;AAkBA,SACE1P,gBAAC,GAAD,eACM5L,IADN;AAEE,IAAA,GAAG,EAAEylB,OAFP;AAGE,IAAA,IAAI,EAAC,YAHP;AAIE,uBAAiBva,cAAjB,WAAiBA,cAAjB,GAAmCgC,OAJrC;AAKE,IAAA,GAAG,oBAAE,CAAC3M,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,smHALL;AAAA,eAOGkB,KAAK,IAAI,CAACoJ,cAAV,IACCjL,eAAC,IAAD;AAAM,MAAA,EAAE,EAAEiN,OAAV;AAAmB,MAAA,GAAG,QAAtB;AAAA,gBACGpL;AADH,MARJ,EAaG2H,MAbH;AAAA,KADF;AAiBD,CArF4B,CAA7B;AAuFA8b,UAAU,CAAC3b,WAAX,GAAyB,YAAzB;;SC5FwBgc,cAAcjmB;MAC5BqN,QAA0BrN,MAA1BqN;MAAO6Y,iBAAmBlmB,MAAnBkmB;AACf,MAAMnkB,KAAK,GAAGC,sBAAQ,EAAtB;AAEA,MAAMpB,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE,CACT;AAAA;AAAA;AAAA;AAAA,OAEE;AACEqJ,MAAAA,eAAe,EACZyC,KAAK,KAAK,CAAV,IAAe,CAAC6Y,cAAjB,IAAqC7Y,KAAK,KAAK,CAAV,IAAe6Y,cAApD,GACInkB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IADxB,GAEI;AAJR,KAFF,CADS;AADE,GAAf;AAcA,SAAOpB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACjBD,IAAMulB,IAAI,gBAAGve,gBAAA,CAAiB,UAAC5H,KAAD,EAAmBC,GAAnB;8BACiDD,MAA9DgB;MAAAA,0DAAuB;MAAeC,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;AAC7E,MAAMY,MAAM,GAAGU,6BAAe,CAAC2kB,aAAa,CAACjmB,KAAD,CAAd,EAAuBgB,oBAAvB,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,g8BAAR;AAA0C,IAAA,GAAG,EAAEhB;AAA/C,KAAwDI,IAAxD,EAAP;AACD,CALY,CAAb;;SCAwB+lB,gBAAgBpmB;MAC9BuC,SAAWvC,MAAXuC;;4BACgC0B,kBAAkB,CAAC;AAAEtC,IAAAA,OAAO,EAAE;AAAX,GAAD;MAAlD0C,sCAAAA;MAAiBD,iCAAAA;;AACzB,MAAMiiB,WAAW,GAAG,IAAIriB,UAAJ,WAApB;AAEA,MAAMpD,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAET;AACE+kB,MAAAA,SAAS,uBAAqBD,WAAW,CAACE,KAAZ,CAAkB,IAAlB,EAAwBC,GAAxB,EAArB,sCACYH,WAAW,CAACE,KAAZ,CAAkB,IAAlB,EAAwBC,GAAxB,EADZ,iCAEOH,WAAW,CAACE,KAAZ,CAAkB,GAAlB,EAAuBC,GAAvB;AAHlB,KAFS,qHAWIjkB,MAAM,GAAG,CAAH,GAAO,CAXjB,iGAiBT;AAAEkkB,MAAAA,WAAW,EAAE;AAAf,KAjBS,EAkBTpiB,eAlBS;AADE,GAAf;AAuBA,SAAO;AAAEzD,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;AC5BD,IAAMsiB,MAAM,gBAAG9e,gBAAA,CAAiB,UAAC5H,KAAD,EAAqBC,GAArB;;;MACtBsC,SAAuGvC,MAAvGuC;MAAgBtB,aAAuFjB,MAA/FY;8BAA+FZ,MAA3EgB;MAAAA,0DAAuB;MAAO+G,YAA6C/H,MAA7C+H;8BAA6C/H,MAAlCijB;MAAAA,qDAAkB;MAAO5iB,qCAASL;;yBACpEomB,eAAe,CAACpmB,KAAD;MAAlDoE,8BAAAA;MAAoBuiB,8BAAR/lB;;AACpB,MAAMA,MAAM,GAAGU,6BAAe,CAACqlB,UAAD,EAAa3lB,oBAAb,CAA9B;AAEA,SACEV,eAAC,GAAD;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,0xCAHL;AAIE,IAAA,GAAG,EAAEhB;AAJP,KAKMmE,UALN;AAME,IAAA,SAAS,EAAEiF,UAAU,CAACtB,SAAD,iCAAekb,eAAf,IAAiC1gB,MAAjC;AANvB,KAOMlC,IAPN,EADF;AAWD,CAhBc,CAAf;;SCAwBumB,oBAAuB5mB;MACrC4kB,MAAc5kB,MAAd4kB;MAAKiC,OAAS7mB,MAAT6mB;;wBACgDriB,cAAc;AACzEG,IAAAA,IAAI,EAAE,MADmE;AAEzEJ,IAAAA,IAAI,EAAE;AAFmE,KAGtEvE,KAHsE;MAA3DwK,8BAAR5J;MAAqByD,kCAAAA;MAAiBD,6BAAAA;;AAM9C,MAAM0iB,UAAU,GAAG,CAAClC,GAAG,GAAGiC,IAAP,EAAa/iB,QAAb,GAAwBsQ,MAA3C;AAEA,MAAMxT,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA,OAAe8C,eAAf,CADE;AAGbwG,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBL,WAAjB,mBAA6Csc,UAAU,GAAG,CAA1D;AAHM,GAAf;AAMA,SAAO;AAAElmB,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;;;;;;;;;;ACbD,SAAS2iB,KAAT,CAAqC/mB,KAArC;MACUmC,QAAuFnC,MAAvFmC;MAAO6kB,MAAgFhnB,MAAhFgnB;MAAKpC,MAA2E5kB,MAA3E4kB;MAAKiC,OAAsE7mB,MAAtE6mB;8BAAsE7mB,MAAhEgB;MAAAA,0DAAuB;MAAeC,aAA0BjB,MAAlCY;MAAoBmH,YAAc/H,MAAd+H;AACjF,MAAM9H,GAAG,GAAG2H,YAAA,CAA+B,IAA/B,CAAZ;;sBACmCqf,sBAAY,CAACjnB,KAAD,EAAQC,GAAR;MAAvCqY,2BAAAA;MAAY4O,2BAAAA;;6BACwBN,mBAAmB,CAAC5mB,KAAD;MAA/CwK,mCAAR5J;MAAqBwD,kCAAAA;;AAC7B,MAAMxD,MAAM,GAAGU,6BAAe,CAACkJ,WAAD,EAAcxJ,oBAAd,CAA9B;AAEA,SACEiL,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,ipDAAR;AAA0C,IAAA,SAAS,EAAE8G,SAArD;AAAA,eACEzH,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,OAAR;AAAgB,MAAA,GAAG;AAAnB,OAAsC4mB,UAAtC;AAAA,gBACG/kB;AADH,OADF,EAIE7B;AAAO,MAAA,GAAG,EAAEM,MAAM,CAACiK;AAAnB,OAA8BzB,gBAAU,CAACkP,UAAD,EAAalU,UAAb,CAAxC;AAAkE,MAAA,GAAG,EAAE4iB,GAAvE;AAA4E,MAAA,GAAG,EAAEpC,GAAjF;AAAsF,MAAA,IAAI,EAAEiC,IAA5F;AAAkG,MAAA,GAAG,EAAE5mB;AAAvG,OAJF;AAAA,IADF;AAQD;;SCxBuBknB;AACtB,MAAMvmB,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA,OAA0B,qBAA1B;AADE,GAAf;AAIA,SAAOiB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACHD,IAAMwmB,KAAK,gBAAGxf,gBAAA,CAAiB,UAAC5H,KAAD,EAAkBC,GAAlB;8BAC0CD,MAA/DgB;MAAAA,0DAAuB;MAAegH,cAAyBhI,MAAjCY;MAAwBP,qCAASL;;AACvE,MAAMY,MAAM,GAAGU,6BAAe,CAAC6lB,cAAc,EAAf,EAAmBnmB,oBAAnB,CAA9B;AAEA,SAAOV,eAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmByG,WAAnB,CAAF,y7BAAR;AAA2C,IAAA,GAAG,EAAE/H;AAAhD,KAAyDI,IAAzD,EAAP;AACD,CALa,CAAd;;SCCwBumB,sBAAoB5mB;MAClCkmB,iBAAmBlmB,MAAnBkmB;AACR,MAAMtlB,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,MADE;AAEb8lB,IAAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA,MAFI;AAGbC,IAAAA,KAAK,EAAE;AAAA;AAAA,MAHM;AAIbC,IAAAA,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAER;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAFQ,EAGR,mCAHQ,CAJG;AASb3c,IAAAA,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6Cqb,cAAc;AAAA;AAAA;AAAA;AAAA,KAA3D;AATM,GAAf;AAYA,SAAO1jB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACID,SAAS6mB,UAAT,CAA0CznB,KAA1C;MAEI0iB,WAuBE1iB,MAvBF0iB;sBAuBE1iB,MAtBF0nB;MAAAA,oCAAS;wBAsBP1nB,MArBF2nB;MAAAA,wCAAW;0BAqBT3nB,MApBF4nB;MAAAA,4CAAa;wBAoBX5nB,MAnBFqL;MAAAA,wCAAWwc;uBAmBT7nB,MAlBFmZ;MAAAA,sCAAU0O;mBAkBR7nB,MAjBFgnB;MAAAA,8BAAM;mBAiBJhnB,MAhBF4kB;MAAAA,8BAAM;qBAgBJ5kB,MAfFkL;MAAO0B,sCAAY,CAACoa,GAAD,EAAMpC,GAAN;oBAejB5kB,MAdF6mB;MAAAA,gCAAO;MACPiB,QAaE9nB,MAbF8nB;MACWC,gBAYT/nB,MAZFgoB;MACYC,iBAWVjoB,MAXFkoB;0BAWEloB,MAVFmoB;MAAAA,4CAAa;MACbC,OASEpoB,MATFooB;MACAC,gBAQEroB,MARFqoB;MACAC,kBAOEtoB,MAPFsoB;MACAC,wBAMEvoB,MANFuoB;MACAC,iBAKExoB,MALFwoB;MACAhS,iBAIExW,MAJFwW;MACQvV,aAGNjB,MAHFY;8BAGEZ,MAFFgB;MAAAA,0DAAuB;MACpBX,qCACDL;;AAEJ,MAAMyoB,OAAO,GAAG7gB,YAAA,CAA+B,IAA/B,CAAhB;AACA,MAAM8gB,QAAQ,GAAG9gB,YAAA,CAA+B,IAA/B,CAAjB;AACA,MAAM+gB,QAAQ,GAAG/gB,YAAA,CAA6B,IAA7B,CAAjB;;AAGA,MAAMghB,WAAW,GAAG,SAAdA,WAAc,CAAC/d,KAAD;AAClB,QAAI6c,MAAM,KAAK,OAAf,EAAwB;AACtB,UAAMmB,SAAS,GAAGC,0BAAY,CAACje,KAAD,EAAQ;AAAEmP,QAAAA,KAAK,EAAE,UAAT;AAAqB2N,QAAAA,QAAQ,EAARA;AAArB,OAAR,CAA9B;AACA,aAAOC,UAAU,GAAGiB,SAAH,GAAeA,SAAS,CAACvZ,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAAhC;AACD;;AAED,WAAOsY,UAAU,GAAG9C,MAAM,CAACja,KAAD,CAAN,CAAcke,OAAd,CAAsBC,8BAAgB,CAACnC,IAAD,CAAtC,CAAH,GAAmDhc,KAAK,CAACsa,cAAN,CAAqBzC,QAArB,CAApE;AACD,GAPD;;AAUA,MAAMuG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACpe,KAAD;AACvB,WAAO+c,UAAU,GAAG9C,MAAM,CAACja,KAAD,CAAN,CAAcke,OAAd,CAAsBC,8BAAgB,CAACnC,IAAD,CAAtC,CAAH,GAAmDhc,KAApE;AACD,GAFD;;AAKA,MAAMqe,QAAQ,GAAG,SAAXA,QAAW,CAAChe,KAAD;AACf,WAAOmG,qBAAO,CAACnG,KAAD,CAAP,GACFA,KAAK,CAACnB,GAAN,CAAU,UAACmD,CAAD;AAAA,aAAOic,yBAAW,CAAC5E,mBAAK,CAACO,MAAM,CAAC5X,CAAD,CAAP,EAAY8Z,GAAZ,EAAiBpC,GAAjB,CAAN,EAA6BiC,IAA7B,CAAlB;AAAA,KAAV,CADE,GAEHsC,yBAAW,CAAC5E,mBAAK,CAACO,MAAM,CAAC5Z,KAAD,CAAP,EAAgB8b,GAAhB,EAAqBpC,GAArB,CAAN,EAAiCiC,IAAjC,CAFf;AAGD,GAJD;;AAOA,MAAMuC,aAAa,GAAG,SAAhBA,aAAgB,CAACle,KAAD;AACpB,WAAO,CAACmG,qBAAO,CAACnG,KAAD,CAAP,GAAiBA,KAAjB,GAAyB,CAACA,KAAD,CAA1B,EAAmCnB,GAAnC,CAAuCsf,MAAvC,EAA+Ctf,GAA/C,CAAmDkf,gBAAnD,CAAP;AACD,GAFD;;qBAI8DjpB,MAAtDsnB;MAAOgC,sCAAY,CAAClB,IAAD,GAAQ,CAACpB,GAAD,EAAMpC,GAAN,CAAR,GAAqBhgB;;wBACVgD,cAAA,CAAgCwhB,aAAa,CAACxc,SAAD,CAA7C;MAA/B2c;MAAaC;;yBACM5hB,cAAA,CAA2BshB,QAAQ,CAACtc,SAAD,CAAnC;MAAnB6c;MAAOC;;AACd,MAAM7c,MAAM,GAAGjF,aAAA,CAAc;AAAA,WAAMshB,QAAQ,CAACO,KAAD,CAAd;AAAA,GAAd,EAAqC,CAACA,KAAD,CAArC,CAAf;;aACoBpY,qBAAO,CAACxE,MAAD,CAAP,GAAkBA,MAAlB,GAA2B,CAACA,MAAD;MAAxC8c;MAAKC;;AAGZ,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAuBC,YAAvB;QAAuBA;AAAAA,MAAAA,eAAe;;;AACxD,QAAMC,QAAQ,GAAGd,QAAQ,CAACY,QAAD,CAAzB;AAEAJ,IAAAA,QAAQ,CAACM,QAAD,CAAR;AAEA7Q,IAAAA,OAAO,CAAC6Q,QAAD,CAAP;;AAEA,QAAID,YAAJ,EAAkB;AAChB1e,MAAAA,QAAQ,CAAC2e,QAAD,CAAR;AACD;AACF,GAVD;;AAaApiB,EAAAA,eAAA,CAAgB;AAAA,WAAM8hB,QAAQ,CAACR,QAAQ,CAACtc,SAAD,CAAT,CAAd;AAAA,GAAhB,EAAqD,CAACA,SAAD,CAArD;AAGAhF,EAAAA,eAAA,CAAgB;AAAA,WAAM4hB,cAAc,CAACJ,aAAa,CAACK,KAAD,CAAd,CAApB;AAAA,GAAhB,EAA4D,CAACA,KAAD,CAA5D;;mBAEoDQ,qBAAS,CAAC;AAC5DC,IAAAA,QAAQ,EAAErD,IADkD;AAE5DiB,IAAAA,KAAK,EAALA,KAF4D;AAG5Dd,IAAAA,GAAG,EAAHA,GAH4D;AAI5DpC,IAAAA,GAAG,EAAHA,GAJ4D;AAK5D/X,IAAAA,MAAM,EAAEwE,qBAAO,CAACxE,MAAD,CAAP,GAAkBA,MAAlB,GAA2B,CAACA,MAAD,CALyB;AAM5Dsd,IAAAA,QAAQ,EAAE/B,IANkD;AAO5Dd,IAAAA,KAAK,EAAEgC,SAPqD;AAQ5Dc,IAAAA,MAAM,EAAE,gBAAC1iB,GAAD;AAAA,aAAmBmiB,WAAW,CAACniB,GAAG,CAAC0M,MAAJ,KAAe,CAAf,GAAmB1M,GAAG,CAAC,CAAD,CAAtB,GAA6BA,GAA9B,CAA9B;AAAA,KARoD;AAS5D2D,IAAAA,QAAQ,EAAE,kBAAC3D,GAAD;AAAA,aAAmBmiB,WAAW,CAACniB,GAAG,CAAC0M,MAAJ,KAAe,CAAf,GAAmB1M,GAAG,CAAC,CAAD,CAAtB,GAA6BA,GAA9B,EAAkD,IAAlD,CAA9B;AAAA;AATkD,GAAD;MAArD2iB,2BAAAA;MAAeC,qBAAAA;MAAShD,mBAAAA;MAAOiD,sBAAAA;;AAYvC,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,IAAD,EAAgBvd,CAAhB;AAC7B,QAAMxF,GAAG,GAAGmc,sBAAQ,CAAC3W,CAAD,CAAR,GAAc4X,MAAM,CAAC5X,CAAD,CAApB,GAA0BA,CAAtC;AACA,QAAI4c,QAAJ;;AAEA,QAAIY,+BAAiB,CAACd,IAAD,CAArB,EAA6B;AAC3BE,MAAAA,QAAQ,GAAG,CAACpiB,GAAG,GAAGsf,GAAN,GAAYA,GAAZ,GAAkBtf,GAAnB,CAAX;AACD,KAFD,MAEO,IAAI+iB,IAAJ,EAAU;AACfX,MAAAA,QAAQ,GAAG,CAACpiB,GAAG,GAAGsf,GAAN,GAAYA,GAAZ,GAAkBtf,GAAnB,EAAwBkiB,IAAxB,CAAX;AACD,KAFM,MAEA;AACLE,MAAAA,QAAQ,GAAG,CAACH,GAAD,EAAMjiB,GAAG,GAAGkd,GAAN,GAAYA,GAAZ,GAAkBld,GAAxB,CAAX;AACD;;AAEDmiB,IAAAA,WAAW,CAACC,QAAD,EAAyB,IAAzB,CAAX;AACD,GAbD;;AAeA,MAAMa,iBAAiB,GAAG,SAApBA,iBAAoB;AACxB,QAAID,+BAAiB,CAACd,IAAD,CAArB,EAA6B;AAC3B;AACD;;AAED,QAAID,GAAG,GAAGC,IAAV,EAAgB;AACdC,MAAAA,WAAW,CAAC,CAACD,IAAD,EAAOD,GAAP,CAAD,EAAc,IAAd,CAAX;AACD;AACF,GARD;;AAUA,MAAMiB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACjkB,KAAD,EAA0C4K,CAA1C;AACzB,QAAI,CAAAoX,QAAQ,QAAR,YAAAA,QAAQ,CAAEplB,OAAV,MAAsB,IAA1B,EAAgC;AAC9B;AACD;;AAGD,QAAMsnB,UAAU,GAAGlC,QAAQ,CAACplB,OAAT,CAAiBunB,qBAAjB,EAAnB;AACA,QAAMC,OAAO,GAAGxG,mBAAK,CAAE,MAAMsG,UAAU,CAAC5Z,KAAlB,IAA4BtK,KAAK,CAACqkB,OAAN,GAAgBH,UAAU,CAACJ,IAAvD,CAAD,EAA+D,CAA/D,EAAkE,GAAlE,CAArB;AACA,QAAMX,QAAQ,GAAGX,yBAAW,CAAC,CAACvE,GAAG,GAAGoC,GAAP,KAAe+D,OAAO,GAAG,GAAzB,CAAD,EAAgClE,IAAhC,CAA5B;;AAEA,QAAItV,CAAC,KAAK,CAAN,IAAW,CAACmZ,+BAAiB,CAACd,IAAD,CAAjC,EAAyC;AAAA,qBAEvBqB,qBAAO,CAACnB,QAAD,EAAW,CAACH,GAAD,EAAMC,IAAN,CAAX,CAFgB;AAAA,UAEhCvc,KAFgC;;AAGvCmd,MAAAA,sBAAsB,CAACnd,KAAK,KAAK,CAAX,EAAcyc,QAAd,CAAtB;AACD,KAJD,MAIO;AACLU,MAAAA,sBAAsB,CAACjZ,CAAC,KAAK,CAAP,EAAUuY,QAAV,CAAtB;AACD;AACF,GAjBD;;AAmBA,MAAMoB,iBAAiB,GAAG,SAApBA,iBAAoB,CAACT,IAAD;AAAA,WAAmB,UAACvf,KAAD;UACpCigB,IAAQ5B;UAAL3iB,IAAK2iB;;AAEf,UAAIkB,IAAI,IAAI,CAACC,+BAAiB,CAAC9jB,CAAD,CAA9B,EAAmC;AACjC4iB,QAAAA,cAAc,CAAC,CAACte,KAAD,EAAQtE,CAAR,CAAD,CAAd;AACD,OAFD,MAEO,IAAI,CAAC8jB,+BAAiB,CAAC9jB,CAAD,CAAtB,EAA2B;AAChC4iB,QAAAA,cAAc,CAAC,CAAC2B,CAAD,EAAIjgB,KAAJ,CAAD,CAAd;AACD,OAFM,MAEA;AACLse,QAAAA,cAAc,CAAC,CAACte,KAAD,CAAD,CAAd;AACD;AACF,KAVyB;AAAA,GAA1B;;AAYA,MAAMkgB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACX,IAAD;AAAA,WAAmB,UAAC9jB,KAAD;AAC5C,UAAMoF,MAAM,GAAGpF,KAAK,CAACoF,MAArB;;AAEA,UAAIpF,KAAK,CAAC2G,GAAN,KAAc,OAAlB,EAA2B;AACzBkd,QAAAA,sBAAsB,CAACC,IAAD,EAAO1e,MAAM,CAACb,KAAd,CAAtB;AACD;AACF,KAN0B;AAAA,GAA3B;;AAQA,MAAMoN,UAAU,GAAG;AACjB0O,IAAAA,GAAG,EAAHA,GADiB;AAEjBpC,IAAAA,GAAG,EAAHA,GAFiB;AAGjBiC,IAAAA,IAAI,EAAJA,IAHiB;AAIjBliB,IAAAA,IAAI,EAAE,QAJW;AAKjBiU,IAAAA,SAAS,EAAE,SALM;AAMjB5X,IAAAA,oBAAoB,EAApBA,oBANiB;AAOjBiI,IAAAA,MAAM,EAAE0hB;AAPS,GAAnB;;AAUA,MAAMU,cAAc,gBACf/S,UADe;AAElBvQ,IAAAA,SAAS,EAAEyO,cAFO;AAGlBtL,IAAAA,KAAK,EAAEqe,WAAW,CAAC,CAAD,CAHA;AAIlBle,IAAAA,QAAQ,EAAE6f,iBAAiB,CAAC,IAAD,CAJT;AAKlB9U,IAAAA,SAAS,EAAEgV,kBAAkB,CAAC,IAAD,CALX;AAMlBjpB,IAAAA,KAAK,EAAE;AANW,IAApB;;AASA,MAAMmpB,eAAe,gBAChBhT,UADgB;AAEnBvQ,IAAAA,SAAS,EAAEyO,cAFQ;AAGnBtL,IAAAA,KAAK,EAAEqe,WAAW,CAAC,CAAD,CAHC;AAInBle,IAAAA,QAAQ,EAAE6f,iBAAiB,CAAC,KAAD,CAJR;AAKnB9U,IAAAA,SAAS,EAAEgV,kBAAkB,CAAC,KAAD,CALV;AAMnBjpB,IAAAA,KAAK,EAAE;AANY,IAArB;;AASA,MAAM6lB,SAAS,GAAGD,aAAa,GAC7BA,aAAa,CAAC;AACZwD,IAAAA,QAAQ,EAAE,kBAACC,QAAD;AAAA,UAACA,QAAD;AAACA,QAAAA,QAAD,GAAY,EAAZ;AAAA;;AAAA,0BACLvE,sBAAY,cAAMoE,cAAN,EAAyBG,QAAzB,GAAqC/C,OAArC,CADP;AAERxoB,QAAAA,GAAG,EAAEwoB;AAFG;AAAA;AADE,GAAD,CADgB,GAQ7BnoB,eAAC,KAAD,eAAW+qB,cAAX,EARF;;AAWA,MAAInD,UAAU,GAA2B5nB,eAAC,KAAD,eAAWgrB,eAAX,EAAzC;;AAEA,MAAIZ,+BAAiB,CAACd,IAAD,CAArB,EAA6B;AAC3B1B,IAAAA,UAAU,GAAG,IAAb;AACD,GAFD,MAEO,IAAID,cAAJ,EAAoB;AACzBC,IAAAA,UAAU,GAAGD,cAAc,CAAC;AAC1BsD,MAAAA,QAAQ,EAAE,kBAACC,QAAD;AAAA,YAACA,QAAD;AAACA,UAAAA,QAAD,GAAY,EAAZ;AAAA;;AAAA,4BACLvE,sBAAY,cAAMqE,eAAN,EAA0BE,QAA1B,GAAsC9C,QAAtC,CADP;AAERzoB,UAAAA,GAAG,EAAEyoB;AAFG;AAAA;AADgB,KAAD,CAA3B;AAMD;;AAED,MAAM9nB,MAAM,GAAGU,6BAAe,CAC5BslB,qBAAmB,CAAC;AAAEV,IAAAA,cAAc,EAAEwE,+BAAiB,CAACd,IAAD;AAAnC,GAAD,CADS,EAE5B5oB,oBAF4B,CAA9B;AAKA,SACEiL,gBAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAR,KAA8CZ,IAA9C;AAAA,eACE4L,gBAAC,GAAD;AAAK,MAAA,GAAG,EAAErL,MAAM,CAACymB,OAAjB;AAAA,iBACE/mB,eAAC,GAAD;AAAK,QAAA,GAAG,EAAEM,MAAM,CAAC0mB,KAAjB;AAAA,kBACGA,KAAK,CAACvd,GAAN,CAAU;cAAU0hB,kBAAPvgB;cAAkBwgB,qBAAAA;;8BAGEA,YAAY;cAApC1R,sBAAAA;cAAU2R;;cACAC,2CAAe5R;;AAEjC,iBACE1Z,eAAC,IAAD,eACMqrB,SADN;AAEE,YAAA,KAAK,eAAOC,UAAP,CAFP;AAGE,YAAA,GAAG,EAAEhrB,MAAM,CAAC2mB,QAHd;AAIE,YAAA,oBAAoB,EAAEvmB,oBAJxB;AAAA,sBAMG4nB,WAAW,CAAC6C,SAAD;AANd,aADF;AAUD,SAhBA;AADH,QADF,EAqBExf,gBAAC,KAAD,eACMoe,aAAa,CAAC;AAAEpqB,QAAAA,GAAG,EAAE0oB;AAAP,OAAD,CADnB;AAEE,QAAA,SAAS,EAAEH,cAFb;AAGE,QAAA,oBAAoB,EAAExnB,oBAHxB;AAAA,mBAKGupB,QAAQ,CAACxgB,GAAT,CAAa,iBAAsBwH,CAAtB;AAAA,cAAGsa,eAAH,SAAGA,eAAH;AAAA,iBACZvrB,eAAC,IAAD;AACE,YAAA,cAAc,EAAEoqB,+BAAiB,CAACd,IAAD,CADnC;AAEE,YAAA,oBAAoB,EAAE5oB,oBAFxB;AAGE,YAAA,SAAS,EAAEqnB;AAHb,aAIMwD,eAAe,CAAC;AAClBxe,YAAAA,KAAK,EAAEkE,CADW;AAElBzJ,YAAAA,OAAO,EAAE,iBAACgL,CAAD;AAAA,qBAAyC8X,kBAAkB,CAAC9X,CAAD,EAAIvB,CAAJ,CAA3D;AAAA;AAFS,WAAD,CAJrB,EADY;AAAA,SAAb,CALH,EAiBG+Y,OAAO,CAACvgB,GAAR,CAAY;AAAA,cAAU+hB,WAAV,SAAG5gB,KAAH;AAAA,cAAuB3I,MAAvB,SAAuBA,MAAvB;AAAA,cAA+BwpB,cAA/B,SAA+BA,cAA/B;AAAA,iBACXzrB,eAAC,MAAD;AACE,0BAAYsoB,WAAW,CAACkD,WAAD,CADzB;AAEE,YAAA,eAAe,EAAEvD,qBAFnB;AAGE,YAAA,SAAS,EAAED,eAHb;AAIE,YAAA,oBAAoB,EAAEtnB;AAJxB,aAKM+qB,cAAc,CAAC;AAAExpB,YAAAA,MAAM,EAANA;AAAF,WAAD,CALpB,EADW;AAAA,SAAZ,CAjBH;AAAA,SArBF;AAAA,MADF,EAmDG4lB,UAAU,IACTlc,gBAAC,GAAD;AAAK,MAAA,GAAG,EAAErL,MAAM,CAACiK,KAAjB;AAAA,iBACGmd,SADH,EAEGE,UAFH;AAAA,MApDJ;AAAA,KADF;AA4DD;;AAED,IAAIle,qBAAJ,EAAa;AACXyd,EAAAA,UAAU,CAACxd,WAAX,GAAyB,YAAzB;AACD;;ACtQD,IAAY+hB,QAAZ;;AAAA,WAAYA;AACVA,EAAAA,gCAAA,WAAA;AACAA,EAAAA,oCAAA,eAAA;AACAA,EAAAA,+BAAA,UAAA;AACD,CAJD,EAAYA,QAAQ,KAARA,QAAQ,KAAA,CAApB;;AAMA,IAAaC,0BAAb;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,iCAAgDC,KAAhD;;AChDO,IAAMC,aAAa,GAA+C,SAA5DA,aAA4D,CAACjhB,KAAD,EAAQ0Z,GAAR;AACvE,MAAMwH,MAAM,GAAGjI,IAAI,CAACkI,KAAL,CAAWnhB,KAAX,IAAoBA,KAApB,KAA8B,CAA7C;;AAEA,MAAI0Z,GAAG,GAAG1Z,KAAN,GAAc,CAAlB,EAAqB;AACnB,UAAM,IAAI+gB,0BAAJ,EAAN;AACD;;AAED,mBACK1S,KAAK,CAACC,IAAN,CAA4BD,KAAK,CAAC4K,IAAI,CAACmI,KAAL,CAAWphB,KAAX,CAAD,CAAjC,EAAsDrG,IAAtD,CAA2DmnB,QAAQ,CAACO,MAApE,CADL,EAEKhT,KAAK,CAACC,IAAN,CAAgCD,KAAK,CAAC6S,MAAM,GAAG,CAAH,GAAO,CAAd,CAArC,EAAuDvnB,IAAvD,CAA4DmnB,QAAQ,CAACQ,UAArE,CAFL,EAGKjT,KAAK,CAACC,IAAN,CAA2BD,KAAK,CAACqL,GAAG,GAAGT,IAAI,CAACC,IAAL,CAAUlZ,KAAV,CAAP,CAAhC,EAA0DrG,IAA1D,CAA+DmnB,QAAQ,CAACS,KAAxE,CAHL;AAKD,CAZM;;SCGiBC,oBAAoB1sB;MAClC2sB,OAA0B3sB,MAA1B2sB;MAAMC,UAAoB5sB,MAApB4sB;MAASrqB,SAAWvC,MAAXuC;AAEvB,MAAM3B,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCgB,MAAM,IAAI,CAACoqB,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApC,CADE;AAEbE,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAET,2BAFS,EAGTD,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHE,EAITD,IAAI,eAA8B,SAJzB,CAFE;AAQbG,IAAAA,UAAU,EAAE;AAAA;AAAA,OAAW,iBAAX;AARC,GAAf;AAWA,SAAOtqB,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACbM,IAAMmsB,UAAU,GAAG,SAAbA,UAAa,CAAC/sB,KAAD;MAChBgtB,YAA+FhtB,MAA/FgtB;MAAWzqB,AAAQ2hB,QAA4ElkB,MAA5EkkB;MAAO7W,QAAqErN,MAArEqN;MAAepM,aAAsDjB,MAA9DY;8BAA8DZ,MAA1CgB;MAAAA,0DAAuB;MAAUX,qCAASL;;AACvG,MAAMitB,aAAa,GAAG,OAAOD,SAAP,KAAqB,UAArB,GAAkCA,SAAS,CAAC;AAAE9I,IAAAA,KAAK,EAALA,KAAF;AAAS7W,IAAAA,KAAK,EAALA;AAAT,GAAD,CAA3C,GAAgE2f,SAAtF;AACA,MAAMpsB,MAAM,GAAGU,6BAAe,CAACorB,mBAAmB,CAAC1sB,KAAD,CAApB,EAA6BgB,oBAA7B,CAA9B;AAEA,SACEV,eAAC,GAAD;AAAK,IAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,02CAAR;AAA0C;AAA1C,KAA0DZ,IAA1D;AAAA,cACE4L,gBAAC,GAAD;AAAK,sBAAciY,KAAnB;AAA0B,uBAAe7W,KAAK,GAAG,CAAjD;AAAA,iBACE/M,eAAC,GAAD;AAAK,QAAA,GAAG,EAAEM,MAAM,CAACisB,SAAjB;AAAA,kBAA6BI;AAA7B,QADF,EAEE3sB,eAAC,GAAD;AAAK,QAAA,GAAG,EAAEM,MAAM,CAACksB,UAAjB;AAAA,kBAA8BG;AAA9B,QAFF;AAAA;AADF,KADF;AAQD,CAbM;;;;;;;;;;;ACKP,IAAMC,MAAM,gBAAGtlB,gBAAA,CAAiB,UAAC5H,KAAD,EAAqBC,GAArB;MAE5BiL,QAYElL,MAZFkL;MACA9K,WAWEJ,MAXFI;yBAWEJ,MAVFgtB;MAAAA,0CAAY1sB,eAAC6sB,YAAD;mBAUVntB,MATF4kB;MAAAA,8BAAM;yBASJ5kB,MARFotB;MAAAA,0CAAY;oBAQVptB,MAPFqtB;MAAAA,gCAAO;MACPC,gCAMEttB,MANFstB;MACAC,4BAKEvtB,MALFutB;MACAC,sBAIExtB,MAJFwtB;MACQvsB,aAGNjB,MAHFY;8BAGEZ,MAFFgB;MAAAA,0DAAuB;MACpBX,qCACDL;;AAEJ,MAAI8kB,MAAM,CAAC2I,KAAP,CAAaviB,KAAb,CAAJ,EAAyB;AACvB,WAAO,IAAP;AACD;;AAED,MAAMkhB,MAAM,GAAGjI,IAAI,CAACkI,KAAL,CAAWnhB,KAAX,IAAoBA,KAApB,KAA8B,CAA7C;AACA,MAAM0hB,OAAO,GAAGQ,SAAS,KAAK,KAA9B;AACA,MAAMjrB,KAAK,GAAGiqB,MAAM,gBAAclhB,KAAd,wBAAsC0Z,GAAtC,SAA6CyI,IAA7C,sBAAkEniB,KAAlE,gBAAkF0Z,GAAlF,SAAyFyI,IAAzF,MAApB;AACA,MAAMK,GAAG,GAAGvB,aAAa,CAACjhB,KAAD,EAAQ0Z,GAAR,CAAzB;AAEA,MAAMhkB,MAAM,GAAGU,6BAAe,CAC5B;AACEC,IAAAA,SAAS,EAAEqrB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADpB,GAD4B,EAM5B5rB,oBAN4B,CAA9B;AASA,SACEiL,gBAAC,GAAD;AAAK,IAAA,GAAG,EAAEhM,GAAV;AAAe,IAAA,IAAI,EAAC,KAApB;AAA0B,kBAAYkC,KAAtC;AAA6C,IAAA,GAAG,oBAAE,CAACvB,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAhD,KAAsFZ,IAAtF;AAAA,eACGqtB,GAAG,CAAC3jB,GAAJ,CAAQ,UAACpF,IAAD,EAAO4M,CAAP;AACP,cAAQ5M,IAAR;AACE,aAAKqnB,QAAQ,CAACO,MAAd;AACE,iBACEjsB,eAAC,UAAD;AAEE,YAAA,KAAK,EAAEiR,CAFT;AAGE,YAAA,KAAK,EAAEqT,GAHT;AAIE,YAAA,SAAS,EAAEoI,SAJb;AAKE,YAAA,SAAS,EAAE3jB,UAAU,CAACmkB,mBAAD,EAAsBD,yBAAtB,CALvB;AAME,YAAA,oBAAoB,EAAEvsB,oBANxB;AAOE,YAAA,MAAM;AAPR,gCACwBuQ,CADxB,CADF;;AAYF,aAAKya,QAAQ,CAACQ,UAAd;AACE,iBACElsB,eAAC,UAAD;AAEE,YAAA,KAAK,EAAE6jB,IAAI,CAACC,IAAL,CAAUlZ,KAAV,IAAmBiZ,IAAI,CAACmI,KAAL,CAAWphB,KAAX,CAF5B;AAGE,YAAA,KAAK,EAAE0Z,GAHT;AAIE,YAAA,OAAO,EAAEgI,OAJX;AAKE,YAAA,SAAS,EAAEI,SALb;AAME,YAAA,SAAS,EAAE3jB,UAAU,CAACmkB,mBAAD,EAAsBF,6BAAtB,CANvB;AAOE,YAAA,oBAAoB,EAAEtsB,oBAPxB;AAQE,YAAA,MAAM,MARR;AASE,YAAA,IAAI;AATN,aACM,oBADN,CADF;;AAcF,aAAKgrB,QAAQ,CAACS,KAAd;AACE,iBACEnsB,eAAC,UAAD;AAEE,YAAA,KAAK,EAAEiR,CAFT;AAGE,YAAA,KAAK,EAAEqT,GAHT;AAIE,YAAA,SAAS,EAAEoI,SAJb;AAKE,YAAA,MAAM,EAAE,KALV;AAME,YAAA,SAAS,EAAEQ,mBANb;AAOE,YAAA,oBAAoB,EAAExsB;AAPxB,kCAC0BuQ,CAD1B,CADF;;AAYF;AACE,iBAAO,IAAP;AA3CJ;AA6CD,KA9CA,CADH,EAgDEjR,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,QAAlB;AAAA,gBAAqC4K,KAArC,SAA8CmiB,IAA9C,IAAqDniB,KAAK,GAAG,CAAR,GAAY,GAAZ,GAAkB,EAAvE;AAAA,MAhDF,EAiDG9K,QAjDH;AAAA,KADF;AAqDD,CAvFc,CAAf;;AAyFA,IAAI4J,qBAAJ,EAAa;AACXkjB,EAAAA,MAAM,CAACjjB,WAAP,GAAqB,QAArB;AACD;;AChGD,IAAM0jB,cAAc,GAAG,SAAjBA,cAAiB,CAAC3tB,KAAD;wBAC0BA,MAAvC4tB;MAAAA,wCAAW/F;MAAMznB,WAAsBJ,MAAtBI;MAAaC,qCAASL;;2BAC/ByiB,iBAAiB,CAAC;AAAEmL,IAAAA,QAAQ,EAARA;AAAF,GAAD;MAAzB3tB,yBAAAA;;AAER,SACEK,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEL;AAAV,KAAmBI,IAAnB;AAAA,cACGD;AADH,KADF;AAKD,CATD;;AAWA,IAAI4J,qBAAJ,EAAa;AACX2jB,EAAAA,cAAc,CAAC1jB,WAAf,GAA6B,gBAA7B;AACD;;oCCCiD8D,2BAAa,CAAqB;AAClFC,EAAAA,MAAM,EAAE,IAD0E;AAElF/C,EAAAA,IAAI,EAAE;AAF4E,CAArB;IAAxD4iB;IAAuBC;;SCbd9mB,kBAAgBnF;wBAC+C2C,cAAc;AACzFG,IAAAA,IAAI,EAAE;AADmF,KAEtF9C,MAFsF;MAA3E2I,8BAAR5J;MAAiC4G,iCAAZpD;MAA4BC,kCAAAA;;AAKzD,MAAMzD,MAAM,GAAG;AAAEW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkBiJ,WAAlB;AAAb,GAAf;AAEA,SAAO;AAAE5J,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6B4G,IAAAA,cAAc,EAAdA,cAA7B;AAA6CnD,IAAAA,eAAe,EAAfA;AAA7C,GAAP;AACD;;ACTD,IAAMsD,QAAM,GAAG,SAATA,MAAS;0BAaTmmB,gBAAgB;MAXlBpqB,6BAAAA;MACAqqB,yCAAAA;MACAhjB,uBAAAA;MACApH,4BAAAA;MACAf,0BAAAA;MACAorB,kCAAAA;MACAC,8BAAAA;MACA1pB,yBAAAA;MACAjC,yBAAAA;MACAtB,yCAAAA;MACA8N,qCAAAA;;yBAEgE9H,iBAAe,CAAC;AAAEzC,IAAAA,IAAI,EAAJA,IAAF;AAAQb,IAAAA,QAAQ,EAARA,QAAR;AAAkBC,IAAAA,OAAO,EAAPA;AAAlB,GAAD;MAAjEuqB,gCAARttB;MAAsB4G,kCAAAA;MAAgBnD,mCAAAA;;AAC9C,MAAMzD,MAAM,GAAGU,6BAAe,CAAC4sB,YAAD,EAAeltB,oBAAf,CAA9B;AACA,MAAMf,GAAG,GAAG2H,YAAA,CAAgC,IAAhC,CAAZ;AAEAA,EAAAA,eAAA,CAAgB;AACd,QAAIqmB,SAAS,KAAIhuB,GAAJ,oBAAIA,GAAG,CAAEsD,OAAT,CAAb,EAA+B;AAC7BtD,MAAAA,GAAG,CAACsD,OAAJ,CAAYoY,KAAZ;AACD;AACF,GAJD,EAIG,EAJH;AAMA,MAAMvb,QAAQ,GAAoBwH,aAAA,CAAc;AAC9C,QAAI,OAAOtF,IAAP,KAAgB,UAApB,EAAgC;AAC9B,UAAM6L,QAAQ,GAAGvL,KAAK,CACnBqK,MADc,CACP;AAAA,YAAUC,CAAV,QAAGhC,KAAH;AAAA,eAAkB8iB,aAAa,CAAChpB,QAAd,CAAuBkI,CAAC,CAACpJ,QAAF,EAAvB,CAAlB;AAAA,OADO,EAEdiG,GAFc,CAEV;AAAA,YAAa5H,KAAb,SAAG/B,QAAH;AAAA,eAAyB+B,KAAzB;AAAA,OAFU,CAAjB;AAGA,aAAOG,IAAI,CAAC6L,QAAD,CAAX;AACD;;AAED,QAAI,OAAO7L,IAAP,KAAgB,WAApB,EAAiC;AAC/B,aAAOA,IAAP;AACD;;AAED,QAAI0rB,aAAa,CAAC5Z,MAAd,KAAyB,CAA7B,EAAgC;AAAA,UACvBkD,YADuB,GACP0W,aADO;;AAE9B,UAAM7f,SAAQ,GAAGvL,KAAK,CAACurB,IAAN,CAAW;AAAA,YAAUjhB,CAAV,SAAGhC,KAAH;AAAA,eAAkBoM,YAAY,KAAKpK,CAAC,CAACpJ,QAAF,EAAnC;AAAA,OAAX,CAAjB;;AAEA,UAAIqK,SAAJ,EAAc;AACZ,eAAOA,SAAQ,CAAC/N,QAAhB;AACD;AACF;;AAED,QAAI4tB,aAAa,CAAC5Z,MAAd,GAAuB,CAA3B,EAA8B;AAC5B,aAAU4Z,aAAa,CAAC5Z,MAAxB;AACD;;AAED,WAAO,kBAAP;AACD,GA1BiC,EA0B/B,CAACga,IAAI,CAACC,SAAL,CAAeL,aAAf,CAAD,EAAgC1rB,IAAhC,CA1B+B,CAAlC;AA4BA,SACEhC,eAAC,GAAD;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmB8C,eAAnB,CAAF,87FAHL;AAIE,IAAA,SAAS,EAAEyK,gBAAgB,CAACkU;AAJ9B,KAKM5Z,gBAAU,CAAC5B,cAAD,EAAiBumB,oBAAoB,CAAC;AAAErqB,IAAAA,QAAQ,EAARA,QAAF;AAAYzD,IAAAA,GAAG,EAAHA;AAAZ,GAAD,CAArC,EAA0D;AAAE8K,IAAAA,EAAE,EAAFA;AAAF,GAA1D,CALhB;AAAA,cAOG3K;AAPH,KADF;AAWD,CA/DD;;SCKgBkuB,gBAAgBzsB;MACtB0C,OAA0C1C,OAA1C0C;MAAMzC,cAAoCD,OAApCC;MAAaqM,WAAuBtM,OAAvBsM;MAAUzK,WAAa7B,OAAb6B;AACrC,MAAM6qB,cAAc,GAAGjqB,WAAW,CAAC;AAAEC,IAAAA,IAAI,EAAJA;AAAF,GAAD,CAAlC;;8BACwB6J,qBAAyB,CAAC;AAAEtM,IAAAA,WAAW,EAAXA;AAAF,GAAD;MAAzCI,6BAAAA;MAAMC,8BAAAA;;AACd,MAAMvB,MAAM,GAAG;AACb4tB,IAAAA,MAAM,EAAE,CAACtsB,IAAD,EAAOwB,QAAQ;AAAA;AAAA;AAAA;AAAA,QAA0C,IAAzD;AAAA;AAAA;AAAA;AAAA,MADK;AAEbtD,IAAAA,QAAQ,EAAE;AAAA;AAAA,OAAa+N,QAAQ;AAAA;AAAA;AAAA;AAAA,KAArB,EAA6CogB,cAA7C,CAFG;AAGbpsB,IAAAA,KAAK,EAAE,CAACA,KAAD;AAHM,GAAf;AAMA,SAAO;AAAEvB,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD;AAAnB,GAAP;AACD;;ACdD,IAAM6tB,MAAM,GAAG,SAATA,MAAS,CAACzuB,KAAD;MACLI,WAAqCJ,MAArCI;MAAU8K,QAA2BlL,MAA3BkL;MAAOxH,WAAoB1D,MAApB0D;MAAUvB,QAAUnC,MAAVmC;;0BAS/B2rB,gBAAgB;MAPlBpf,iCAAAA;MACAmF,qCAAAA;MACAjR,0BAAAA;MACA2B,yBAAAA;MACAypB,kCAAAA;MACAhtB,yCAAAA;MACA8N,qCAAAA;;uBAEoBlH,aAAA,CAAc;AAClC,QAAM2J,CAAC,GAAG3O,KAAK,CAACurB,IAAN,CAAW;AAAA,UAAUjhB,CAAV,QAAGhC,KAAH;AAAA,aAAkBgC,CAAC,KAAKhC,KAAxB;AAAA,KAAX,CAAV;AACA,QAAMwjB,GAAG,GAAG9rB,KAAK,CAAC+rB,SAAN,CAAgB;AAAA,UAAUzhB,CAAV,SAAGhC,KAAH;AAAA,aAAkBgC,CAAC,KAAKhC,KAAxB;AAAA,KAAhB,CAAZ;AACA,WAAO,CAACqG,CAAD,EAAImd,GAAJ,CAAP;AACD,GAJqB,EAInB,CAACxjB,KAAD,EAAQkjB,IAAI,CAACC,SAAL,CAAezrB,KAAf,CAAR,CAJmB;MAAfyL;MAAMhB;;AAKb,MAAMc,QAAQ,GAAG,OAAOjD,KAAP,KAAiB,WAAjB,IAAgC8iB,aAAa,CAAChpB,QAAd,CAAuBkG,KAAK,CAACpH,QAAN,EAAvB,CAAjD;AACA,MAAMhC,WAAW,GAAGuL,KAAK,KAAKwG,gBAA9B;;yBACiCya,eAAe,cAAMtuB,KAAN;AAAa8B,IAAAA,WAAW,EAAXA,WAAb;AAA0BqM,IAAAA,QAAQ,EAARA,QAA1B;AAAoC5J,IAAAA,IAAI,EAAJA;AAApC;MAAhCqqB,gCAARhuB;;AACR,MAAMA,MAAM,GAAGU,6BAAe,CAACstB,YAAD,EAAe5tB,oBAAf,CAA9B;AAEA,SACEiL,gBAAC,GAAD;AACE,IAAA,EAAE,EAAC,IADL;AAGE,IAAA,GAAG,EAAErL,MAAM,CAAC4tB;AAHd,KAIM9f,YAAY,CAAC;AACfL,IAAAA,IAAI,EAAJA,IADe;AAEfhB,IAAAA,KAAK,EAALA,KAFe;AAGf3J,IAAAA,QAAQ,EAARA;AAHe,GAAD,CAJlB;AASE,IAAA,SAAS,EAAEoL,gBAAgB,CAAC+f,eAT9B;AAAA,eAWG1gB,QAAQ,IAAI7N,eAACwuB,aAAD,KAXf,EAaExuB,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAEM,MAAM,CAACR,QAA3B;AAAA,gBACGA;AADH,MAbF,EAiBG+B,KAAK,IACJ7B,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,EAAEM,MAAM,CAACuB,KAA3B;AAAA,gBACGA;AADH,MAlBJ;AAAA,MAEO+I,KAFP,CADF;AAyBD,CA9CD;;SCDgBzI,oBAAkBZ;MACxBa,QAAUb,OAAVa;;8BACcqsB,iBAAqB,CAAC;AAAErsB,IAAAA,KAAK,EAALA;AAAF,GAAD;MAAnCnB,kCAAAA;;4BACgD0C,kBAAkB;MAAtDuD,qCAAZpD;MAA4BC,sCAAAA;;AACpC,MAAMzD,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAETA,SAFS,EAGT8C,eAHS;AADE,GAAf;AAQA,SAAO;AAAEzD,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6B4G,IAAAA,cAAc,EAAdA;AAA7B,GAAP;AACD;;ACbD,IAAMiM,UAAQ,GAAG,SAAXA,QAAW;0BAC+Dqa,gBAAgB;MAAtFlrB,0BAAAA;MAAO+Q,yBAAAA;MAAMG,iCAAAA;MAAc9S,yCAAAA;MAAsB8N,qCAAAA;;2BACNrM,mBAAiB,CAAC;AAAEC,IAAAA,KAAK,EAAEiR;AAAT,GAAD;MAApDqb,oCAARpuB;MAAwB4G,oCAAAA;;AAChC,MAAM5G,MAAM,GAAGU,6BAAe,CAAC0tB,cAAD,EAAiBhuB,oBAAjB,CAA9B;AACA,MAAM0O,OAAO,GAAG9M,KAAK,CAACmH,GAAN,CAAU,UAACsE,IAAD;AAAA,WAAUkB,mBAAC,MAAD,eAAYlB,IAAZ;AAAkB,MAAA,GAAG,EAAEA,IAAI,CAACnD;AAA5B,OAAV;AAAA,GAAV,CAAhB;AAEA,SACE5K,eAAC,GAAD;AACE,IAAA,EAAE,EAAC,IADL;AAEE,IAAA,GAAG,EAAEM,MAAM,CAACW;AAFd,KAGM6H,gBAAU,CAAC5B,cAAD,EAAiBsM,YAAY,EAA7B,CAHhB;AAIE,IAAA,SAAS,EAAEhF,gBAAgB,CAACmF,iBAJ9B;AAAA,cAMGN,IAAI,IAAIjE;AANX,KADF;AAUD,CAhBD;;SCNgBuf;AACd,MAAMruB,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AADE,GAAf;AAIA,SAAO;AAAEX,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD;AAAnB,GAAP;AACD;;ACKD,IAAMsuB,MAAM,gBAAGtnB,gBAAA,CAAiB,UAAC5H,KAAD,EAAqBC,GAArB;kBAoB1BD,MAlBF+K;MAAAA,wCAAeC,WAAK;MACpB5K,WAiBEJ,MAjBFI;MACA+B,QAgBEnC,MAhBFmC;MACA8I,OAeEjL,MAfFiL;MACAC,QAcElL,MAdFkL;MACAG,WAaErL,MAbFqL;oBAaErL,MAZFuE;MAAAA,gCAAO;wBAYLvE,MAXF0D;MAAAA,wCAAW;uBAWT1D,MAVF2D;MAAAA,sCAAU;wBAUR3D,MATFmvB;MAAAA,wCAAW;yBASTnvB,MARFiuB;MAAAA,0CAAY;MACZ3rB,OAOEtC,MAPFsC;8BAOEtC,MANFgB;MAAAA,0DAAuB;MACfC,aAKNjB,MALFY;MACAmH,YAIE/H,MAJF+H;MACAib,kBAGEhjB,MAHFgjB;MACA/O,oBAEEjU,MAFFiU;MACA4a,kBACE7uB,MADF6uB;;yBAG+BI,eAAe;MAAhCG,gCAARxuB;;AACR,MAAMA,MAAM,GAAGU,6BAAe,CAAC8tB,YAAD,EAAepuB,oBAAf,CAA9B;;AAEA,MAAMkW,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAA8BkY,gBAA9B;QACXpY,UAAkBoY,iBAAlBpY;QAAStS,OAAS0qB,iBAAT1qB;;AAEjB,YAAQA,IAAR;AACE,WAAK2qB,mBAAS,CAAClY,gBAAV,CAA2BmY,gBAAhC;AACA,WAAKD,mBAAS,CAAClY,gBAAV,CAA2BoY,sBAAhC;AACA,WAAKF,mBAAS,CAAClY,gBAAV,CAA2BQ,SAAhC;AACE,4BACKX,OADL;AAEES,UAAAA,MAAM,EAAEyX,QAFV;AAGEtb,UAAAA,gBAAgB,EAAEsD,KAAK,CAACtD;AAH1B;;AAMF;AACE,eAAOoD,OAAP;AAXJ;AAaD,GAhBD;;AAkBA,MAAMrI,YAAY,GAAG,SAAfA,YAAe,CAACP,IAAD;AAAA;;AAAA,mCAAwBA,IAAxB,mCAAwBA,IAAI,CAAEnD,KAA9B,qBAAwB,YAAapH,QAAb,EAAxB,mCAAmD,EAAnD;AAAA,GAArB;;AAGA,MAAMlB,KAAK,GAAgBgF,aAAA,CACzB;AAAA,WACEiC,2BAAa,CAACzJ,QAAD,CAAb,CAAwBsZ,MAAxB,CACE,UAAC+V,GAAD;AAAA,UAAeC,WAAf,QAAQ1vB,KAAR;AAAA,uBAA6DyvB,GAA7D,GAAkEC,WAAlE;AAAA,KADF,EAEE,EAFF,CADF;AAAA,GADyB,EAMzB,CAACtvB,QAAD,CANyB,CAA3B;;AASA,MAAMuvB,SAAS,GAAG,SAAZA,SAAY,CAAC9kB,KAAD;AAChB,QAAI,OAAOA,KAAP,KAAiB,WAArB,EAAkC;AAChC,aAAO,EAAP;AACD;;AAGD,QAAMgC,MAAM,GAAGwE,qBAAO,CAACxG,KAAD,CAAP,GAAiBA,KAAK,CAACd,GAAN,CAAUsf,MAAV,CAAjB,GAAqC,CAACxe,KAAK,CAAC/G,QAAN,EAAD,CAApD;AAEA,WAAOqrB,QAAQ,GAAGtiB,MAAH,GAAYA,MAAM,CAACgI,KAAP,CAAa,CAAb,EAAgB,CAAhB,CAA3B;AACD,GATD;;wBAY0CjN,cAAA,CAA8B+nB,SAAS,CAACzkB,KAAD,CAAvC;MAAnC8iB;MAAe4B;;AAGtB,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC1hB,QAAD;AAClByhB,IAAAA,gBAAgB,CAACzhB,QAAD,CAAhB;;AAEA,QAAI9C,QAAJ,EAAc;AAAA,UACLykB,KADK,GACI3hB,QADJ;AAEZ9C,MAAAA,QAAQ,CAAC8jB,QAAQ,GAAGhhB,QAAH,GAAc2hB,KAAvB,CAAR;AACD;AACF,GAPD;;AASAloB,EAAAA,eAAA,CAAgB;AACdgoB,IAAAA,gBAAgB,CAACD,SAAS,CAACzkB,KAAD,CAAV,CAAhB;AACD,GAFD,EAEG,CAACA,KAAD,CAFH;;mBAWIokB,mBAAS,CAAO;AAClB1sB,IAAAA,KAAK,EAALA,KADkB;AAElBsU,IAAAA,YAAY,EAAZA,YAFkB;AAGlBI,IAAAA,YAAY,EAAE,IAHI;AAIlByY,IAAAA,uBAAuB,EAAEntB,KAAK,CAAC+rB,SAAN,CAAgB;AAAA,UAAUzhB,CAAV,SAAGhC,KAAH;AAAA,aAAkBgC,CAAC,CAACpJ,QAAF,OAAiBkqB,aAAa,CAAC,CAAD,CAAhD;AAAA,KAAhB,CAJP;AAKlBpf,IAAAA,YAAY,EAAZA,YALkB;AAMlBohB,IAAAA,oBAAoB,EAAE;UAAG1Y,qBAAAA;;AACvB,UAAI,CAACA,YAAL,EAAmB;AACjB;AACD;;AAED,UAAM2Y,aAAa,GAAGrhB,YAAY,CAAC0I,YAAD,CAAlC;;AAEA,UAAI,CAAC6X,QAAL,EAAe;AACbU,QAAAA,WAAW,CAAC,CAACI,aAAD,CAAD,CAAX;AACA;AACD;;AAED,UAAM5iB,KAAK,GAAG2gB,aAAa,CAACW,SAAd,CAAwB,UAACzhB,CAAD;AAAA,eAAOA,CAAC,KAAK+iB,aAAb;AAAA,OAAxB,CAAd;;AAEA,UAAI5iB,KAAK,GAAG,CAAZ,EAAe;AACbwiB,QAAAA,WAAW,WAAK7B,aAAa,CAACnZ,KAAd,CAAoB,CAApB,EAAuBxH,KAAvB,CAAL,EAAuC2gB,aAAa,CAACnZ,KAAd,CAAoBxH,KAAK,GAAG,CAA5B,CAAvC,EAAX;AACD,OAFD,MAEO,IAAIA,KAAK,KAAK,CAAd,EAAiB;AACtBwiB,QAAAA,WAAW,WAAK7B,aAAa,CAACnZ,KAAd,CAAoB,CAApB,CAAL,EAAX;AACD,OAFM,MAEA;AACLgb,QAAAA,WAAW,WAAK7B,aAAL,GAAoBiC,aAApB,GAAX;AACD;AACF;AA3BiB,GAAP;MANHtc,kBAAR+D;MACAqW,kCAAAA;MACAjW,2BAAAA;MACAhE,0BAAAA;MACAD,8BAAAA;MACAnF,0BAAAA;;AA+BF,MAAMyJ,OAAO,GAAG;AACdpN,IAAAA,EAAE,EAAFA,EADc;AAEd4I,IAAAA,IAAI,EAAJA,IAFc;AAGd/Q,IAAAA,KAAK,EAALA,KAHc;AAIdorB,IAAAA,aAAa,EAAbA,aAJc;AAKdna,IAAAA,gBAAgB,EAAhBA,gBALc;AAMdC,IAAAA,YAAY,EAAZA,YANc;AAOdpF,IAAAA,YAAY,EAAZA,YAPc;AAQdqf,IAAAA,oBAAoB,EAApBA,oBARc;AASdnf,IAAAA,YAAY,EAAZA,YATc;AAUdugB,IAAAA,QAAQ,EAARA,QAVc;AAWdzrB,IAAAA,QAAQ,EAARA,QAXc;AAYdC,IAAAA,OAAO,EAAPA,OAZc;AAadsqB,IAAAA,SAAS,EAATA,SAbc;AAcd1pB,IAAAA,IAAI,EAAJA,IAdc;AAedjC,IAAAA,IAAI,EAAJA,IAfc;AAgBdtB,IAAAA,oBAAoB,EAApBA,oBAhBc;AAiBd8N,IAAAA,gBAAgB,EAAE;AAChBkU,MAAAA,eAAe,EAAfA,eADgB;AAEhB/O,MAAAA,iBAAiB,EAAjBA,iBAFgB;AAGhB4a,MAAAA,eAAe,EAAfA;AAHgB;AAjBJ,GAAhB;AAyBA,MAAMqB,YAAY,GAAGrM,sBAAQ,CAAC5Y,IAAD,CAAR,IAAkB,CAACvH,QAAxC;AAEA,SACEpD,eAAC,qBAAD;AAAuB,IAAA,KAAK,EAAE6X,OAA9B;AAAA,cACElM,gBAAC,GAAD;AAAK,MAAA,GAAG,oBAAE,CAACrL,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF,kpNAAR;AAA0C,MAAA,GAAG,EAAEhB,GAA/C;AAAoD,MAAA,SAAS,EAAE8H,SAA/D;AAAA,iBACG5F,KAAK,IACJ7B,eAAC,KAAD;AAAO,QAAA,cAAc;AAArB,SAA0BwX,aAAa,EAAvC;AAAA,kBACG3V;AADH,SAFJ,EAOE7B,eAACqH,QAAD,KAPF,EASErH,eAACmT,UAAD,KATF,EAWGyc,YAAY,IACXlC,aAAa,CAACjkB,GAAd,CAAkB,UAACmD,CAAD;AAAA,eAAO5M,eAAC,GAAD;AAAK,UAAA,EAAE,EAAC,OAAR;AAAgB,UAAA,IAAI,EAAC,QAArB;AAA8B,UAAA,IAAI,EAAE2K,IAApC;AAA0C,UAAA,KAAK,EAAEiC;AAAjD,WAA4DjC,IAA5D,SAAoEiC,CAApE,CAAP;AAAA,OAAlB,CAZJ;AAAA;AADF,IADF;AAkBD,CArKc,CAAf;;AAuKA,IAAIlD,qBAAJ,EAAa;AACXklB,EAAAA,MAAM,CAACjlB,WAAP,GAAqB,QAArB;AACD;;ACjLD,IAAMkmB,OAAO,GAAG,SAAVA,OAAU;AAAA,MAAGvvB,MAAH,QAAGA,MAAH;AAAA,MAAWI,AAAyBhB,KAApC;;AAAA,SAA8DM,eAACma,UAAD;AAAa,IAAA,GAAG,EAAE7Z;AAAlB,KAA8BZ,KAA9B,EAA9D;AAAA,CAAhB;;AAEA,IAAIgK,qBAAJ,EAAa;AACXmmB,EAAAA,OAAO,CAAClmB,WAAR,GAAsB,SAAtB;AACD;;ACLD,aAAe,UAACjK,KAAD;AAAA,SAA6BM,eAAC8vB,eAAD,eAAiBpwB,KAAjB,EAA7B;AAAA,CAAf;;ACDO,IAAMqwB,MAAM,GAAiB,CAClC;AACEtlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CADkC,EAKlC;AACEvlB,EAAAA,EAAE,EAAE,QADN;AAEEulB,EAAAA,EAAE;AAFJ,CALkC,EASlC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CATkC,EAalC;AACEvlB,EAAAA,EAAE,EAAE,MADN;AAEEulB,EAAAA,EAAE;AAFJ,CAbkC,EAiBlC;AACEvlB,EAAAA,EAAE,EAAE,SADN;AAEEulB,EAAAA,EAAE;AAFJ,CAjBkC,EAqBlC;AACEvlB,EAAAA,EAAE,EAAE,KADN;AAEEulB,EAAAA,EAAE;AAFJ,CArBkC,EAyBlC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CAzBkC,EA6BlC;AACEvlB,EAAAA,EAAE,EAAE,QADN;AAEEulB,EAAAA,EAAE;AAFJ,CA7BkC,EAiClC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CAjCkC,EAqClC;AACEvlB,EAAAA,EAAE,EAAE,QADN;AAEEulB,EAAAA,EAAE;AAFJ,CArCkC,EAyClC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CAzCkC,EA6ClC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CA7CkC,EAiDlC;AACEvlB,EAAAA,EAAE,EAAE,MADN;AAEEulB,EAAAA,EAAE;AAFJ,CAjDkC,EAqDlC;AACEvlB,EAAAA,EAAE,EAAE,MADN;AAEEulB,EAAAA,EAAE;AAFJ,CArDkC,EAyDlC;AACEvlB,EAAAA,EAAE,EAAE,WADN;AAEEulB,EAAAA,EAAE;AAFJ,CAzDkC,EA6DlC;AACEvlB,EAAAA,EAAE,EAAE,MADN;AAEEulB,EAAAA,EAAE;AAFJ,CA7DkC,EAiElC;AACEvlB,EAAAA,EAAE,EAAE,cADN;AAEEulB,EAAAA,EAAE;AAFJ,CAjEkC,EAqElC;AACEvlB,EAAAA,EAAE,EAAE,OADN;AAEEulB,EAAAA,EAAE;AAFJ,CArEkC,EAyElC;AACEvlB,EAAAA,EAAE,EAAE,QADN;AAEEulB,EAAAA,EAAE;AAFJ,CAzEkC,EA6ElC;AACEvlB,EAAAA,EAAE,EAAE,QADN;AAEEulB,EAAAA,EAAE;AAFJ,CA7EkC,CAA7B;AAmFP,AAAO,IAAMC,SAAS,gBAAGF,MAAM,CAACtmB,GAAP,CAAW;AAAA,MAAGgB,EAAH,QAAGA,EAAH;AAAA,SAAYA,EAAZ;AAAA,CAAX,CAAlB;;oCC/E2CgD,2BAAa,CAAqB;AAClFC,EAAAA,MAAM,EAAE,IAD0E;AAElF/C,EAAAA,IAAI,EAAE;AAF4E,CAArB;IAAxDulB;IAAuBC;;SCINC,eAAe1wB;MAC7BoL,UAA6BpL,MAA7BoL;MAASulB,SAAoB3wB,MAApB2wB;MAAQhvB,UAAY3B,MAAZ2B;;4BACesC,kBAAkB,CAAC;AAAE7B,IAAAA,KAAK,EAAEinB,MAAM,CAACsH,MAAD;AAAf,GAAD;MAAlDvsB,iCAAAA;MAAYC,sCAAAA;;AACpB,MAAMusB,kBAAkB,GAAGlvB,eAAe,CAAC;AAAEC,IAAAA,OAAO,EAAPA;AAAF,GAAD,CAA1C;AAEA,MAAMf,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE,CACT8C,eADS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGTusB,kBAHS,CADE;AAMbC,IAAAA,SAAS,EAAE,CAACzlB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;AANE,GAAf;AASA,SAAO;AAAExK,IAAAA,MAAM,EAAE4B,uBAAS,CAAC5B,MAAD,CAAnB;AAA6BwD,IAAAA,UAAU,EAAVA;AAA7B,GAAP;AACD;;;;ACVD,IAAM0sB,WAAW;AAAA;AAAA;AAAA,aAKN;AAAA,MAAGC,SAAH,QAAGA,SAAH;AAAA,SAAmBA,SAAnB;AAAA,CALM,wBAMK;AAAA,MAAGT,EAAH,SAAGA,EAAH;AAAA,SAAYA,EAAZ;AAAA,CANL,oBAOC;AAAA,MAAGK,MAAH,SAAGA,MAAH;AAAA,SAAgBA,MAAhB;AAAA,CAPD,qkMAAjB;;;;;;;;;;;;;;;;AAUA,IAAMK,eAAe,gBAAGppB,UAAA,CACtB;;;MACEmD,WAAAA;MACAulB,WAAAA;2BACAK;MAAAA,mCAAS,IAAIM,UAAJ,CAAeX,EAAf,EAAmBY,MAAnB,CAA0B,GAA1B,EAA+BC,MAA/B;0BACT/uB;MAAAA,iCAAQ,IAAI6uB,UAAJ,CAAeX,EAAf,EAAmBc,OAAnB,KACJ,IAAIH,UAAJ,CAAeX,EAAf,EAAmBe,SAAnB,CAA6B,EAA7B,EAAiCF,MAAjC,EADI,GAEJ,IAAIF,UAAJ,CAAeX,EAAf,EAAmBe,SAAnB,CAA6B,EAA7B,EAAiCF,MAAjC;4BACJxvB;MAAAA,qCAAU;MACVoG,kBAAAA;oCACAupB;MAAAA,sDAAmB;MACnBlmB,gBAAAA;MACAmmB,iBAAAA;oCACAvwB;MAAAA,0DAAuB;AAEvB,MAAMf,GAAG,GAAG2H,YAAA,CAA+B,IAA/B,CAAZ;AACA,MAAM4pB,WAAW,GAAGC,qBAAc,EAAlC;;mBACuBC,iBAAS,CAC9B;AACExmB,IAAAA,KAAK,EAAEme,MAAM,CAACje,OAAD,CADf;AAEE,kBAAcL,EAFhB;AAGEE,IAAAA,IAAI,EAAEF;AAHR,GAD8B,EAM9BymB,WAN8B,EAO9BvxB,GAP8B;MAAxBqY,wBAAAA;;wBAUoCoY,cAAc,CAAC;AAAEC,IAAAA,MAAM,EAANA,MAAF;AAAUvlB,IAAAA,OAAO,EAAPA,OAAV;AAAmBzJ,IAAAA,OAAO,EAAPA;AAAnB,GAAD;MAA1CgwB,8BAAR/wB;MAAqBwD,6BAAAA;;AAC7B,MAAMxD,MAAM,GAAGU,6BAAe,CAACqwB,WAAD,EAAc3wB,oBAAd,CAA9B;AAEA,SACEiL,gBAAC,WAAD;AACE,IAAA,EAAE,EAAEqkB,EADN;AAEE,IAAA,MAAM,EAAEK,MAFV;AAGE,IAAA,SAAS,EAAEvuB,KAHb;AAIE,IAAA,GAAG,EAAExB,MAAM,CAACW,SAJd;AAKE,IAAA,SAAS,EAAE8H,UAAU,CAACtB,SAAD,iCAAeupB,gBAAf,IAAkClmB,OAAlC,eALvB;AAAA,eAOE9K,eAAC,GAAD;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,GAAG,OAAlB;AAAA,gBACGyK;AADH,MAPF,EAUEzK,eAAC,GAAD;AACE,MAAA,EAAE,EAAC,OADL;AAEE,MAAA,GAAG;AAFL,OAGMgY,UAHN,EAIMlU,UAJN;AAKE,MAAA,GAAG,EAAEnE,GALP;AAME,sBAAcmL,OANhB;AAOE,MAAA,OAAO,EAAEmmB;AAPX,OAVF,EAmBEjxB,eAACsxB,QAAD;AAAW,MAAA,GAAG,EAAEhxB,MAAM,CAACiwB;AAAvB,MAnBF;AAAA,IADF;AAuBD,CArDqB,CAAxB;AAwDA,AAAO,IAAM7sB,KAAK,GAAG,SAARA,KAAQ,CAAChE,KAAD;MACX+K,KAAO/K,MAAP+K;;0BACkD0lB,gBAAgB;MAAlEtZ,0BAAAA;MAAO0a,6BAAAA;gDAAU7wB;MAAAA,0DAAuB;;AAChD,MAAMoK,OAAO,GAAGxD,aAAA,CAAc;AAAA,WAAMuP,KAAK,CAACnS,QAAN,CAAe+F,EAAf,CAAN;AAAA,GAAd,EAAwC,CAACoM,KAAD,EAAQpM,EAAR,CAAxC,CAAhB;AACA,MAAMwmB,MAAM,GAAG3pB,iBAAA,CAAkB;AAAA,WAAMiqB,QAAQ,CAAC9mB,EAAD,CAAd;AAAA,GAAlB,EAAsC,CAAC8mB,QAAD,EAAW9mB,EAAX,CAAtC,CAAf;AACA,SAAOzK,eAAC,eAAD,eAAqBN,KAArB;AAA4B,IAAA,oBAAoB,EAAEgB,oBAAlD;AAAwE,IAAA,MAAM,EAAEuwB,MAAhF;AAAwF,IAAA,OAAO,EAAEnmB;AAAjG,KAAP;AACD,CANM;;AAQP,IAAIpB,qBAAJ,EAAa;AACXhG,EAAAA,KAAK,CAACiG,WAAN,GAAoB,cAApB;AACD;;AAKDjG,KAAK,CAAC8tB,KAAN,GAAc,UAACC,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAACguB,MAAN,GAAe,UAACD,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAf;;AAEA/tB,KAAK,CAACiuB,KAAN,GAAc,UAACF,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAACkuB,IAAN,GAAa,UAACH,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAb;;AAEA/tB,KAAK,CAACmuB,OAAN,GAAgB,UAACJ,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAhB;;AAEA/tB,KAAK,CAACouB,GAAN,GAAY,UAACL,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAZ;;AAEA/tB,KAAK,CAACquB,KAAN,GAAc,UAACN,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAACsuB,MAAN,GAAe,UAACP,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAf;;AAEA/tB,KAAK,CAACuuB,KAAN,GAAc,UAACR,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAACwuB,MAAN,GAAe,UAACT,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,CAAD,CAA5B,EAAoC0B,eAApC,EAA/C;AAAA,CAAf;;AAEA/tB,KAAK,CAACyuB,KAAN,GAAc,UAACV,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAAC0uB,KAAN,GAAc,UAACX,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAAC2uB,IAAN,GAAa,UAACZ,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAb;;AAEA/tB,KAAK,CAAC4uB,IAAN,GAAa,UAACb,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAb;;AAEA/tB,KAAK,CAAC6uB,SAAN,GAAkB,UAACd,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAChB/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EADgB;AAAA,CAAlB;;AAGA/tB,KAAK,CAAC8uB,IAAN,GAAa,UAACf,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAb;;AAEA/tB,KAAK,CAAC+uB,YAAN,GAAqB,UAAChB,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SACnB/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EADmB;AAAA,CAArB;;AAGA/tB,KAAK,CAACgvB,KAAN,GAAc,UAACjB,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAd;;AAEA/tB,KAAK,CAACivB,MAAN,GAAe,UAAClB,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAf;;AAEA/tB,KAAK,CAACkvB,MAAN,GAAe,UAACnB,eAAD;AAAA,MAACA,eAAD;AAACA,IAAAA,eAAD,GAAwC,EAAxC;AAAA;;AAAA,SAA+C/tB,KAAK,CAACwM,IAAN,CAAW,IAAX,eAAsB6f,MAAM,CAAC,EAAD,CAA5B,EAAqC0B,eAArC,EAA/C;AAAA,CAAf;;AChIA,IAAMoB,MAAM,GAAG,SAATA,MAAS;MACb/yB,gBAAAA;gCACAgzB;MAAAA,gDAAgB;2BAChB/nB;MAAAA,sCAAW;MACHpK,kBAARL;mCACAI;MAAAA,0DAAuB;mCACvBqyB;MAAAA,2DAAwB;iCACxBC;MAAAA,kDAAiB;MACdjzB;;AAEH,MAAMO,MAAM,GAAGU,6BAAe,CAAC;AAAEC,IAAAA,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAX,GAAD,EAAgDP,oBAAhD,CAA9B;AACA,MAAM4I,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AACA,MAAMyxB,QAAQ,GAAGjqB,iBAAA,CACf,UAACxF,KAAD;AACE,QAAIgxB,aAAa,CAACpuB,QAAd,CAAuB5C,KAAvB,CAAJ,EAAmC;AACjCiJ,MAAAA,QAAQ,CAAC+nB,aAAa,CAACnmB,MAAd,CAAqB,UAACsmB,CAAD;AAAA,eAAOA,CAAC,KAAKnxB,KAAb;AAAA,OAArB,CAAD,CAAR;AACD,KAFD,MAEO;AACLiJ,MAAAA,QAAQ,WAAK+nB,aAAL,GAAoBhxB,KAApB,GAAR;AACD;AACF,GAPc,EAQf,CAACgsB,IAAI,CAACC,SAAL,CAAe+E,aAAf,CAAD,CARe,CAAjB;AAWA,SACE9yB,eAAC,qBAAD;AAAuB,IAAA,KAAK,EAAE;AAAE6W,MAAAA,KAAK,EAAEic,aAAT;AAAwBvB,MAAAA,QAAQ,EAARA,QAAxB;AAAkC7wB,MAAAA,oBAAoB,EAApBA;AAAlC,KAA9B;AAAA,cACEV,eAAC,GAAD;AAAK,MAAA,GAAG,oBAAE,CAACM,MAAM,CAACW,SAAR,EAAmBN,UAAnB,CAAF;AAAR,OAA8CZ,IAA9C;AAAA,gBACGuJ,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD;AAAA,4BACjB0G,kBAAA,CAAmB1G,KAAnB;AACE6G,UAAAA,SAAS,EAAEurB,cADb;AAEEhC,UAAAA,gBAAgB,EAAE+B;AAFpB,WAGKnyB,KAAK,CAAClB,KAHX,EADiB;AAAA,OAAlB;AADH;AADF,IADF;AAaD,CApCD;;AAsCA,IAAIgK,qBAAJ,EAAa;AACXmpB,EAAAA,MAAM,CAAClpB,WAAP,GAAqB,QAArB;AACD;;AAEDkpB,MAAM,CAACnvB,KAAP,GAAeA,KAAf;AACAmvB,MAAM,CAAC5C,SAAP,GAAmBA,SAAnB;;oCCjD4CxiB,2BAAa,CAAqB;AAC5EC,EAAAA,MAAM,EAAE,IADoE;AAE5E/C,EAAAA,IAAI,EAAE;AAFsE,CAArB;IAAlDuoB;IAAoBC;;SCIHC,aAAa1zB;MAC3BmO,WAAuBnO,MAAvBmO;MAAUzK,WAAa1D,MAAb0D;;uBACC+vB,aAAa;MAAxBE,wBAAAA;;AACR,MAAM5xB,KAAK,GAAGC,sBAAQ,EAAtB;;4BACwDiC,kBAAkB,CAAC;AAAEtC,IAAAA,OAAO,EAAE;AAAX,GAAD;MAAtD6F,qCAAZpD;MAA4BC,sCAAAA;;AACpC,MAAMzD,MAAM,GAAyB,EAArC;AAEAA,EAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,MAAI,CAACqN,QAAL,EAAe;AACbvN,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,MAAI6yB,MAAJ,EAAY;AACV/yB,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AACD;;AAED,MAAI4C,QAAJ,EAAc;AACZ9C,IAAAA,MAAM,CAACE,IAAP;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,MAAIqN,QAAJ,EAAc;AACZvN,IAAAA,MAAM,CAACE,IAAP,aAAsBiB,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA1C,+BAAwE7B,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoBuB,IAA5F;AACD;;AAED,SAAO;AAAEhD,IAAAA,MAAM,EAAE,cAACC,QAAG,CAACD,MAAD,k4DAAJ,EAAcyD,eAAd,CAAV;AAA0CmD,IAAAA,cAAc,EAAdA;AAA1C,GAAP;AACD;;AC1BD,IAAMosB,GAAG,gBAAGhsB,gBAAA,CAAiB,UAAC5H,KAAD,EAAkBC,GAAlB;;;MACnBkO,WAAuEnO,MAAvEmO;MAAUzK,WAA6D1D,MAA7D0D;MAAUqH,KAAmD/K,MAAnD+K;MAAIhD,YAA+C/H,MAA/C+H;8BAA+C/H,MAApC6zB;MAAAA,uDAAoB;MAAOxzB,qCAASL;;uBACtCyzB,aAAa;6CAA9CzyB;MAAAA,0DAAuB;;sBACqB0yB,YAAY,CAAC1zB,KAAD;MAAhDkJ,gCAARtI;MAAyB4G,+BAAAA;;AACjC,MAAM5G,MAAM,GAAGU,6BAAe,CAAC;AAAEC,IAAAA,SAAS,EAAE2H;AAAb,GAAD,EAAiClI,oBAAjC,CAA9B;AAEA,SACEV,eAAC,GAAD;AACE,IAAA,GAAG,EAAEL,GADP;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,EAAE,EAAC,QAHL;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,QAAQ,EAAEkO,QAAQ,GAAG,CAAH,GAAO,CAAC,CAL5B;AAME,IAAA,EAAE,WAASpD,EANb;AAOE,IAAA,QAAQ,EAAErH,QAPZ;AAQE,qBAAeyK,QARjB;AASE,qBAAezK,QATjB;AAUE,gCAAwBqH,EAV1B;AAWE,IAAA,SAAS,EAAE1B,UAAU,CAACtB,SAAD,iCAAe8rB,iBAAf,IAAmC1lB,QAAnC,eAXvB;AAYE,IAAA,GAAG,EAAEvN,MAAM,CAACW;AAZd,KAaM6H,gBAAU,CAAC/I,IAAD,EAAOmH,cAAP,CAbhB,EADF;AAiBD,CAvBW,CAAZ;;AAyBA,IAAIwC,qBAAJ,EAAa;AACX4pB,EAAAA,GAAG,CAAC3pB,WAAJ,GAAkB,KAAlB;AACD;;SChCuB6pB;uBACJL,aAAa;MAAvBvuB,uBAAAA;;AACR,MAAMtE,MAAM,GAAG;AACbW,IAAAA,SAAS,EAAE;AAAA;AAAA;AAAA,OAET;AAAE+kB,MAAAA,SAAS,sBAAoB,UAAyBxiB,QAAzB;AAA/B,KAFS,CADE;AAKbiwB,IAAAA,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALH,GAAf;;AAQA,UAAQ7uB,KAAR;AACE,SAAK,QAAL;AACEtE,MAAAA,MAAM,CAACmzB,cAAP,CAAsBjzB,IAAtB;AAAA;AAAA;AACA;;AAEF,SAAK,KAAL;AACEF,MAAAA,MAAM,CAACmzB,cAAP,CAAsBjzB,IAAtB;AAAA;AAAA;AACA;;AAEF;AACA,SAAK,OAAL;AACEF,MAAAA,MAAM,CAACmzB,cAAP,CAAsBjzB,IAAtB;AAAA;AAAA;AACA;AAZJ;;AAeA,SAAO0B,uBAAS,CAAC5B,MAAD,CAAhB;AACD;;ACvBD,IAAMozB,OAAO,gBAAGpsB,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAsBC,GAAtB;MACvBG,WAA8DJ,MAA9DI;MAAUgW,YAAoDpW,MAApDoW;MAAWtO,AAAgCzH,qCAASL;;uBAUlEyzB,aAAa;MARf1oB,oBAAAA;MACOkpB,+BAAP5mB;MACA6mB,6BAAAA;MACAC,mCAAAA;MACAC,wBAAAA;MACAC,6BAAAA;MACAC,8BAAAA;6CACAtzB;MAAAA,0DAAuB;;AAEzB,MAAMJ,MAAM,GAAGU,6BAAe,CAACwyB,gBAAgB,EAAjB,EAAqB9yB,oBAArB,CAA9B;AACA,MAAMuzB,QAAQ,GAAGlxB,YAAM,CAAyB,EAAzB,CAAvB;AACA,MAAMuG,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AAEA,MAAMo0B,gBAAgB,GAAG5qB,aAAa,CACnCG,GADsB,CAClB,UAAC7I,KAAD,EAAQmM,KAAR;AAAA,WAAmBnM,KAAK,CAAClB,KAAN,CAAY0D,QAAZ,KAAyB,IAAzB,GAAgC,IAAhC,GAAuC2J,KAA1D;AAAA,GADkB,EAEtBJ,MAFsB,CAEf,UAACI,KAAD;AAAA,WAAWA,KAAK,IAAI,IAApB;AAAA,GAFe,CAAzB;AAIA,MAAMonB,oBAAoB,GAAGD,gBAAgB,CAACE,OAAjB,CAAyBT,aAAzB,CAA7B;AACA,MAAM/P,KAAK,GAAGsQ,gBAAgB,CAACpgB,MAA/B;;AAEA,MAAMugB,WAAW,GAAG,SAAdA,WAAc,CAACtnB,KAAD;;;AAClB,QAAMunB,UAAU,GAAGJ,gBAAgB,CAACnnB,KAAD,CAAnC;AAEA,6BAAAknB,QAAQ,CAAChxB,OAAT,CAAiBqxB,UAAjB,4CAA8BjZ,KAA9B;;AAEA,QAAI0Y,WAAJ,EAAiB;AACfA,MAAAA,WAAW,CAACO,UAAD,CAAX;AACD;AACF,GARD;;AAUA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACluB,KAAD;AACpB,QAAIA,KAAK,CAAC2G,GAAN,KAAc,YAAlB,EAAgC;AAC9B3G,MAAAA,KAAK,CAACmuB,cAAN;AACA,UAAMC,SAAS,GAAG,CAACN,oBAAoB,GAAG,CAAxB,IAA6BvQ,KAA/C;AACAyQ,MAAAA,WAAW,CAACI,SAAD,CAAX;AACD;;AAED,QAAIpuB,KAAK,CAAC2G,GAAN,KAAc,WAAd,IAA6B3G,KAAK,CAAC2G,GAAN,KAAc,SAA/C,EAA0D;AACxD3G,MAAAA,KAAK,CAACmuB,cAAN;;AACA,UAAMC,UAAS,GAAG,CAACN,oBAAoB,GAAG,CAAvB,GAA2BvQ,KAA5B,IAAqCA,KAAvD;;AACAyQ,MAAAA,WAAW,CAACI,UAAD,CAAX;AACD;;AAED,QAAIpuB,KAAK,CAAC2G,GAAN,KAAc,MAAlB,EAA0B;AACxB3G,MAAAA,KAAK,CAACmuB,cAAN;AACAH,MAAAA,WAAW,CAAC,CAAD,CAAX;AACD;;AAED,QAAIhuB,KAAK,CAAC2G,GAAN,KAAc,KAAlB,EAAyB;AACvB3G,MAAAA,KAAK,CAACmuB,cAAN;AACAH,MAAAA,WAAW,CAACzQ,KAAK,GAAG,CAAT,CAAX;AACD;;AAED,QAAIvd,KAAK,CAAC2G,GAAN,KAAc,WAAlB,EAA+B;AAC7B3G,MAAAA,KAAK,CAACmuB,cAAN;;AAEA,UAAIR,YAAJ,EAAkB;AAChBA,QAAAA,YAAY;AACb;AACF;;AAED,QAAIle,SAAJ,EAAe;AACbA,MAAAA,SAAS,CAACzP,KAAD,CAAT;AACD;AACF,GAlCD;;AAoCA,MAAMmD,MAAM,GAAGF,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD,EAAQmM,KAAR;AAC/B,QAAMc,QAAQ,GAAGimB,MAAM,GAAG/mB,KAAK,KAAK6mB,WAAb,GAA2B7mB,KAAK,KAAK4mB,aAA5D;;AAEA,QAAMe,WAAW,GAAG,SAAdA,WAAc,CAACruB,KAAD;;;AAGlB,+BAAA4tB,QAAQ,CAAChxB,OAAT,CAAiB8J,KAAjB,4CAAyBsO,KAAzB;AAEAwY,MAAAA,iBAAiB,CAAC9mB,KAAD,CAAjB;AACAgnB,MAAAA,WAAW,CAAChnB,KAAD,CAAX;;AAEA,UAAInM,KAAK,CAAClB,KAAN,CAAY8H,OAAhB,EAAyB;AACvB5G,QAAAA,KAAK,CAAClB,KAAN,CAAY8H,OAAZ,CAAoBnB,KAApB;AACD;AACF,KAXD;;AAaA,wBAAOnF,kBAAY,CAACN,KAAD,EAAQ;AACzBjB,MAAAA,GAAG,EAAE,aAACg1B,IAAD;AACHV,QAAAA,QAAQ,CAAChxB,OAAT,CAAiB8J,KAAjB,IAA0B4nB,IAA1B;AACA,eAAOA,IAAP;AACD,OAJwB;AAKzB9mB,MAAAA,QAAQ,EAARA,QALyB;AAMzBrG,MAAAA,OAAO,EAAEktB,WANgB;AAOzBjqB,MAAAA,EAAE,EAAKA,EAAL,SAAWsC;AAPY,KAAR,CAAnB;AASD,GAzBc,CAAf;AA2BA,SACE/M,eAAC,GAAD;AAAK,IAAA,GAAG,EAAEM,MAAM,CAACW,SAAjB;AAAA,cACEjB,eAAC,GAAD;AAAK,MAAA,GAAG,EAAEL,GAAV;AAAe,MAAA,IAAI,EAAC,SAApB;AAA8B,MAAA,SAAS,EAAE40B,aAAzC;AAAwD,MAAA,GAAG,EAAEj0B,MAAM,CAACmzB;AAApE,OAAwF1zB,IAAxF;AAAA,gBACGyJ;AADH;AADF,IADF;AAOD,CAvGe,CAAhB;;AAyGA,IAAIE,qBAAJ,EAAa;AACXgqB,EAAAA,OAAO,CAAC/pB,WAAR,GAAsB,SAAtB;AACD;;AC5GD,IAAMirB,QAAQ,gBAAGttB,gBAAA,CAAiB,UAAC5H,KAAD,EAAuBC,IAAvB;MACxBG,WAA0EJ,MAA1EI;MAAU+N,WAAgEnO,MAAhEmO;MAAUgnB,mBAAsDn1B,MAAtDm1B;MAAkBpqB,KAAoC/K,MAApC+K;MAAY9J,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;uBACjDyzB,aAAa;MAAtC2B,sCAAAA;;AAER,SACE90B,eAAC,GAAD;AACE,IAAA,GAAG,EAAE,aAAC20B,IAAD;AACH,UAAI9mB,QAAQ,IAAIgnB,gBAAhB,EAAkC;AAChCE,QAAAA,uBAAS,CAACF,gBAAD,EAAmBF,IAAnB,CAAT;AACD;;AACDI,MAAAA,uBAAS,CAACp1B,IAAD,EAAMg1B,IAAN,CAAT;AACD,KANH;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,QAAQ,EAAE,CAAC,CARb;AASE,gCAAwBlqB,EAT1B;AAUE,IAAA,MAAM,EAAE,CAACoD,QAVX;AAWE,IAAA,EAAE,aAAWpD,EAXf;AAYE,IAAA,GAAG,EAAE9J;AAZP,KAaMZ,IAbN;AAAA,cAeG,CAAC+0B,oBAAoB,IAAIjnB,QAAzB,KAAsC/N;AAfzC,KADF;AAmBD,CAvBgB,CAAjB;;AAyBA,IAAI4J,qBAAJ,EAAa;AACXkrB,EAAAA,QAAQ,CAACjrB,WAAT,GAAuB,UAAvB;AACD;;AC3BD,IAAMqrB,SAAS,gBAAG1tB,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAwBC,GAAxB;MACzBG,WAA0CJ,MAA1CI;MAAkBa,aAAwBjB,MAAhCY;MAAuBP,qCAASL;;uBAC0ByzB,aAAa;MAA1EQ,+BAAP5mB;MAAsB8nB,kCAAAA;MAAkBpqB,oBAAAA;MAAIqpB,wBAAAA;MAAQF,6BAAAA;;AAC5D,MAAMtqB,aAAa,GAAGC,2BAAa,CAACzJ,QAAD,CAAnC;AAEA,MAAM0J,MAAM,GAAGF,aAAa,CAACG,GAAd,CAAkB,UAAC7I,KAAD,EAAQmM,KAAR;AAAA,wBAC/B7L,kBAAY,CAACN,KAAD,EAAQ;AAClBiN,MAAAA,QAAQ,EAAEimB,MAAM,GAAG/mB,KAAK,KAAK6mB,WAAb,GAA2B7mB,KAAK,KAAK4mB,aADnC;AAElBkB,MAAAA,gBAAgB,EAAhBA,gBAFkB;AAGlBpqB,MAAAA,EAAE,EAAKA,EAAL,SAAWsC;AAHK,KAAR,CADmB;AAAA,GAAlB,CAAf;AAQA,SACE/M,eAAC,GAAD;AAAK,IAAA,QAAQ,EAAE,CAAC,CAAhB;AAAmB,IAAA,GAAG,EAAEL,GAAxB;AAA6B,IAAA,GAAG,EAAEgB;AAAlC,KAAkDZ,IAAlD;AAAA,cACGyJ;AADH,KADF;AAKD,CAlBiB,CAAlB;;AAoBA,IAAIE,qBAAJ,EAAa;AACXsrB,EAAAA,SAAS,CAACrrB,WAAV,GAAwB,WAAxB;AACD;;ACtBD,IAAMsrB,IAAI,gBAAG3tB,cAAK,CAACC,UAAN,CAAiB,UAAC7H,KAAD,EAAmBC,GAAnB;MAE1BG,WAWEJ,MAXFI;MACAiL,WAUErL,MAVFqL;MACOmqB,kBASLx1B,MATFqN;MACAooB,eAQEz1B,MARFy1B;MACArB,SAOEp0B,MAPFo0B;qBAOEp0B,MANFkF;MAAAA,kCAAQ;MACRyuB,SAKE3zB,MALF2zB;MACAyB,uBAIEp1B,MAJFo1B;MACAp0B,uBAGEhB,MAHFgB;MACQC,aAENjB,MAFFY;MACGP,qCACDL;;gBAE4BqD,YAAM,CAAC,OAAOmyB,eAAP,KAA2B,WAA5B;MAArB7pB,qBAATpI;;AACR,MAAM4xB,gBAAgB,GAAG9xB,YAAM,CAAc,IAAd,CAA/B;;AAEA,MAAMqyB,eAAe,GAAG,SAAlBA,eAAkB;AACtB,QAAI,CAACtB,MAAL,EAAa;AACX,aAAOqB,YAAY,IAAI,CAAvB;AACD;;AACD,WAAOD,eAAe,IAAIC,YAAnB,IAAmC,CAA1C;AACD,GALD;;kBAO0CjwB,cAAQ,CAACkwB,eAAD;MAA3CzB;MAAe0B;;AAEtB,MAAMC,YAAY,GAAG,SAAfA,YAAe;AACnB,QAAIxB,MAAJ,EAAY;AACV,aAAOH,aAAP;AACD;;AACD,WAAOtoB,UAAU,IAAI,OAAO6pB,eAAP,KAA2B,QAAzC,GAAoDA,eAApD,GAAsEvB,aAA7E;AACD,GALD;;mBAOsCzuB,cAAQ,CAACgwB,eAAe,IAAIC,YAAnB,IAAmC,CAApC;MAAvCvB;MAAa2B;;AACpB,MAAMC,SAAS,GAAGF,YAAY,EAA9B;AACA,MAAMG,SAAS,GAAGpqB,UAAU,GAAG6pB,eAAH,GAAqBtB,WAAjD;;AAEA,MAAMG,WAAW,GAAG,SAAdA,WAAc,CAAChnB,KAAD;AAClB,QAAI,CAAC1B,UAAL,EAAiB;AACfgqB,MAAAA,gBAAgB,CAACtoB,KAAD,CAAhB;AACD;;AAED,QAAI1B,UAAU,IAAIyoB,MAAlB,EAA0B;AACxBuB,MAAAA,gBAAgB,CAACtoB,KAAD,CAAhB;AACD;;AAED,QAAI,CAAC+mB,MAAL,EAAa;AACX,UAAI/oB,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACgC,KAAD,CAAR;AACD;AACF;AACF,GAdD;;AAgBA,MAAM8mB,iBAAiB,GAAG,SAApBA,iBAAoB,CAAC9mB,KAAD;AACxB,QAAI,CAAC1B,UAAL,EAAiB;AACfkqB,MAAAA,cAAc,CAACxoB,KAAD,CAAd;AACD;;AAED,QAAI+mB,MAAJ,EAAY;AACV,UAAI/oB,QAAJ,EAAc;AACZA,QAAAA,QAAQ,CAACgC,KAAD,CAAR;AACD;AACF;AACF,GAVD;;AAYA,MAAMinB,YAAY,GAAG,SAAfA,YAAe;AACnB,QAAIa,gBAAgB,CAAC5xB,OAArB,EAA8B;AAC5B4xB,MAAAA,gBAAgB,CAAC5xB,OAAjB,CAAyBoY,KAAzB;AACD;AACF,GAJD;;AAMA,MAAM5Q,EAAE,GAAGC,WAAK,EAAhB;AAEA,MAAMmN,OAAO,GAAG;AACdpN,IAAAA,EAAE,EAAFA,EADc;AAEdsC,IAAAA,KAAK,EAAEyoB,SAFO;AAGd5B,IAAAA,WAAW,EAAE6B,SAHC;AAId5B,IAAAA,iBAAiB,EAAjBA,iBAJc;AAKdC,IAAAA,MAAM,EAANA,MALc;AAMdC,IAAAA,WAAW,EAAXA,WANc;AAOdc,IAAAA,gBAAgB,EAAhBA,gBAPc;AAQdb,IAAAA,YAAY,EAAZA,YARc;AASdpvB,IAAAA,KAAK,EAALA,KATc;AAUdyuB,IAAAA,MAAM,EAANA,MAVc;AAWdyB,IAAAA,oBAAoB,EAApBA,oBAXc;AAYdp0B,IAAAA,oBAAoB,EAApBA;AAZc,GAAhB;AAeA,SACEV,eAAC,kBAAD;AAAoB,IAAA,KAAK,EAAE6X,OAA3B;AAAA,cACE7X,eAAC,GAAD;AAAK,MAAA,GAAG,EAAEL,GAAV;AAAe,MAAA,GAAG,EAAEgB;AAApB,OAAoCZ,IAApC;AAAA,gBACGD;AADH;AADF,IADF;AAOD,CAhGY,CAAb;AAkGAm1B,IAAI,CAACtrB,WAAL,GAAmB,MAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}