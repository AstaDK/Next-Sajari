import _css from '@emotion/css';
import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';
import { forwardRefWithAs, getStylesObject } from '@sajari/react-sdk-utils';
import { Children, isValidElement, cloneElement } from 'react';
import { jsx } from '@emotion/core/jsx-runtime';
import Box from '../Box/index.esm.js';
import { useAspectRatioStyles } from './styles.esm.js';

var Component = function Component(props, ref) {
  var _props$as = props.as,
      as = _props$as === void 0 ? 'div' : _props$as,
      _props$ratio = props.ratio,
      ratio = _props$ratio === void 0 ? 16 / 9 : _props$ratio,
      children = props.children,
      _props$disableDefault = props.disableDefaultStyles,
      disableDefaultStyles = _props$disableDefault === void 0 ? false : _props$disableDefault,
      stylesProp = props.styles,
      rest = _objectWithoutPropertiesLoose(props, ["as", "ratio", "children", "disableDefaultStyles", "styles"]);

  var child;

  if (children) {
    child = Children.only(children);

    if (! /*#__PURE__*/isValidElement(child)) {
      return null;
    }
  }

  var styles = getStylesObject({
    container: useAspectRatioStyles(_extends({}, props, {
      ratio: ratio
    }))
  }, disableDefaultStyles);
  return jsx(Box, _extends({
    ref: ref,
    as: as
  }, rest, {
    css: /*#__PURE__*/_css([styles.container, stylesProp], ";label:Component;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFjNkMiLCJmaWxlIjoiaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9yd2FyZFJlZldpdGhBcywgZ2V0U3R5bGVzT2JqZWN0IH0gZnJvbSAnQHNhamFyaS9yZWFjdC1zZGstdXRpbHMnO1xyXG5pbXBvcnQgUmVhY3QsIHsgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBCb3ggZnJvbSAnLi4vQm94JztcclxuaW1wb3J0IHsgdXNlQXNwZWN0UmF0aW9TdHlsZXMgfSBmcm9tICcuL3N0eWxlcyc7XHJcbmNvbnN0IENvbXBvbmVudCA9IChwcm9wcywgcmVmKSA9PiB7XHJcbiAgICBjb25zdCB7IGFzID0gJ2RpdicsIHJhdGlvID0gMTYgLyA5LCBjaGlsZHJlbiwgZGlzYWJsZURlZmF1bHRTdHlsZXMgPSBmYWxzZSwgc3R5bGVzOiBzdHlsZXNQcm9wLCAuLi5yZXN0IH0gPSBwcm9wcztcclxuICAgIGxldCBjaGlsZDtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGNoaWxkID0gQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzT2JqZWN0KHsgY29udGFpbmVyOiB1c2VBc3BlY3RSYXRpb1N0eWxlcyh7IC4uLnByb3BzLCByYXRpbyB9KSB9LCBkaXNhYmxlRGVmYXVsdFN0eWxlcyk7XHJcbiAgICByZXR1cm4gKDxCb3ggcmVmPXtyZWZ9IGFzPXthc30gey4uLnJlc3R9IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BdfT5cbiAgICAgIHtjaGlsZCA/IGNsb25lRWxlbWVudChjaGlsZCkgOiBudWxsfVxuICAgIDwvQm94Pik7XHJcbn07XHJcbmNvbnN0IEFzcGVjdFJhdGlvID0gZm9yd2FyZFJlZldpdGhBcyhDb21wb25lbnQpO1xyXG5leHBvcnQgZGVmYXVsdCBBc3BlY3RSYXRpbztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanN4Lm1hcCJdfQ== */")),
    children: child ? /*#__PURE__*/cloneElement(child) : null
  }));
};

var AspectRatio = /*#__PURE__*/forwardRefWithAs(Component);

export default AspectRatio;
//# sourceMappingURL=index.esm.js.map
