import _css from '@emotion/css';
import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';
import { getStylesObject, __DEV__ } from '@sajari/react-sdk-utils';
import { forwardRef, useState, useRef } from 'react';
import { jsxs, jsx } from '@emotion/core/jsx-runtime';
import Box from '../Box/index.esm.js';
import { useId } from '@react-aria/utils';
import Label from '../Label/index.esm.js';
import useRadioStyles from './styles.esm.js';

var Radio = /*#__PURE__*/forwardRef(function (props, ref) {
  var _ref;

  var _props$id = props.id,
      id = _props$id === void 0 ? "radio-" + useId() : _props$id,
      name = props.name,
      value = props.value,
      defaultChecked = props.defaultChecked,
      checked = props.checked,
      disabled = props.disabled,
      invalid = props.invalid,
      readOnly = props.readOnly,
      onChange = props.onChange,
      onBlur = props.onBlur,
      onFocus = props.onFocus,
      ariaLabel = props['aria-label'],
      ariaLabelledBy = props['aria-labelledby'],
      children = props.children,
      labelClassName = props.labelClassName,
      stylesProp = props.styles,
      _props$disableDefault = props.disableDefaultStyles,
      disableDefaultStyles = _props$disableDefault === void 0 ? false : _props$disableDefault,
      rest = _objectWithoutPropertiesLoose(props, ["id", "name", "value", "color", "defaultChecked", "checked", "disabled", "invalid", "readOnly", "onChange", "onBlur", "onFocus", "aria-label", "aria-labelledby", "children", "labelClassName", "styles", "disableDefaultStyles"]);

  var _React$useState = useState(defaultChecked != null ? defaultChecked : false),
      privateChecked = _React$useState[0],
      setPrivateChecked = _React$useState[1];

  var _React$useRef = useRef(typeof checked !== 'undefined'),
      controlled = _React$useRef.current;

  var internalChecked = (_ref = controlled ? checked : privateChecked) != null ? _ref : false;

  var _useRadioStyles = useRadioStyles(props),
      radioStyles = _useRadioStyles.styles,
      focusProps = _useRadioStyles.focusProps;

  var styles = getStylesObject(radioStyles, disableDefaultStyles);

  var internalChange = function internalChange(event) {
    if (!controlled) {
      setPrivateChecked(event.target.checked);
    }

    if (onChange) {
      onChange(event);
    }
  };

  var comp = jsxs(Box, _extends({
    css: /*#__PURE__*/_css([styles.componentWrapper, !children && stylesProp], ";label:comp;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxQnVCIiwiZmlsZSI6ImluZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJlYWN0LWFyaWEvdXRpbHMnO1xyXG5pbXBvcnQgeyBfX0RFVl9fLCBnZXRTdHlsZXNPYmplY3QgfSBmcm9tICdAc2FqYXJpL3JlYWN0LXNkay11dGlscyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJveCBmcm9tICcuLi9Cb3gnO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnLi4vTGFiZWwnO1xyXG5pbXBvcnQgdXNlUmFkaW9TdHlsZXMgZnJvbSAnLi9zdHlsZXMnO1xyXG5jb25zdCBSYWRpbyA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgPSBgcmFkaW8tJHt1c2VJZCgpfWAsIG5hbWUsIHZhbHVlLCBjb2xvciwgZGVmYXVsdENoZWNrZWQsIGNoZWNrZWQsIGRpc2FibGVkLCBpbnZhbGlkLCByZWFkT25seSwgb25DaGFuZ2UsIG9uQmx1ciwgb25Gb2N1cywgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsICdhcmlhLWxhYmVsbGVkYnknOiBhcmlhTGFiZWxsZWRCeSwgY2hpbGRyZW4sIGxhYmVsQ2xhc3NOYW1lLCBzdHlsZXM6IHN0eWxlc1Byb3AsIGRpc2FibGVEZWZhdWx0U3R5bGVzID0gZmFsc2UsIC4uLnJlc3QgfSA9IHByb3BzO1xyXG4gICAgY29uc3QgW3ByaXZhdGVDaGVja2VkLCBzZXRQcml2YXRlQ2hlY2tlZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0Q2hlY2tlZCA/PyBmYWxzZSk7XHJcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGNvbnRyb2xsZWQgfSA9IFJlYWN0LnVzZVJlZih0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgY29uc3QgaW50ZXJuYWxDaGVja2VkID0gKGNvbnRyb2xsZWQgPyBjaGVja2VkIDogcHJpdmF0ZUNoZWNrZWQpID8/IGZhbHNlO1xyXG4gICAgY29uc3QgeyBzdHlsZXM6IHJhZGlvU3R5bGVzLCBmb2N1c1Byb3BzIH0gPSB1c2VSYWRpb1N0eWxlcyhwcm9wcyk7XHJcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRTdHlsZXNPYmplY3QocmFkaW9TdHlsZXMsIGRpc2FibGVEZWZhdWx0U3R5bGVzKTtcclxuICAgIGNvbnN0IGludGVybmFsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb250cm9sbGVkKSB7XHJcbiAgICAgICAgICAgIHNldFByaXZhdGVDaGVja2VkKGV2ZW50LnRhcmdldC5jaGVja2VkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgY29tcCA9ICg8Qm94IGNzcz17W3N0eWxlcy5jb21wb25lbnRXcmFwcGVyLCAhY2hpbGRyZW4gJiYgc3R5bGVzUHJvcF19IHsuLi4oIWNoaWxkcmVuID8gcmVzdCA6IHt9KX0+XG4gICAgICAmIzgyMDM7XG4gICAgICA8Qm94IGFzPVwic3BhblwiIGNzcz17c3R5bGVzLmlucHV0V3JhcHBlcn0+XG4gICAgICAgIDxpbnB1dCByZWY9e3JlZn0gdHlwZT1cInJhZGlvXCIgaWQ9e2lkfSBuYW1lPXtuYW1lfSB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtpbnRlcm5hbENoYW5nZX0gb25CbHVyPXtvbkJsdXJ9IG9uRm9jdXM9e29uRm9jdXN9IGNoZWNrZWQ9e2ludGVybmFsQ2hlY2tlZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSByZWFkT25seT17cmVhZE9ubHl9IGFyaWEtbGFiZWw9e2FyaWFMYWJlbH0gYXJpYS1sYWJlbGxlZGJ5PXthcmlhTGFiZWxsZWRCeX0gYXJpYS1pbnZhbGlkPXtpbnZhbGlkfSBhcmlhLWNoZWNrZWQ9e2ludGVybmFsQ2hlY2tlZH0gY3NzPXtzdHlsZXMuaW5wdXR9IHsuLi5mb2N1c1Byb3BzfS8+XG4gICAgICA8L0JveD5cbiAgICA8L0JveD4pO1xyXG4gICAgaWYgKCFjaGlsZHJlbikge1xyXG4gICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICg8Qm94IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BdfSB7Li4ucmVzdH0+XG4gICAgICB7Y29tcH1cblxuICAgICAgPExhYmVsIGh0bWxGb3I9e2lkfSBjc3M9e3N0eWxlcy5sYWJlbH0gY2xhc3NOYW1lPXtsYWJlbENsYXNzTmFtZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTGFiZWw+XG4gICAgPC9Cb3g+KTtcclxufSk7XHJcbmlmIChfX0RFVl9fKSB7XHJcbiAgICBSYWRpby5kaXNwbGF5TmFtZSA9ICdSYWRpbyc7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzeC5tYXAiXX0= */"))
  }, !children ? rest : {}, {
    children: ["\u200B", jsx(Box, {
      as: "span",
      css: styles.inputWrapper,
      children: jsx("input", _extends({
        ref: ref,
        type: "radio",
        id: id,
        name: name,
        value: value,
        onChange: internalChange,
        onBlur: onBlur,
        onFocus: onFocus,
        checked: internalChecked,
        disabled: disabled,
        readOnly: readOnly,
        "aria-label": ariaLabel,
        "aria-labelledby": ariaLabelledBy,
        "aria-invalid": invalid,
        "aria-checked": internalChecked,
        css: styles.input
      }, focusProps))
    })]
  }));

  if (!children) {
    return comp;
  }

  return jsxs(Box, _extends({
    css: /*#__PURE__*/_css([styles.container, stylesProp], ";label:Radio;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4QmlCIiwiZmlsZSI6ImluZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUlkIH0gZnJvbSAnQHJlYWN0LWFyaWEvdXRpbHMnO1xyXG5pbXBvcnQgeyBfX0RFVl9fLCBnZXRTdHlsZXNPYmplY3QgfSBmcm9tICdAc2FqYXJpL3JlYWN0LXNkay11dGlscyc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJveCBmcm9tICcuLi9Cb3gnO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnLi4vTGFiZWwnO1xyXG5pbXBvcnQgdXNlUmFkaW9TdHlsZXMgZnJvbSAnLi9zdHlsZXMnO1xyXG5jb25zdCBSYWRpbyA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgPSBgcmFkaW8tJHt1c2VJZCgpfWAsIG5hbWUsIHZhbHVlLCBjb2xvciwgZGVmYXVsdENoZWNrZWQsIGNoZWNrZWQsIGRpc2FibGVkLCBpbnZhbGlkLCByZWFkT25seSwgb25DaGFuZ2UsIG9uQmx1ciwgb25Gb2N1cywgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsICdhcmlhLWxhYmVsbGVkYnknOiBhcmlhTGFiZWxsZWRCeSwgY2hpbGRyZW4sIGxhYmVsQ2xhc3NOYW1lLCBzdHlsZXM6IHN0eWxlc1Byb3AsIGRpc2FibGVEZWZhdWx0U3R5bGVzID0gZmFsc2UsIC4uLnJlc3QgfSA9IHByb3BzO1xyXG4gICAgY29uc3QgW3ByaXZhdGVDaGVja2VkLCBzZXRQcml2YXRlQ2hlY2tlZF0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0Q2hlY2tlZCA/PyBmYWxzZSk7XHJcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGNvbnRyb2xsZWQgfSA9IFJlYWN0LnVzZVJlZih0eXBlb2YgY2hlY2tlZCAhPT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgY29uc3QgaW50ZXJuYWxDaGVja2VkID0gKGNvbnRyb2xsZWQgPyBjaGVja2VkIDogcHJpdmF0ZUNoZWNrZWQpID8/IGZhbHNlO1xyXG4gICAgY29uc3QgeyBzdHlsZXM6IHJhZGlvU3R5bGVzLCBmb2N1c1Byb3BzIH0gPSB1c2VSYWRpb1N0eWxlcyhwcm9wcyk7XHJcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRTdHlsZXNPYmplY3QocmFkaW9TdHlsZXMsIGRpc2FibGVEZWZhdWx0U3R5bGVzKTtcclxuICAgIGNvbnN0IGludGVybmFsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb250cm9sbGVkKSB7XHJcbiAgICAgICAgICAgIHNldFByaXZhdGVDaGVja2VkKGV2ZW50LnRhcmdldC5jaGVja2VkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgY29tcCA9ICg8Qm94IGNzcz17W3N0eWxlcy5jb21wb25lbnRXcmFwcGVyLCAhY2hpbGRyZW4gJiYgc3R5bGVzUHJvcF19IHsuLi4oIWNoaWxkcmVuID8gcmVzdCA6IHt9KX0+XG4gICAgICAmIzgyMDM7XG4gICAgICA8Qm94IGFzPVwic3BhblwiIGNzcz17c3R5bGVzLmlucHV0V3JhcHBlcn0+XG4gICAgICAgIDxpbnB1dCByZWY9e3JlZn0gdHlwZT1cInJhZGlvXCIgaWQ9e2lkfSBuYW1lPXtuYW1lfSB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtpbnRlcm5hbENoYW5nZX0gb25CbHVyPXtvbkJsdXJ9IG9uRm9jdXM9e29uRm9jdXN9IGNoZWNrZWQ9e2ludGVybmFsQ2hlY2tlZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSByZWFkT25seT17cmVhZE9ubHl9IGFyaWEtbGFiZWw9e2FyaWFMYWJlbH0gYXJpYS1sYWJlbGxlZGJ5PXthcmlhTGFiZWxsZWRCeX0gYXJpYS1pbnZhbGlkPXtpbnZhbGlkfSBhcmlhLWNoZWNrZWQ9e2ludGVybmFsQ2hlY2tlZH0gY3NzPXtzdHlsZXMuaW5wdXR9IHsuLi5mb2N1c1Byb3BzfS8+XG4gICAgICA8L0JveD5cbiAgICA8L0JveD4pO1xyXG4gICAgaWYgKCFjaGlsZHJlbikge1xyXG4gICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICg8Qm94IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BdfSB7Li4ucmVzdH0+XG4gICAgICB7Y29tcH1cblxuICAgICAgPExhYmVsIGh0bWxGb3I9e2lkfSBjc3M9e3N0eWxlcy5sYWJlbH0gY2xhc3NOYW1lPXtsYWJlbENsYXNzTmFtZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTGFiZWw+XG4gICAgPC9Cb3g+KTtcclxufSk7XHJcbmlmIChfX0RFVl9fKSB7XHJcbiAgICBSYWRpby5kaXNwbGF5TmFtZSA9ICdSYWRpbyc7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzeC5tYXAiXX0= */"))
  }, rest, {
    children: [comp, jsx(Label, {
      htmlFor: id,
      css: styles.label,
      className: labelClassName,
      children: children
    })]
  }));
});

if (__DEV__) {
  Radio.displayName = 'Radio';
}

export default Radio;
//# sourceMappingURL=index.esm.js.map
