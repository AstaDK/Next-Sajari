{"version":3,"file":"index.esm.js","sources":["../../src/Swatch/index.tsx"],"sourcesContent":["import { __DEV__, cleanChildren, getStylesObject } from '@sajari/react-sdk-utils';\nimport * as React from 'react';\nimport tw from 'twin.macro';\n\nimport Box from '../Box';\nimport { colorKeys } from './colors';\nimport { Color } from './components/Color';\nimport SwatchContextProvider from './context';\nimport { SwatchProps } from './types';\n\nconst Swatch = ({\n  children,\n  checkedColors = [],\n  onChange = () => {},\n  styles: stylesProp,\n  disableDefaultStyles = false,\n  colorCheckedClassName = '',\n  colorClassName = '',\n  ...rest\n}: SwatchProps) => {\n  const styles = getStylesObject({ container: tw`flex flex-wrap -mt-2 -ml-2` }, disableDefaultStyles);\n  const validChildren = cleanChildren(children);\n  const setState = React.useCallback(\n    (color: string) => {\n      if (checkedColors.includes(color)) {\n        onChange(checkedColors.filter((c) => c !== color));\n      } else {\n        onChange([...checkedColors, color]);\n      }\n    },\n    [JSON.stringify(checkedColors)],\n  );\n\n  return (\n    <SwatchContextProvider value={{ state: checkedColors, setState, disableDefaultStyles }}>\n      <Box css={[styles.container, stylesProp]} {...rest}>\n        {validChildren.map((child) =>\n          React.cloneElement(child, {\n            className: colorClassName,\n            checkedClassName: colorCheckedClassName,\n            ...child.props,\n          }),\n        )}\n      </Box>\n    </SwatchContextProvider>\n  );\n};\n\nif (__DEV__) {\n  Swatch.displayName = 'Swatch';\n}\n\nSwatch.Color = Color;\nSwatch.colorKeys = colorKeys;\nexport default Swatch;\nexport type { SwatchProps };\n"],"names":["Swatch","children","checkedColors","onChange","stylesProp","styles","disableDefaultStyles","colorCheckedClassName","colorClassName","rest","getStylesObject","container","validChildren","cleanChildren","setState","React","color","includes","filter","c","JSON","stringify","_jsx","state","map","child","className","checkedClassName","props","__DEV__","displayName","Color","colorKeys"],"mappings":";;;;;;;;;;AAUA,IAAMA,MAAM,GAAG,SAATA,MAAS;MACbC,gBAAAA;gCACAC;MAAAA,gDAAgB;2BAChBC;MAAAA,sCAAW;MACHC,kBAARC;mCACAC;MAAAA,0DAAuB;mCACvBC;MAAAA,2DAAwB;iCACxBC;MAAAA,kDAAiB;MACdC;;AAEH,MAAMJ,MAAM,GAAGK,eAAe,CAAC;AAAEC,IAAAA,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAX,GAAD,EAAgDL,oBAAhD,CAA9B;AACA,MAAMM,aAAa,GAAGC,aAAa,CAACZ,QAAD,CAAnC;AACA,MAAMa,QAAQ,GAAGC,WAAA,CACf,UAACC,KAAD;AACE,QAAId,aAAa,CAACe,QAAd,CAAuBD,KAAvB,CAAJ,EAAmC;AACjCb,MAAAA,QAAQ,CAACD,aAAa,CAACgB,MAAd,CAAqB,UAACC,CAAD;AAAA,eAAOA,CAAC,KAAKH,KAAb;AAAA,OAArB,CAAD,CAAR;AACD,KAFD,MAEO;AACLb,MAAAA,QAAQ,WAAKD,aAAL,GAAoBc,KAApB,GAAR;AACD;AACF,GAPc,EAQf,CAACI,IAAI,CAACC,SAAL,CAAenB,aAAf,CAAD,CARe,CAAjB;AAWA,SACEoB,IAAC,qBAAD;AAAuB,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAErB,aAAT;AAAwBY,MAAAA,QAAQ,EAARA,QAAxB;AAAkCR,MAAAA,oBAAoB,EAApBA;AAAlC,KAA9B;AAAA,cACEgB,IAAC,GAAD;AAAK,MAAA,GAAG,oBAAE,CAACjB,MAAM,CAACM,SAAR,EAAmBP,UAAnB,CAAF;AAAR,OAA8CK,IAA9C;AAAA,gBACGG,aAAa,CAACY,GAAd,CAAkB,UAACC,KAAD;AAAA,4BACjBV,YAAA,CAAmBU,KAAnB;AACEC,UAAAA,SAAS,EAAElB,cADb;AAEEmB,UAAAA,gBAAgB,EAAEpB;AAFpB,WAGKkB,KAAK,CAACG,KAHX,EADiB;AAAA,OAAlB;AADH;AADF,IADF;AAaD,CApCD;;AAsCA,IAAIC,OAAJ,EAAa;AACX7B,EAAAA,MAAM,CAAC8B,WAAP,GAAqB,QAArB;AACD;;AAED9B,MAAM,CAAC+B,KAAP,GAAeA,KAAf;AACA/B,MAAM,CAACgC,SAAP,GAAmBA,SAAnB;;;;"}