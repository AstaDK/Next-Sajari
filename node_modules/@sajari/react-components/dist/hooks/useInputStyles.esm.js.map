{"version":3,"file":"useInputStyles.esm.js","sources":["../../src/hooks/useInputStyles.ts"],"sourcesContent":["import { css } from '@emotion/core';\nimport { useTheme } from '@sajari/react-sdk-utils';\nimport Color from 'color';\nimport tw, { TwStyle } from 'twin.macro';\n\nimport useFocusRingStyles from './useFocusRingStyles';\n\nexport interface UseInputStyleProps {\n  disabled?: boolean;\n  invalid?: boolean;\n  readOnly?: boolean;\n  indeterminate?: boolean;\n  type: 'select' | 'radio' | 'checkbox';\n  size?: 'sm' | 'md' | 'lg';\n}\n\nexport default function useInputStyles(props: UseInputStyleProps) {\n  const { disabled, indeterminate, invalid, readOnly, size, type } = props;\n  const { focusRingStyles, focusProps } = useFocusRingStyles({\n    disabled,\n    invalid,\n    rounded: type === 'radio' ? 'full' : undefined,\n  });\n  const theme = useTheme();\n  const fill = encodeURIComponent(new Color(theme.color.primary.text).hex());\n  const styles: (TwStyle | string)[] = [];\n\n  styles.push(\n    tw`leading-normal text-gray-600 transition-all duration-150 bg-white border border-gray-200 border-solid outline-none font-inherit invalid:(bg-white border-gray-200 outline-none shadow-none)`,\n  );\n\n  // Map the size to padding and font size\n  if (!['radio', 'checkbox'].includes(type)) {\n    switch (size) {\n      case 'lg':\n        styles.push(tw`px-5 py-3 text-lg`);\n        break;\n\n      case 'sm':\n        styles.push(tw`px-3 py-1 text-sm`);\n        break;\n\n      default:\n      case 'md':\n        styles.push(tw`px-4 py-2 text-base`);\n        break;\n    }\n  }\n\n  // Cancel out the form controls plugin styles since we use the ring\n  styles.push(tw`focus:outline-none focus:shadow-none focus:border-gray-200`);\n\n  if (disabled || readOnly) {\n    styles.push(tw`cursor-not-allowed`);\n  }\n\n  if (disabled) {\n    styles.push(tw`text-gray-400 bg-gray-100 border-gray-200`);\n\n    if (['radio', 'checkbox'].includes(type)) {\n      styles.push(tw`checked:bg-gray-400 checked:border-gray-400`);\n    }\n  }\n\n  if (invalid) {\n    styles.push(tw`border-red-500 bg-red-50 focus:border-red-500`);\n\n    if (['radio', 'checkbox'].includes(type)) {\n      styles.push(tw`bg-red-100 checked:bg-red-500`);\n    }\n  }\n\n  if (['radio', 'checkbox'].includes(type)) {\n    styles.push(tw`flex-none w-4 h-4 p-0 m-0 text-blue-500 focus:outline-none`, `color: ${theme.color.primary.base};`);\n\n    if (type === 'checkbox') {\n      if (indeterminate) {\n        styles.push(tw`border-transparent`, `background-color: ${theme.color.primary.base};`);\n      } else {\n        styles.push(\n          `&:checked {\n            background-image: url(\"data:image/svg+xml,%3Csvg fill='${fill}' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.9919558 12.0005941c-.26547704 0-.52006014-.1054507-.7077524-.293l-2.00319264-2.00000003c-.37937552-.39237889-.37394992-1.01608478.01219439-1.40181858.3861443-.38573379 1.01051394-.39115363 1.40331041-.01218142l1.20234127 1.2 3.30864357-5.107c.3394637-.43630494.9687248-.51510281 1.4054941-.17599998.4367692.33910283.515651.96769503.1761873 1.40399998l-4.00638527 6.00000003c-.1761023.2273124-.44160568.3679379-.72877475.386z'/%3E%3C/svg%3E\");\n          `,\n        );\n      }\n    } else {\n      styles.push(\n        `&:checked {\n          background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='${fill}' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\");\n        `,\n      );\n    }\n  }\n\n  if (type === 'select') {\n    styles.push(tw`block w-full pr-10 font-normal text-left truncate rounded-md`);\n  }\n\n  return { styles: css(styles), focusRingStyles, focusProps };\n}\n"],"names":["useInputStyles","props","disabled","indeterminate","invalid","readOnly","size","type","useFocusRingStyles","rounded","undefined","focusRingStyles","focusProps","theme","useTheme","fill","encodeURIComponent","Color","color","primary","text","hex","styles","push","includes","base","css"],"mappings":"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"}