import _css from '@emotion/css';
import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';
import { mergeRefs, getStylesObject } from '@sajari/react-sdk-utils';
import React__default, { useRef } from 'react';
import { jsx } from '@emotion/core/jsx-runtime';
import Box from '../Box/index.esm.js';
import { useButton } from '@react-aria/button';
import { useHover, useFocus } from '@react-aria/interactions';
import { mergeProps } from '@react-aria/utils';
import classnames from 'classnames';
import useButtonStyles from './styles.esm.js';

var Button = /*#__PURE__*/React__default.forwardRef(function (props, ref) {
  var _classnames;

  var _props$loading = props.loading,
      loading = _props$loading === void 0 ? false : _props$loading,
      _props$as = props.as,
      as = _props$as === void 0 ? 'button' : _props$as,
      _props$appearance = props.appearance,
      appearance = _props$appearance === void 0 ? 'default' : _props$appearance,
      _props$size = props.size,
      size = _props$size === void 0 ? 'md' : _props$size,
      _props$spacing = props.spacing,
      spacing = _props$spacing === void 0 ? 'default' : _props$spacing,
      disabled = props.disabled,
      _props$fullWidth = props.fullWidth,
      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,
      onClick = props.onClick,
      children = props.children,
      className = props.className,
      stylesProps = props.styles,
      _props$pressedClassNa = props.pressedClassName,
      pressedClassName = _props$pressedClassNa === void 0 ? '' : _props$pressedClassNa,
      _props$disableDefault = props.disableDefaultStyles,
      disableDefaultStyles = _props$disableDefault === void 0 ? false : _props$disableDefault,
      rest = _objectWithoutPropertiesLoose(props, ["loading", "as", "appearance", "size", "spacing", "disabled", "fullWidth", "onClick", "children", "className", "styles", "pressedClassName", "disableDefaultStyles"]);

  var _React$useState = React__default.useState(false),
      focused = _React$useState[0],
      setFocused = _React$useState[1];

  var buttonRef = useRef(null);
  var ownRef = mergeRefs(buttonRef, ref);

  var _useButton = useButton(_extends({}, rest, {
    isDisabled: disabled,
    elementType: as,
    onPress: onClick
  }), buttonRef),
      buttonProps = _useButton.buttonProps,
      pressed = _useButton.isPressed;

  var _useHover = useHover({
    isDisabled: disabled
  }),
      hoverProps = _useHover.hoverProps,
      hovered = _useHover.isHovered;

  var _useFocus = useFocus({
    isDisabled: disabled,
    onFocus: function onFocus() {
      return setFocused(true);
    },
    onBlur: function onBlur() {
      return setFocused(false);
    }
  }),
      focusProps = _useFocus.focusProps;

  var _useButtonStyles = useButtonStyles({
    pressed: pressed,
    appearance: appearance,
    disabled: disabled,
    fullWidth: fullWidth,
    loading: loading,
    size: size,
    spacing: spacing,
    focused: focused,
    hovered: hovered
  }),
      containerStyles = _useButtonStyles.styles,
      focusRingProps = _useButtonStyles.focusRingProps;

  var customProps = mergeProps(buttonProps, focusProps, hoverProps, focusRingProps);
  var styles = getStylesObject({
    container: containerStyles
  }, disableDefaultStyles);
  return jsx(Box, _extends({
    as: as,
    ref: ownRef
  }, customProps, {
    css: /*#__PURE__*/_css([styles.container, stylesProps], ";label:Button;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQ3VEIiwiZmlsZSI6ImluZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUJ1dHRvbiB9IGZyb20gJ0ByZWFjdC1hcmlhL2J1dHRvbic7XHJcbmltcG9ydCB7IHVzZUZvY3VzLCB1c2VIb3ZlciB9IGZyb20gJ0ByZWFjdC1hcmlhL2ludGVyYWN0aW9ucyc7XHJcbmltcG9ydCB7IG1lcmdlUHJvcHMgfSBmcm9tICdAcmVhY3QtYXJpYS91dGlscyc7XHJcbmltcG9ydCB7IGdldFN0eWxlc09iamVjdCwgbWVyZ2VSZWZzIH0gZnJvbSAnQHNhamFyaS9yZWFjdC1zZGstdXRpbHMnO1xyXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEJveCBmcm9tICcuLi9Cb3gnO1xyXG5pbXBvcnQgdXNlQnV0dG9uU3R5bGVzIGZyb20gJy4vc3R5bGVzJztcclxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xyXG4gICAgY29uc3QgeyBsb2FkaW5nID0gZmFsc2UsIGFzID0gJ2J1dHRvbicsIGFwcGVhcmFuY2UgPSAnZGVmYXVsdCcsIHNpemUgPSAnbWQnLCBzcGFjaW5nID0gJ2RlZmF1bHQnLCBkaXNhYmxlZCwgZnVsbFdpZHRoID0gZmFsc2UsIG9uQ2xpY2ssIGNoaWxkcmVuLCBjbGFzc05hbWUsIHN0eWxlczogc3R5bGVzUHJvcHMsIHByZXNzZWRDbGFzc05hbWUgPSAnJywgZGlzYWJsZURlZmF1bHRTdHlsZXMgPSBmYWxzZSwgLi4ucmVzdCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBbZm9jdXNlZCwgc2V0Rm9jdXNlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBidXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBvd25SZWYgPSBtZXJnZVJlZnMoYnV0dG9uUmVmLCByZWYpO1xyXG4gICAgY29uc3QgeyBidXR0b25Qcm9wcywgaXNQcmVzc2VkOiBwcmVzc2VkIH0gPSB1c2VCdXR0b24oeyAuLi5yZXN0LCBpc0Rpc2FibGVkOiBkaXNhYmxlZCwgZWxlbWVudFR5cGU6IGFzLCBvblByZXNzOiBvbkNsaWNrIH0sIGJ1dHRvblJlZik7XHJcbiAgICBjb25zdCB7IGhvdmVyUHJvcHMsIGlzSG92ZXJlZDogaG92ZXJlZCB9ID0gdXNlSG92ZXIoe1xyXG4gICAgICAgIGlzRGlzYWJsZWQ6IGRpc2FibGVkLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB7IGZvY3VzUHJvcHMgfSA9IHVzZUZvY3VzKHtcclxuICAgICAgICBpc0Rpc2FibGVkOiBkaXNhYmxlZCxcclxuICAgICAgICBvbkZvY3VzOiAoKSA9PiBzZXRGb2N1c2VkKHRydWUpLFxyXG4gICAgICAgIG9uQmx1cjogKCkgPT4gc2V0Rm9jdXNlZChmYWxzZSksXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHsgc3R5bGVzOiBjb250YWluZXJTdHlsZXMsIGZvY3VzUmluZ1Byb3BzIH0gPSB1c2VCdXR0b25TdHlsZXMoe1xyXG4gICAgICAgIHByZXNzZWQsXHJcbiAgICAgICAgYXBwZWFyYW5jZSxcclxuICAgICAgICBkaXNhYmxlZCxcclxuICAgICAgICBmdWxsV2lkdGgsXHJcbiAgICAgICAgbG9hZGluZyxcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHNwYWNpbmcsXHJcbiAgICAgICAgZm9jdXNlZCxcclxuICAgICAgICBob3ZlcmVkLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjdXN0b21Qcm9wcyA9IG1lcmdlUHJvcHMoYnV0dG9uUHJvcHMsIGZvY3VzUHJvcHMsIGhvdmVyUHJvcHMsIGZvY3VzUmluZ1Byb3BzKTtcclxuICAgIGNvbnN0IHN0eWxlcyA9IGdldFN0eWxlc09iamVjdCh7IGNvbnRhaW5lcjogY29udGFpbmVyU3R5bGVzIH0sIGRpc2FibGVEZWZhdWx0U3R5bGVzKTtcclxuICAgIHJldHVybiAoPEJveCBhcz17YXN9IHJlZj17b3duUmVmfSB7Li4uY3VzdG9tUHJvcHN9IGNzcz17W3N0eWxlcy5jb250YWluZXIsIHN0eWxlc1Byb3BzXX0gY2xhc3NOYW1lPXtjbGFzc25hbWVzKGNsYXNzTmFtZSwge1xyXG4gICAgICAgIFtwcmVzc2VkQ2xhc3NOYW1lXTogcHJlc3NlZCxcclxuICAgIH0pfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0JveD4pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qc3gubWFwIl19 */")),
    className: classnames(className, (_classnames = {}, _classnames[pressedClassName] = pressed, _classnames)),
    children: children
  }));
});

export default Button;
//# sourceMappingURL=index.esm.js.map
